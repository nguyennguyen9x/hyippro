window.__require=function e(t,s,o){function n(r,a){if(!s[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var d=s[r]={exports:{}};t[r][0].call(d.exports,function(e){return n(t[r][1][e]||e)},d,d.exports,e,t,s,o)}return s[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<o.length;r++)n(o[r]);return n}({BackgroundScaler:[function(e,t,s){"use strict";cc._RF.push(t,"3449etwP65PJqiB1MHTP1E3","BackgroundScaler");var o=this&&this.__decorate||function(e,t,s,o){var n,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(i<3?n(r):i>3?n(t,s,r):n(t,s))||r);return i>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const{ccclass:n,property:i}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.designResolution=new cc.Size(720,1280),this.fitX=!1,this.fitY=!1,this.lastWitdh=0,this.lastHeight=0,this.canvas=null}start(){this.canvas=this.getCanvas(),this.updateSize()}update(e){this.updateSize()}updateSize(){var e=cc.view.getFrameSize();if(this.lastWitdh!==e.width||this.lastHeight!==e.height)if(this.lastWitdh=e.width,this.lastHeight=e.height,null!=this.canvas&&this.fitX&&!this.fitY)this.node.scaleX=this.canvas.designResolution.width/this.designResolution.width;else if(null!=this.canvas&&this.fitY&&!this.fitX)this.node.scaleY=this.canvas.designResolution.height/this.designResolution.height;else{var t=e.width/e.height,s=this.designResolution.width/this.designResolution.height;this.designResolution.width/this.designResolution.height>e.width/e.height?this.node.setScale(s/t):this.node.setScale(t/s)}}getCanvas(e=null){if(null==e&&(e=this.node),null!=e.parent){let t=e.parent.getComponent(cc.Canvas);return null!=t?t:this.getCanvas(e.parent)}return null}};o([i],r.prototype,"designResolution",void 0),o([i],r.prototype,"fitX",void 0),o([i],r.prototype,"fitY",void 0),r=o([n],r),s.default=r,cc._RF.pop()},{}],LoadingController:[function(e,t,s){"use strict";cc._RF.push(t,"7fef7cAAapBiKsNOFgvVVaC","LoadingController");var o=this&&this.__decorate||function(e,t,s,o){var n,i=arguments.length,r=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,s):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(i<3?n(r):i>3?n(t,s,r):n(t,s))||r);return i>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const{ccclass:n,property:i}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.lblStatus=null,this.fireWorks=null}start(){cc.sys.isNative?this.getRemoteConfig():this.alreadyUpToDate();let e=(new Date).getMonth();0!==e&&1!==e||(this.fireWorks.active=!0,this.fireWorks.getComponent(sp.Skeleton).setAnimation(0,"animation",!0))}getRemoteConfig(){let e=this;if(this.lblStatus.string="\u0110ang t\u1ea3i ...",cc.sys.isNative){let t="https://hzcdzdx59b.execute-api.ap-southeast-1.amazonaws.com/update/",s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){var t=JSON.parse(s.responseText);console.log(JSON.stringify(t)),t.hasOwnProperty("is_ud")&&t.is_ud?e.getRemoteVersion(t.remote_url):e.alreadyUpToDate()}else console.log("cfg err:",s.status,s.statusText,s.responseText)},s.onerror=function(){e.alreadyUpToDate()},s.ontimeout=function(){e.alreadyUpToDate()},s.open("POST",t,!0),s.setRequestHeader("Content-type","application/json"),s.send()}else this.alreadyUpToDate()}getRemoteVersion(e){let t=this,s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status){let e=JSON.parse(s.responseText),o=e.mainbundle,n=e.mainscene,i=e.url,r=e[o];if(!i||""===i||!r||""===r)return void t.alreadyUpToDate();cc.sys.localStorage.setItem("version",JSON.stringify(e)),cc.assetManager.loadBundle(i+o,{version:r},(e,s)=>{e?t.sendLogError("Load bundle error",i+o,JSON.stringify(e)):s.loadScene(n,(e,s)=>{t.lblStatus.string="\u0110ang t\u1ea3i..."+Math.round(e/s*100)+"%"},(s,o)=>{s?t.sendLogError("Load scene error",n,JSON.stringify(e)):cc.director.runScene(o)})})}else t.alreadyUpToDate()},s.onerror=function(){t.alreadyUpToDate()},s.ontimeout=function(){t.alreadyUpToDate()},s.open("GET",e,!0),s.send()}alreadyUpToDate(){this.lblStatus.string="\u0110ang t\u1ea3i...0%",cc.assetManager.loadBundle("maingame",(e,t)=>{e?this.sendLogError("Load bundle error","maingame",JSON.stringify(e)):t.loadScene("Lobby",(e,t)=>{this.lblStatus.string="\u0110ang t\u1ea3i..."+Math.round(e/t*100)+"%"},(t,s)=>{t?this.sendLogError("Load scene error","Lobby",JSON.stringify(e)):cc.director.runScene(s)})})}getWebVersion(){return window.location.pathname.match(/\d+/)[0].split("").join(".")}sendLogError(e,t,s){var o={c:6017,name:e,service:t,message:s,os:cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS?"ios":cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?"android":"web",osVersion:cc.sys.osVersion,client:cc.sys.isNative?JSON.parse(cc.sys.localStorage.getItem("version")).provider:"web",version:cc.sys.isNative?JSON.parse(cc.sys.localStorage.getItem("version")).version:this.getWebVersion(),nn:"No nickname in loading"},n=[];for(var i in o)o.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(o[i]));var r=n.join("&"),a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&(200===a.status?cc.log("Send log success"):cc.log("Send log error"))},a.open("GET","https://portal.nhanhnhanhlen.com/api?"+r,!0),a.send()}};o([i(cc.Label)],r.prototype,"lblStatus",void 0),o([i(cc.Node)],r.prototype,"fireWorks",void 0),r=o([n],r),s.default=r,cc._RF.pop()},{}],use_reversed_rotateTo:[function(e,t){"use strict";cc._RF.push(t,"c8780wu9f5DpIMOyB+Tk+tk","use_reversed_rotateTo"),cc.RotateTo._reverse=!0,cc._RF.pop()},{}]},{},["BackgroundScaler","LoadingController","use_reversed_rotateTo"]);