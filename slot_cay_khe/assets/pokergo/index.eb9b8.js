window.__require=function t(e,i,s){function n(c,a){if(!i[c]){if(!e[c]){var l=c.split("/");if(l=l[l.length-1],!e[l]){var r="function"==typeof __require&&__require;if(!a&&r)return r(l,!0);if(o)return o(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var h=i[c]={exports:{}};e[c][0].call(h.exports,function(t){return n(e[c][1][t]||t)},h,h.exports,t,e,i,s)}return i[c].exports}for(var o="function"==typeof __require&&__require,c=0;c<s.length;c++)n(s[c]);return n}({"Slot3x3.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"1fedewLD5tJuK+YssJ4x/DR","Slot3x3.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;const s=t("../../Main/Game/src/networks/Network.OutPacket"),n=t("../../Main/Game/src/networks/Network.InPacket"),o=t("../../Main/Game/src/common/Constants");var c;(function(t){class e{}e.SPIN=7001,e.UPDATE_JACKPOT=7002,e.SCRIBE=7003,e.UNSCRIBE=7004,e.CHANGE_ROOM=7005,e.SUBCRIBE_RESPONSE=7009,t.Code=e,t.SendScribe=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SCRIBE),this.packHeader(),this.putByte(t),this.updateSize()}},t.SendUnScribe=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.UNSCRIBE),this.packHeader(),this.putByte(t),this.updateSize()}},t.SendChangeRoom=class extends s.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CHANGE_ROOM),this.packHeader(),this.putByte(t),this.putByte(i),this.updateSize()}},t.SendSpin=class extends s.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SPIN),this.packHeader(),this.putInt(t),this.putString(i),this.updateSize()}},t.ReceiveUpdateJackpot=class extends n.default{constructor(t){super(t),this.value=0,this.x2=0,this.value=this.getLong(),this.x2=this.getByte()}},t.ReceiveSpin=class extends n.default{constructor(t){super(t),this.result=0,this.matrix="",this.linesWin="",this.prize=0,this.currentMoney=0,this.desc="",this.suggestionActions=[],this.result=this.getByte(),this.matrix=this.getString(),this.linesWin=this.getString(),this.prize=this.getLong(),this.currentMoney=this.getLong(),this.desc=this.getString();let e=this.getString();if(e){let t=JSON.parse(e);(null==t?void 0:t.hasOwnProperty("object"))&&Array.isArray(t.object)&&(this.suggestionActions=o.UserActions.toEnums(t.object))}}},t.ReceiveSubcribe=class extends n.default{constructor(t){super(t),this.data="",this.data=this.getString()}}})(c=i.cmd||(i.cmd={})),i.default=c,cc._RF.pop()},{"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/Network.OutPacket":void 0}],"Slot3x3.PopupHistory":[function(t,e,i){"use strict";cc._RF.push(e,"9ed9es2x7dPjowc9D1zGIrY","Slot3x3.PopupHistory");var s=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,c=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(o<3?n(c):o>3?n(e,i,c):n(e,i))||c);return o>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../Main/Game/src/common/Dialog"),o=t("../../Main/Game/src/common/App"),c=t("../../Main/Game/src/common/Http"),a=t("../../Main/Game/src/common/Configs"),l=t("../../Main/Game/src/common/Utils"),{ccclass:r,property:h}=cc._decorator;let p=class extends n.default{constructor(){super(...arguments),this.lblPage=null,this.itemTemplate=null,this.page=1,this.maxPage=1,this.items=new Array}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}actNextPage(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}actPrevPage(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}loadData(){o.default.instance.showLoading(!0),c.default.get(a.default.App.API,{c:134,mt:a.default.App.MONEY_TYPE,p:this.page,un:a.default.Login.Nickname},(t,e)=>{if(o.default.instance.showLoading(!1),null==t&&e.success){if(0==this.items.length){for(var i=0;i<10;i++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}this.maxPage=e.totalPages,this.lblPage.string=this.page+"/"+this.maxPage;for(let t=0;t<this.items.length;t++){let i=this.items[t];if(t<e.results.length){let s=e.results[t];i.getChildByName("bg").opacity=t%2==0?10:0,i.getChildByName("Session").getComponent(cc.Label).string=s.rf,i.getChildByName("Time").getComponent(cc.Label).string=s.ts,i.getChildByName("Bet").getComponent(cc.Label).string=l.default.formatMoney(s.bv),i.getChildByName("LineBet").getComponent(cc.Label).string=""==s.lb?0:s.lb.split(",").length,i.getChildByName("LineWin").getComponent(cc.Label).string=""==s.lb?0:s.lw.split(",").length,i.getChildByName("Result").getComponent(cc.Label).string=l.default.formatMoney(s.pz),i.active=!0}else i.active=!1}}})}};s([h(cc.Label)],p.prototype,"lblPage",void 0),s([h(cc.Node)],p.prototype,"itemTemplate",void 0),p=s([r],p),i.default=p,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"Slot3x3.PopupHonors":[function(t,e,i){"use strict";cc._RF.push(e,"9b0a7bB/KFOIYD7clUi6Y2b","Slot3x3.PopupHonors");var s=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,c=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(o<3?n(c):o>3?n(e,i,c):n(e,i))||c);return o>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../Main/Game/src/common/Dialog"),o=t("../../Main/Game/src/common/App"),c=t("../../Main/Game/src/common/Http"),a=t("../../Main/Game/src/common/Configs"),l=t("../../Main/Game/src/common/Utils"),r=t("../../Main/Game/src/common/ErrorLogger"),{ccclass:h,property:p}=cc._decorator;let d=class extends n.default{constructor(){super(...arguments),this.lblPage=null,this.itemTemplate=null,this.atlasVip=null,this.page=1,this.maxPage=1,this.items=new Array}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}actNextPage(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}actPrevPage(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}loadData(){o.default.instance.showLoading(!0),c.default.get(a.default.App.API,{c:135,mt:a.default.App.MONEY_TYPE,p:this.page},(t,e)=>{if(o.default.instance.showLoading(!1),null==t){cc.log(e);try{if(e.success){if(0==this.items.length){for(var i=0;i<10;i++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}this.maxPage=e.totalPages,this.lblPage.string=this.page+"/"+this.maxPage;for(let t=this.items.length-1;t>=0;t--){let i=this.items[t];if(t<e.results.length){let s=e.results[t],n=e.listUserVipRank&&e.listUserVipRank.find(t=>t.nickname==s.un);switch(i.active=!1,i.getChildByName("bg").opacity=t%2==0?10:0,i.getChildByName("Time").getComponent(cc.Label).string=s.ts.replace(" ","\n"),i.getChildByName("name").getChildByName("lblAccount").getComponent(cc.Label).string=s.un.length>11?s.un.substr(0,10)+"...":s.un,i.getChildByName("name").getChildByName("lblAccount").color=n?cc.Color.BLACK.fromHEX(l.default.getColorVip(n.rank)):cc.Color.BLACK.fromHEX(l.default.getColorVip("VIP_0")),i.getChildByName("name").getChildByName("lblAccount").getComponent(cc.LabelOutline).color=n?cc.Color.BLACK.fromHEX(l.default.getColorVip(n.rank)):cc.Color.BLACK.fromHEX(l.default.getColorVip("VIP_0")),i.getChildByName("name").getChildByName("vip").getComponent(cc.Sprite).spriteFrame=this.atlasVip.getSpriteFrame(n.rank),i.getChildByName("Bet").getComponent(cc.Label).string=l.default.formatMoney(s.bv),i.getChildByName("Win").getComponent(cc.Label).string=l.default.formatMoney(s.pz),i.active=!0,s.rs){case 1:i.getChildByName("Result").getComponent(cc.Label).string="Th\u1eafng";break;case 2:i.getChildByName("Result").getComponent(cc.Label).string="Th\u1eafng  l\u1edbn";break;case 3:i.getChildByName("Result").getComponent(cc.Label).string="N\u1ed5 H\u0169";break;case 4:i.getChildByName("Result").getComponent(cc.Label).string="N\u1ed5 H\u0169 X2";break;default:i.getChildByName("Result").getComponent(cc.Label).string="Tr\u01b0\u1ee3t",i.active=!1}i.position=cc.v3(cc.winSize.width,400),i.stopAllActions();let o=.7;i.runAction(cc.sequence(cc.delayTime(.15*(this.items.length-t)*o),cc.moveTo(.15*o,cc.v2(0,400)),cc.delayTime(.05),cc.moveTo(.2*o*(1===t?.8:1-Math.pow(2,-10*t)),cc.v2(0,380-85*t)).easing(cc.easeCircleActionOut())))}else i.active=!1}}}catch(s){r.ErrorLogger.sendLogError("Http response","PokeGo honor",JSON.stringify(e)+"\n"+JSON.stringify(s.stack))}}})}};s([p(cc.Label)],d.prototype,"lblPage",void 0),s([p(cc.Node)],d.prototype,"itemTemplate",void 0),s([p(cc.SpriteAtlas)],d.prototype,"atlasVip",void 0),d=s([h],d),i.default=d,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/ErrorLogger":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"Slot3x3.PopupSelectLine":[function(t,e,i){"use strict";cc._RF.push(e,"91e6cYmfSdJsK5BlQ9QfNHq","Slot3x3.PopupSelectLine");var s=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,c=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(o<3?n(c):o>3?n(e,i,c):n(e,i))||c);return o>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});const n=t("../../Main/Game/src/common/Dialog"),{ccclass:o,property:c}=cc._decorator;let a=class extends n.default{constructor(){super(...arguments),this.buttonsLine=null,this.btnClose=null,this.onSelectedChanged=null,this.SELECTED="selected"}start(){for(let t=0;t<this.buttonsLine.childrenCount;t++){let e=this.buttonsLine.children[t];e[this.SELECTED]=!0,e.on("click",()=>{e[this.SELECTED]=!e[this.SELECTED],e.opacity=e[this.SELECTED]?255:80,null!=this.onSelectedChanged&&this.onSelectedChanged(this.getSelectedLines()),this.btnClose.interactable=this.getSelectedLines().length>0})}}actSelectAll(){for(let t=0;t<this.buttonsLine.childrenCount;t++){let e=this.buttonsLine.children[t];e[this.SELECTED]=!0,e.opacity=e[this.SELECTED]?255:80}null!=this.onSelectedChanged&&this.onSelectedChanged(this.getSelectedLines()),this.btnClose.interactable=!0}actSelectEven(){for(let t=0;t<this.buttonsLine.childrenCount;t++){let e=this.buttonsLine.children[t];e[this.SELECTED]=t%2!=0,e.opacity=e[this.SELECTED]?255:80}null!=this.onSelectedChanged&&this.onSelectedChanged(this.getSelectedLines()),this.btnClose.interactable=!0}actSelectOdd(){for(let t=0;t<this.buttonsLine.childrenCount;t++){let e=this.buttonsLine.children[t];e[this.SELECTED]=t%2==0,e.opacity=e[this.SELECTED]?255:80}null!=this.onSelectedChanged&&this.onSelectedChanged(this.getSelectedLines()),this.btnClose.interactable=!0}actDeselectAll(){for(let t=0;t<this.buttonsLine.childrenCount;t++){let e=this.buttonsLine.children[t];e[this.SELECTED]=!1,e.opacity=e[this.SELECTED]?255:80}null!=this.onSelectedChanged&&this.onSelectedChanged(this.getSelectedLines()),this.btnClose.interactable=!1}getSelectedLines(){let t=new Array;for(let e=0;e<this.buttonsLine.childrenCount;e++){let i=this.buttonsLine.children[e];(void 0===i[this.SELECTED]||i[this.SELECTED])&&t.push(e+1)}return t}dismiss(){this.getSelectedLines().length>0&&super.dismiss()}};s([c(cc.Node)],a.prototype,"buttonsLine",void 0),s([c(cc.Button)],a.prototype,"btnClose",void 0),a=s([o],a),i.default=a,cc._RF.pop()},{"../../Main/Game/src/common/Dialog":void 0}],"Slot3x3.Slot3x3Controller":[function(t,e,i){"use strict";cc._RF.push(e,"80078ySa8dLVq8BknsW4brd","Slot3x3.Slot3x3Controller");var s=this&&this.__decorate||function(t,e,i,s){var n,o=arguments.length,c=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,s);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(o<3?n(c):o>3?n(e,i,c):n(e,i))||c);return o>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0}),i.SpinType=i.SpinMode=i.ButtonBet=void 0;const n=t("./Slot3x3.Cmd"),o=t("./Slot3x3.PopupSelectLine"),c=t("../../Main/Lobby/src/MiniGame"),a=t("../../Main/Game/src/common/Utils"),l=t("../../Main/Game/src/networks/Network.InPacket"),r=t("../../Main/Game/src/networks/MiniGameNetworkClient"),h=t("../../Main/Game/src/common/Tween"),p=t("../../Main/Game/src/common/BroadcastReceiver"),d=t("../../Main/Game/src/common/Configs"),u=t("../../Main/Game/src/common/App"),{ccclass:m,property:g}=cc._decorator;let f=class{constructor(){this.button=null,this.sfNormal=null,this.sfActive=null,this._isActive=!1}setActive(t){this._isActive=t,this.button.getComponent(cc.Sprite).spriteFrame=t?this.sfActive:this.sfNormal,this.button.node.getComponentInChildren(sp.Skeleton).node.active=t,this.button.interactable=!t}};var b;s([g(cc.Button)],f.prototype,"button",void 0),s([g(cc.SpriteFrame)],f.prototype,"sfNormal",void 0),s([g(cc.SpriteFrame)],f.prototype,"sfActive",void 0),f=s([m("Slot3x3.ButtonBet")],f),i.ButtonBet=f,function(t){t[t.NORMAL=0]="NORMAL",t[t.AUTO=1]="AUTO",t[t.AUTO_X2=2]="AUTO_X2"}(b=i.SpinMode||(i.SpinMode={})),i.SpinType=class{constructor(t){this.normal=!0,this.auto=!1,this.autox2=!1,this.normal=null==t?void 0:t.normal,this.auto=null==t?void 0:t.auto,this.autox2=null==t?void 0:t.autox2}};let C=class extends c.default{constructor(){super(...arguments),this.sprFrameItems=[],this.sprFrameItemsBlur=[],this.animItem=[],this.itemTemplate=null,this.buttonBets=[],this.columns=null,this.linesWin=null,this.btnSpin=null,this.btnLine=null,this.lblLine=null,this.btnClose=null,this.sfAuto0=null,this.sfAuto1=null,this.btnAuto=null,this.btnBoost=null,this.sfBoost0=null,this.sfBoost1=null,this.lblJackpot=null,this.lblWinCash=null,this.lblToast=null,this.effectJackpot=null,this.effectBigWin=null,this.popupSelectLine=null,this.popups=[],this.itemHeight=0,this.betIdx=0,this.listBet=[100,1e3,1e4],this.arrLineSelect=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],this.canSpin=!0,this.isCanChangeBet=!0,this.lastSpinRes=null,this.spinType={normal:!0,auto:!1,autox2:!1}}start(){super.start(),this.lblLine.string="20",this.itemHeight=this.itemTemplate.height,this.columns.children.forEach(t=>{for(let e=0;e<9;e++){let i=cc.instantiate(this.itemTemplate);t.addChild(i),i.children[0].active=!0,i.children[1].active=!1,i.children[0].getComponent(cc.Sprite).spriteFrame=e>=3?this.sprFrameItemsBlur[a.default.randomRangeInt(0,this.sprFrameItemsBlur.length)]:this.sprFrameItems[a.default.randomRangeInt(0,this.sprFrameItems.length)]}}),this.itemTemplate.removeFromParent(),this.itemTemplate=null,this.buttonBets.forEach((t,e)=>{t.setActive(e==this.betIdx),t.button.node.on("click",()=>{if(!this.isCanChangeBet)return void this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh.");let t=this.betIdx;this.betIdx=e;for(let e=0;e<this.buttonBets.length;e++)this.buttonBets[e].setActive(e==this.betIdx);this.isCanChangeBet=!1,this.scheduleOnce(()=>{this.isCanChangeBet=!0},1),r.default.getInstance().send(new n.default.SendChangeRoom(t,this.betIdx))})}),this.popupSelectLine.onSelectedChanged=t=>{this.arrLineSelect=t,this.lblLine.string=this.arrLineSelect.length.toString()},p.default.register(p.default.USER_LOGOUT,()=>{this.node.active&&this.dismiss()},this),p.default.register(p.default.USER_DISCONNECTED,()=>{this.node.active&&this.dismiss()},this),r.default.getInstance().addOnClose(()=>{this.node.active&&this.dismiss()},this),r.default.getInstance().addListener(t=>{if(this.node.active)switch(new l.default(t).getCmdId()){case n.default.Code.UPDATE_JACKPOT:{let e=new n.default.ReceiveUpdateJackpot(t);h.default.numberTo(this.lblJackpot,e.value,.3);break}case n.default.Code.SPIN:{let e=new n.default.ReceiveSpin(t);cc.log(e),this.onSpinResult(e);break}}},this)}show(){if(this.node.active)this.reOrder();else{super.show(),this.lblToast.node.parent.active=!1,this.lblWinCash.parent.active=!1;for(let t=0;t<this.linesWin.childrenCount;t++)this.linesWin.children[t].active=!1;this.canSpin=!0,this.isCanChangeBet=!0,this.betIdx=d.default.Login.Coin>=d.default.App.RICH_MAN?1:0;for(let t=0;t<this.buttonBets.length;t++)this.buttonBets[t].setActive(t==this.betIdx);this.setSpinMode(b.NORMAL),this.stopAllEffects(),this.setEnabledAllButtons(!0),r.default.getInstance().send(new n.default.SendScribe(this.betIdx))}}dismiss(){super.dismiss();for(let t=0;t<this.popups.length;t++)this.popups[t].active=!1;r.default.getInstance().send(new n.default.SendUnScribe(this.betIdx))}minize(){this.gamePlay.stopAllActions(),this.gamePlay.runAction(cc.sequence(cc.scaleTo(.3,.2)))}actSpin(t=!1){if(t&&(this.spinType.autox2||this.spinType.auto))this.setSpinMode(b.NORMAL);else if(this.canSpin){this.canSpin=!1,this.stopAllEffects(),this.stopShowLinesWin(),this.setEnabledAllButtons(!1);for(var e=0;e<this.buttonBets.length;e++)this.buttonBets[e].button.interactable=!1;r.default.getInstance().send(new n.default.SendSpin(this.listBet[this.betIdx],this.arrLineSelect.toString()))}}setEnabledAllButtons(t){this.btnSpin.node.getChildByName("btstop").active=!(t&&!this.spinType.autox2&&!this.spinType.auto),this.btnSpin.node.getChildByName("bt-spin").active=t&&!this.spinType.autox2&&!this.spinType.auto,this.btnClose.interactable=t,this.btnLine.interactable=t}showToast(t){this.lblToast.string=t;let e=this.lblToast.node.parent;e.stopAllActions(),e.active=!0,e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(()=>{e.active=!1})))}onSpinResult(t){var e=this;if([0,1,2,3,4,5,6].indexOf(t.result)<0){this.setSpinMode(b.NORMAL),this.scheduleOnce(function(){this.canSpin=!0},1),this.setEnabledAllButtons(!0);for(var i=0;i<this.buttonBets.length;i++)this.buttonBets[i].button.interactable=!0;return void u.default.instance.actiontDialog.showMsgWithActions(t.desc,t.suggestionActions)}d.default.Login.Coin-=this.listBet[this.betIdx]*this.arrLineSelect.length,p.default.send(p.default.USER_UPDATE_COIN),d.default.Login.Coin=t.currentMoney,this.lastSpinRes=t;let s=t.matrix.split(","),n=this.spinType.autox2?.5:1;this.columns.children.forEach((t,i)=>{let o=6*this.itemHeight,c=[cc.delayTime(.15*i),cc.callFunc(()=>{t.children.forEach(t=>{t.active=!0,this.setItemAnim(t,!1,null)})})];for(let e=0;e<2;e++)c.push(cc.moveTo(.5*n,cc.v2(t.position.x,-o))),c.push(cc.callFunc(()=>{t.setPosition(cc.v2(t.position.x,0))}));c.push(cc.callFunc(()=>{t.setPosition(cc.v2(t.position.x,0)),i===this.columns.childrenCount-1&&e.spined()}));let a=cc.callFunc(()=>{t.children.forEach((t,e)=>{e<3?(this.setItemAnim(t,!0,this.animItem[5-parseInt(s[6-3*e+i])]),t.children[1].position=5-parseInt(s[6-3*e+i])==4?cc.v3(2,-22):cc.v3(0,0)):t.active=!1})});c.push(a),t.runAction(cc.sequence(c))})}toggleAutoOnCheck(){this.spinType.auto?this.setSpinMode(b.NORMAL):this.setSpinMode(b.AUTO)}toggleBoostOnCheck(){this.setSpinMode(this.spinType.autox2?b.NORMAL:b.AUTO_X2)}setSpinMode(t){switch(t){case b.AUTO:this.spinType.auto=!0,this.spinType.autox2=!1;break;case b.AUTO_X2:this.spinType.autox2=!0,this.spinType.auto=!1;break;default:this.spinType.auto=!1,this.spinType.autox2=!1}this.btnBoost.isChecked=this.spinType.autox2,this.btnAuto.isChecked=this.spinType.auto,(this.spinType.auto||this.spinType.autox2)&&this.actSpin(),this.canSpin&&this.setEnabledAllButtons(!(this.spinType.auto||this.spinType.autox2))}setItemAnim(t,e,i=null){if(e&&i){t.children[0].active=!1;let e=t.children[1].getComponent(sp.Skeleton);e.node.active=!0,e.skeletonData=i,e.setAnimation(0,"animation",!0)}else t.children[0].active=!0,t.children[1].active=!1}spined(){switch(p.default.send(p.default.USER_UPDATE_COIN),this.spinType.auto||this.spinType.autox2||this.setEnabledAllButtons(!0),this.lastSpinRes.result){case 0:case 1:this.showLineWins();break;case 2:this.showEffectBigWin(this.lastSpinRes.prize,()=>this.showLineWins());break;case 3:case 4:this.showEffectJackpot(this.lastSpinRes.prize,()=>this.showLineWins());break;case 6:this.showEffectBigWin(this.lastSpinRes.prize,()=>this.showLineWins())}}showEffectBigWin(t,e){this.effectBigWin.stopAllActions(),this.effectBigWin.active=!0;let i=this.effectBigWin.getComponentInChildren(cc.Label);i.node.active=!1,this.effectBigWin.getComponentInChildren(sp.Skeleton).setAnimation(0,"animation",!0),this.effectBigWin.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(()=>{i.string="",i.node.active=!0,h.default.numberTo(i,t,1)}),cc.delayTime(3),cc.callFunc(()=>{this.effectBigWin.active=!1,null!=e&&e()})))}showEffectJackpot(t,e=null){this.effectJackpot.stopAllActions(),this.effectJackpot.active=!0;let i=this.effectJackpot.getComponentInChildren(cc.Label);i.node.active=!1,this.effectJackpot.getComponentInChildren(sp.Skeleton).setAnimation(0,"animation",!0),this.effectJackpot.runAction(cc.sequence(cc.delayTime(1),cc.callFunc(()=>{i.string="",i.node.active=!0,h.default.numberTo(i,t,1)}),cc.delayTime(3),cc.callFunc(()=>{this.effectJackpot.active=!1,null!=e&&e()})))}showWinCash(t){let e=this.lblWinCash.parent,i=this.lblWinCash.getComponent(cc.Label);e.stopAllActions(),e.active=!0,i.string="0",e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.3),cc.callFunc(()=>{h.default.numberTo(i,t,.5)}),cc.delayTime(1.5),cc.fadeOut(.3),cc.callFunc(()=>{e.active=!1})))}stopAllEffects(){this.effectJackpot.stopAllActions(),this.effectJackpot.active=!1,this.effectBigWin.stopAllActions(),this.effectBigWin.active=!1}stopShowLinesWin(){this.linesWin.stopAllActions();for(var t=0;t<this.linesWin.childrenCount;t++)this.linesWin.children[t].active=!1;this.stopAllItemEffect()}stopAllItemEffect(){this.columns.children.forEach(t=>{t.stopAllActions(),t.children.forEach((t,e)=>{t.active=e<3})})}showLineWins(){this.linesWin.stopAllActions();for(var t=this.lastSpinRes.linesWin.split(","),e=this.linesWin.children,i=0;i<e.length;i++)e[i].active=t.indexOf(""+(i+1))>=0;var s=[];this.lastSpinRes.prize>0&&(this.showWinCash(this.lastSpinRes.prize),s.push(cc.delayTime(1.5)),s.push(cc.callFunc(function(){for(var t=0;t<e.length;t++)e[t].active=!1}))),s.push(cc.delayTime(.5)),s.push(cc.callFunc(()=>{if(this.canSpin=!0,this.spinType.autox2||this.spinType.auto)this.actSpin();else{this.setEnabledAllButtons(!0);for(var t=0;t<this.buttonBets.length;t++)this.buttonBets[t].button.interactable=!0}})),this.linesWin.runAction(cc.sequence.apply(null,s))}};s([g([cc.SpriteFrame])],C.prototype,"sprFrameItems",void 0),s([g([cc.SpriteFrame])],C.prototype,"sprFrameItemsBlur",void 0),s([g([sp.SkeletonData])],C.prototype,"animItem",void 0),s([g(cc.Node)],C.prototype,"itemTemplate",void 0),s([g([f])],C.prototype,"buttonBets",void 0),s([g(cc.Node)],C.prototype,"columns",void 0),s([g(cc.Node)],C.prototype,"linesWin",void 0),s([g(cc.Toggle)],C.prototype,"btnSpin",void 0),s([g(cc.Button)],C.prototype,"btnLine",void 0),s([g(cc.Label)],C.prototype,"lblLine",void 0),s([g(cc.Button)],C.prototype,"btnClose",void 0),s([g(cc.SpriteFrame)],C.prototype,"sfAuto0",void 0),s([g(cc.SpriteFrame)],C.prototype,"sfAuto1",void 0),s([g(cc.Toggle)],C.prototype,"btnAuto",void 0),s([g(cc.Toggle)],C.prototype,"btnBoost",void 0),s([g(cc.SpriteFrame)],C.prototype,"sfBoost0",void 0),s([g(cc.SpriteFrame)],C.prototype,"sfBoost1",void 0),s([g(cc.Label)],C.prototype,"lblJackpot",void 0),s([g(cc.Node)],C.prototype,"lblWinCash",void 0),s([g(cc.Label)],C.prototype,"lblToast",void 0),s([g(cc.Node)],C.prototype,"effectJackpot",void 0),s([g(cc.Node)],C.prototype,"effectBigWin",void 0),s([g(o.default)],C.prototype,"popupSelectLine",void 0),s([g([cc.Node])],C.prototype,"popups",void 0),C=s([m],C),i.default=C,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Tween":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Lobby/src/MiniGame":void 0,"./Slot3x3.Cmd":"Slot3x3.Cmd","./Slot3x3.PopupSelectLine":"Slot3x3.PopupSelectLine"}]},{},["Slot3x3.Cmd","Slot3x3.PopupHistory","Slot3x3.PopupHonors","Slot3x3.PopupSelectLine","Slot3x3.Slot3x3Controller"]);