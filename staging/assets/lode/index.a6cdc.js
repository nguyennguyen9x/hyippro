window.__require=function e(t,i,n){function s(a,r){if(!i[a]){if(!t[a]){var c=a.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){return s(t[a][1][e]||e)},h,h.exports,e,t,i,n)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<n.length;a++)s(n[a]);return s}({"LoDe.CalendarBet":[function(e,t,i){"use strict";cc._RF.push(t,"f8191/HBcJFj4kejy+a4dRC","LoDe.CalendarBet");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/customui/CustomUI.Dropdown"),o=e("./LoDe.Controller"),{ccclass:a,property:r}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.container=null,this.dayOfMonthContent=null,this.dayOfMonthItem=null,this.dropdownYear=null,this.dropdownMonth=null,this.isAnimated=!0,this.months=[1,2,3,4,5,6,7,8,9,10,11,12],this.years=[],this.currentMonth=null,this.currentYear=null,this.dateOfBet=null,this.dateOfRelease=null}start(){for(let t=0;t<42;t++){let e=this.dayOfMonthContent.children[t];e||((e=cc.instantiate(this.dayOfMonthItem)).opacity=0,e.parent=this.dayOfMonthContent)}let e=(new Date).getFullYear();this.years=[e,e+1],this.dropdownYear.setOptions(this.years.map(e=>""+e)),this.dropdownYear.setOnValueChange(e=>{this.generateDaysInMonth(this.currentMonth,this.years[e])}),this.dropdownMonth.setOptions(this.months.map(e=>"Th\xe1ng "+e)),this.dropdownMonth.setOnValueChange(e=>{this.generateDaysInMonth(e,this.currentYear)})}show(e,t){this.dateOfBet=e,this.dateOfRelease=t,cc.Tween.stopAllByTarget(this.container),this.node.active=!0,cc.tween(this.container).set({scaleY:0,opacity:0}).to(.3,{scaleY:1,opacity:255},{easing:cc.easing.backOut}).call(()=>{this.currentMonth&&this.currentMonth===e.getMonth()?this.dayOfMonthContent.children.forEach(t=>{t.getComponent(cc.Toggle).isChecked=this.isSameDate(new Date(this.currentYear,this.currentMonth,Number(t.getComponentInChildren(cc.Label).string)),e)}):(this.generateDaysInMonth(e.getMonth(),e.getFullYear()),this.dropdownMonth.setValue(e.getMonth()),this.dropdownYear.setValue(this.years.indexOf(e.getFullYear())))}).start()}dismiss(){this.isAnimated&&(this.isAnimated=!1,cc.Tween.stopAllByTarget(this.container),cc.tween(this.container).to(.3,{scaleY:0,opacity:0},{easing:cc.easing.backIn}).call(()=>{this.node.active=!1,this.isAnimated=!0}).start())}generateDaysInMonth(e,t){this.currentMonth=e,this.currentYear=t;let i=this.getDaysInMonth(e,t),n=i[0].getDay();this.dayOfMonthContent.children[41].getComponent(cc.Toggle).isChecked=!0;for(let s=0;s<this.dayOfMonthContent.childrenCount;s++){const e=this.dayOfMonthContent.children[s];if(s<n||s>=n+i.length)e.opacity=0,e.getComponent(cc.Toggle).interactable=!1;else{e.opacity=255;let t=i[s-n],a=e.getComponentInChildren(cc.Label);a.string=t.getDate()+"",a.node.color=cc.Color.BLACK.fromHEX(t<this.dateOfRelease&&this.isSameDate(t,this.dateOfRelease)||t>=this.dateOfRelease?"#FFFFFF":"#9C9C9C"),e.getComponent(cc.Toggle).interactable=t<this.dateOfRelease&&this.isSameDate(t,this.dateOfRelease)||t>=this.dateOfRelease,e.getComponent(cc.Toggle).isChecked=this.isSameDate(t,this.dateOfBet),e.off("toggle"),e.on("toggle",()=>{var e;null===(e=o.default.getInstance())||void 0===e||e.updateDateOfBet(t),this.dismiss()})}}}getDaysInMonth(e,t){for(var i=new Date(t,e,1),n=[];i.getMonth()===e;)n.push(new Date(i)),i.setDate(i.getDate()+1);return n}isSameDate(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}};n([r(cc.Node)],c.prototype,"container",void 0),n([r(cc.Node)],c.prototype,"dayOfMonthContent",void 0),n([r(cc.Node)],c.prototype,"dayOfMonthItem",void 0),n([r(s.default)],c.prototype,"dropdownYear",void 0),n([r(s.default)],c.prototype,"dropdownMonth",void 0),c=n([a],c),i.default=c,cc._RF.pop()},{"../../Main/Game/src/customui/CustomUI.Dropdown":void 0,"./LoDe.Controller":"LoDe.Controller"}],"LoDe.CalendarResult":[function(e,t,i){"use strict";cc._RF.push(t,"da6e55aTftPYI5IRWSH8ZDc","LoDe.CalendarResult");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/customui/CustomUI.Dropdown"),o=e("./LoDe.Controller"),{ccclass:a,property:r}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.container=null,this.dayOfMonthContent=null,this.dayOfMonthItem=null,this.dropdownYear=null,this.dropdownMonth=null,this.months=[1,2,3,4,5,6,7,8,9,10,11,12],this.years=[],this.currentMonth=null,this.currentYear=null,this.dateOfResult=null,this.lastestDateOfResult=null,this.isAnimated=!0}start(){for(let t=0;t<42;t++){let e=this.dayOfMonthContent.children[t];e||((e=cc.instantiate(this.dayOfMonthItem)).opacity=0,e.parent=this.dayOfMonthContent)}let e=(new Date).getFullYear();this.years=[e-1,e],this.dropdownYear.setOptions(this.years.map(e=>""+e)),this.dropdownYear.setOnValueChange(e=>{this.generateDaysInMonth(this.currentMonth,this.years[e])}),this.dropdownMonth.setOptions(this.months.map(e=>"Th\xe1ng "+e)),this.dropdownMonth.setOnValueChange(e=>{this.generateDaysInMonth(e,this.currentYear)})}show(e){this.dateOfResult=e,cc.Tween.stopAllByTarget(this.container),this.node.active=!0,cc.tween(this.container).set({scaleY:0,opacity:0}).to(.3,{scaleY:1,opacity:255},{easing:cc.easing.backOut}).call(()=>{this.currentMonth&&this.currentMonth==e.getMonth()?this.dayOfMonthContent.children.forEach(t=>{t.getComponent(cc.Toggle).isChecked=this.isSameDate(new Date(this.currentYear,this.currentMonth,Number(t.getComponentInChildren(cc.Label).string)),e)}):(this.generateDaysInMonth(e.getMonth(),e.getFullYear()),this.dropdownMonth.setValue(e.getMonth()),this.dropdownYear.setValue(this.years.indexOf(e.getFullYear())))}).start()}dismiss(){this.isAnimated&&(this.isAnimated=!1,cc.Tween.stopAllByTarget(this.container),cc.tween(this.container).to(.3,{scaleY:0,opacity:0},{easing:cc.easing.backIn}).call(()=>{this.node.active=!1,this.isAnimated=!0}).start())}generateDaysInMonth(e,t){this.currentMonth=e,this.currentYear=t;let i=this.getDaysInMonth(e,t),n=i[0].getDay();this.dayOfMonthContent.children[41].getComponent(cc.Toggle).isChecked=!0;for(let s=0;s<this.dayOfMonthContent.childrenCount;s++){const e=this.dayOfMonthContent.children[s];if(s<n||s>=n+i.length)e.opacity=0,e.getComponent(cc.Toggle).interactable=!1;else{e.opacity=255;let t=i[s-n],a=e.getComponentInChildren(cc.Label);a.string=t.getDate()+"",a.node.color=cc.Color.BLACK.fromHEX(this.isSameDate(t,this.lastestDateOfResult)||t<this.lastestDateOfResult?"#FFFFFF":"#9C9C9C"),e.getComponent(cc.Toggle).interactable=this.isSameDate(t,this.lastestDateOfResult)||t<this.lastestDateOfResult,e.getComponent(cc.Toggle).isChecked=this.isSameDate(t,this.dateOfResult),e.off("toggle"),e.on("toggle",()=>{var e;null===(e=o.default.getInstance())||void 0===e||e.updateDateOfResult(t),this.dismiss()})}}}getDaysInMonth(e,t){var i=new Date;i.setFullYear(t),i.setMonth(e),i.setDate(1);for(var n=[];i.getMonth()===e;)n.push(new Date(i)),i.setDate(i.getDate()+1);return n}isSameDate(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}setLastestDateOfResult(e){this.lastestDateOfResult=e,this.dayOfMonthContent.children.forEach(e=>{let t=e.getComponentInChildren(cc.Label);this.currentMonth===this.lastestDateOfResult.getMonth()&&parseInt(t.string)===this.lastestDateOfResult.getDate()&&(t.node.color=cc.Color.BLACK.fromHEX("#FFFFFF"),e.getComponent(cc.Toggle).interactable=!0)})}getLastestDateOfResult(){return this.lastestDateOfResult}};n([r(cc.Node)],c.prototype,"container",void 0),n([r(cc.Node)],c.prototype,"dayOfMonthContent",void 0),n([r(cc.Node)],c.prototype,"dayOfMonthItem",void 0),n([r(s.default)],c.prototype,"dropdownYear",void 0),n([r(s.default)],c.prototype,"dropdownMonth",void 0),c=n([a],c),i.default=c,cc._RF.pop()},{"../../Main/Game/src/customui/CustomUI.Dropdown":void 0,"./LoDe.Controller":"LoDe.Controller"}],"LoDe.Cmd":[function(e,t,i){"use strict";cc._RF.push(t,"d326crjyeZPqJQLy/lR/7z6","LoDe.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.LodeCmd=void 0;const n=e("../../Main/Game/src/networks/Network.OutPacket"),s=e("../../Main/Game/src/networks/Network.InPacket"),o=e("../../Main/Game/src/common/Constants");var a;(function(e){class t{}t.UPDATE_USER_MONEY=21e3,t.LOG_CHAT=18003,t.SEND_CHAT=18e3,t.SCRIBE_CHAT=18001,t.UNSCRIBE_CHAT=18002,e.Code=t,e.SendScribeChat=class extends n.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SCRIBE_CHAT),this.packHeader(),this.putString(o.ChatChannel.LO_DE),this.updateSize()}},e.SendUnScribeChat=class extends n.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.UNSCRIBE_CHAT),this.packHeader(),this.putString(o.ChatChannel.LO_DE),this.updateSize()}},e.SendChat=class extends n.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SEND_CHAT),this.packHeader(),this.putString(e),this.putString(o.ChatChannel.LO_DE),this.updateSize()}},e.SendScribeSieuTocChat=class extends n.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SCRIBE_CHAT),this.packHeader(),this.putString(o.ChatChannel.LO_DE_SIEU_TOC),this.updateSize()}},e.SendUnScribeSieuTocChat=class extends n.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.UNSCRIBE_CHAT),this.packHeader(),this.putString(o.ChatChannel.LO_DE_SIEU_TOC),this.updateSize()}},e.SendSieuTocChat=class extends n.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SEND_CHAT),this.packHeader(),this.putString(e),this.putString(o.ChatChannel.LO_DE_SIEU_TOC),this.updateSize()}},e.ReceivedUpdateUserMoney=class extends s.default{constructor(e){super(e),this.error=0,this.desc=this.getString(),this.nickName=this.getString(),this.changeMoney=this.getLong(),this.totalMoney=this.getLong(),this.showPopup=this.getBool()}};class i{constructor(){this.nickname="",this.message=""}}e.ChatItem=i,e.ReceiveLogChat=class extends s.default{constructor(e){super(e),this.messages=[],this.minVipPoint=0,this.timeBan=0,this.userType=0,this.chatChannel="";let t=JSON.parse(this.getString());for(var n=0;n<t.length;n++){let e=new i;e.nickname=t[n].u,e.message=t[n].m,e.vipId=t[n].vipId,this.messages.push(e)}this.minVipPoint=this.getByte(),this.timeBan=this.getLong(),this.userType=this.getByte(),this.chatChannel=this.getString()}},e.ReceiveSendChat=class extends s.default{constructor(e){super(e),this.error=0,this.nickname="",this.message="",this.desc="",this.suggestionActions=[],this.vip=0,this.chatChannel="",this.error=this.getError(),this.nickname=this.getString(),this.message=this.getString(),this.desc=this.getString();let t=this.getString();if(this.vip=this.getInt(),t){let e=JSON.parse(t);(null==e?void 0:e.hasOwnProperty("suggestionActions"))&&Array.isArray(e.suggestionActions)&&(this.suggestionActions=o.UserActions.toEnums(e.suggestionActions))}this.chatChannel=this.getString()}}})(a=i.LodeCmd||(i.LodeCmd={})),i.default=a,cc._RF.pop()},{"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/Network.OutPacket":void 0}],"LoDe.Controller":[function(e,t,i){"use strict";cc._RF.push(t,"dc626O6kL5LbJi+bhoQOHxk","LoDe.Controller");var n,s=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a},o=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function r(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,r)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(i,"__esModule",{value:!0});const a=e("../../Main/Game/src/common/Configs"),r=e("../../Main/Game/src/common/App"),c=e("../../Main/Game/src/common/BroadcastReceiver"),l=e("../../Main/Lobby/src/Lobby.PopupShop"),h=e("../../Main/Game/src/common/Tween"),u=e("../../Main/Game/src/networks/Network.InPacket"),d=e("../../Main/Game/src/networks/MiniGameNetworkClient"),g=e("../../Main/Game/src/common/Http"),p=e("../../Main/Game/src/customui/CustomUI.Dropdown"),m=e("../../Main/Game/src/common/Common.AudioManager"),f=e("./LoDe.Cmd"),b=e("../../Main/Game/src/common/Constants"),D=e("../../Main/Game/src/common/Utils"),C=e("./LoDe.PopupSelectNumber"),y=e("./Lode.PopupHistory"),v=e("./Lode.PopupHonors"),M=e("./LoDe.CalendarBet"),S=e("./LoDe.CalendarResult"),O=e("./Lode.PopupGuide"),T=e("./Lode.LodeData"),{ccclass:N,property:w}=cc._decorator;let L=n=class extends cc.Component{constructor(){super(...arguments),this.labelUserGold=null,this.tabs=[],this.tabContents=null,this.dropDownCities=null,this.lbWinBet=null,this.edbBetPerNumber=null,this.edbTotalBet=null,this.lbDateOfBet=null,this.lbCountDownTimeRelease=null,this.listGroupMode=null,this.itemGroupMode=null,this.listMode=null,this.itemMode=null,this.lbGuides=[],this.btnGuide=null,this.edbNumber=null,this.numberHolder=null,this.numberContent=null,this.lbNumber=null,this.numberCursor=null,this.resultContent=null,this.resultItem=null,this.dropDownCitiesResult=null,this.edtChatInput=null,this.itemChatTemplate=null,this.scrollChat=null,this.atlasVip=null,this.itemNewBet=null,this.scrollNewBet=null,this.popupSelectNumber=null,this.popupHistory=null,this.popupHonors=null,this.popupGuide=null,this.musicBackground=null,this.calendarBet=null,this.calendarResult=null,this.lbDateOfResult=null,this.statitics=null,this.buttonHonors=null,this.buttonHistory=null,this.currentSelectedNumbers=[],this.countDownTimeRelease=null,this.dateOfBet=null,this.dateOfReleaseEarliest=null,this.dateOfResult=null,this.scheduleDailyResult=null}static getInstance(){return this.instance}static destroyInstance(){return this.instance}onLoad(){n.instance=this,this.buttonHonors.active=!1,this.buttonHistory.active=!1}start(){m.default.getInstance().playBackgroundMusic(this.musicBackground,!0),c.default.register(c.default.USER_UPDATE_COIN,()=>{h.default.numberTo(this.labelUserGold,a.default.Login.Coin,.3)},this),c.default.send(c.default.USER_UPDATE_COIN),d.default.getInstance().addListener(e=>{switch(new u.default(e).getCmdId()){case f.default.Code.UPDATE_USER_MONEY:{let t=new f.default.ReceivedUpdateUserMoney(e);a.default.Login.Coin=t.totalMoney,c.default.send(c.default.USER_UPDATE_COIN),t.showPopup&&r.default.instance.alertDialog.showMsg("C\xf3 th\u01b0 m\u1edbi :\n"+t.desc)}break;case f.default.Code.LOG_CHAT:{let t=new f.default.ReceiveLogChat(e);if(cc.log(t),t.chatChannel!==b.ChatChannel.LO_DE)break;t.messages.forEach(e=>this.addChat(e))}break;case f.default.Code.SEND_CHAT:{let t=new f.default.ReceiveSendChat(e);if(cc.log(t),t.chatChannel!==b.ChatChannel.LO_DE)break;switch(t.error){case 0:let e=new f.default.ChatItem;e.nickname=t.nickname,e.message=t.message,e.vipId=t.vip,this.addChat(e);break;default:r.default.instance.actiontDialog.showMsgWithActions(t.desc,t.suggestionActions)}}}},this),d.default.getInstance().send(new f.default.SendScribeChat),this.changeTabs(this.tabs[0]),r.default.instance.showLoading(!0),this.requestGetGameModes(),cc.game.on(cc.game.EVENT_HIDE,function(){cc.sys.localStorage.setItem("lode_time_hide",Date.now())}),cc.game.on(cc.game.EVENT_SHOW,function(){if(cc.sys.localStorage.getItem("lode_time_hide")){let e=Math.round((Date.now()-JSON.parse(cc.sys.localStorage.getItem("lode_time_hide")))/1e3);cc.sys.localStorage.removeItem("lode_time_hide"),e>5&&(r.default.instance.showLoading(!0),d.default.getInstance().checkConnect(()=>{cc.director.loadScene("LoDe",()=>{r.default.instance.showLoading(!1)})}))}})}onDestroy(){this.unschedule(this.countDownTimeRelease),this.unschedule(this.requestGetNewBetHistory),n.destroyInstance(),cc.game.clear()}requestGetCitiesOfBet(e){g.default.get(a.default.App.API_LODE+"cities",{date:this.getSession(e)},(t,i)=>{if(!this.node)return;if(null!=t)return void r.default.instance.alertDialog.showMsgWithOnDismissed("H\u1ec7 th\u1ed1ng \u0111ang b\u1ea3o tr\xec, vui l\xf2ng quay l\u1ea1i sau.",()=>{this.actionBack()});cc.log(i);let n=T.City.toCities(i),s=n.map(e=>e.timeRelease).sort(),o=new Date(this.getSession(e)+" "+s[s.length-1]).getTime()-Date.now();if(o<=0){let t=new Date(e);return t.setDate(t.getDate()+1),void this.requestGetCitiesOfBet(t)}o<864e5&&(this.dateOfReleaseEarliest=new Date(this.getSession(e)+" "+s[s.length-1])),this.cities=n,this.dropDownCities.setOptions(this.cities.map(e=>e.name)),this.dropDownCities.setOnValueChange(t=>{this.changeCityOfBet(this.cities[t],e)}),this.dropDownCities.setValue(0),this.dropDownCities.clickValue(0),this.scheduleOnce(()=>{let t=new Date(e);t.setDate(t.getDate()+1),this.requestGetCitiesOfBet(t)},Math.round(o/1e3))})}requestGetGameModes(){g.default.get(a.default.App.API_LODE+"gameTypes",{},(e,t)=>{this.node&&(null==e?(cc.log(t),this.gameModes=T.GameMode.toGameModes(t),this.requestGetCitiesOfBet(new Date),this.requestAllCities(),this.checkAvaiableResultCurrentDate()):r.default.instance.alertDialog.showMsgWithOnDismissed("H\u1ec7 th\u1ed1ng \u0111ang b\u1ea3o tr\xec, vui l\xf2ng quay l\u1ea1i sau.",()=>{this.actionBack()}))})}changeCityOfBet(e,t){this.dateOfBet||(this.dateOfBet=new Date(t)),this.lbDateOfBet.string=this.formatDate(this.dateOfBet),this.unschedule(this.countDownTimeRelease),this.countDownTimeRelease=()=>{let i=new Date(this.getSession(t)+" "+e.timeRelease).getTime()-Date.now();if(i<0)this.unschedule(this.countDownTimeRelease),this.lbCountDownTimeRelease.string=["00","00","00"].join(":");else{let e=Math.floor(i%864e5/36e5),t=Math.floor(i%36e5/6e4),n=Math.floor(i%6e4/1e3);this.lbCountDownTimeRelease.string=[e<10?"0"+e:e,t<10?"0"+t:t,n<10?"0"+n:n].join(":")}},this.schedule(this.countDownTimeRelease,1);let i=this.gameModes.filter(t=>t.lotteryRegion===e.region),n=[];i.forEach(e=>{let t=n.find(t=>e.name.includes(t.groupMode));if(t)t.listMode.push(e);else{let t=new T.GroupMode,i=Object.keys(T.GroupModeENUM).find(t=>e.name.includes(T.GroupModeENUM[t]));i&&(t.groupMode=T.GroupModeENUM[i],t.listMode=[],t.listMode.push(e),n.push(t))}}),this.listGroupMode.removeAllChildren();for(let s=0;s<n.length;s++){let e=cc.instantiate(this.itemGroupMode),t=e.getComponentsInChildren(cc.Label);t[0].string=n[s].getDisplayName().toLocaleUpperCase(),t[1].string=n[s].getDisplayName().toLocaleUpperCase(),e.parent=this.listGroupMode,e.active=!0,cc.tween(e).set({opacity:0}).delay(.1*s).to(.3,{opacity:255},{easing:cc.easing.backOut}).start(),e.on("toggle",()=>{this.changeGroupMode(n[s])}),0===s&&this.scheduleOnce(()=>{this.changeGroupMode(n[s])},.1*n.length);let i=n[s].listMode.filter(e=>e.active);e.getComponent(cc.Toggle).interactable=!(0===i.length)}}actionNextCity(){let e=this.dropDownCities.getValue(),t=e===this.cities.length-1?0:e+1;this.dropDownCities.setValue(t),this.dropDownCities.clickValue(t)}actionPrevioursCity(){let e=this.dropDownCities.getValue(),t=0===e?this.cities.length-1:e-1;this.dropDownCities.setValue(t),this.dropDownCities.clickValue(t)}actionNextDateOfBet(){let e=new Date(this.dateOfBet);e.setDate(e.getDate()+1),this.updateDateOfBet(e)}actionPrevioursDateOfBet(){let e=new Date(this.dateOfBet);e.setDate(e.getDate()-1);let t=new Date(e);t.setHours(0,0,0,0);let i=new Date(this.dateOfReleaseEarliest);i.setHours(0,0,0,0),t<i||t.getFullYear()===i.getFullYear()&&t.getMonth()===i.getMonth()&&t.getDate()===i.getDate()&&this.dateOfReleaseEarliest.getTime()-Date.now()<0||this.updateDateOfBet(e)}actionShowCalendarBet(){this.calendarBet.show(this.dateOfBet,this.dateOfReleaseEarliest)}changeGroupMode(e){this.listMode.removeAllChildren();for(let t=0;t<e.listMode.length;t++){let i=cc.instantiate(this.itemMode);i.getComponentInChildren(cc.Label).string=e.listMode[t].getDisplayName().toUpperCase(),i.parent=this.listMode,i.y=0,i.active=!0,cc.tween(i).set({scale:0,opacity:0}).to(.3,{scale:1,opacity:255},{easing:cc.easing.backOut}).start(),i.on("toggle",()=>{this.changeMode(e.listMode[t])}),0===t&&this.changeMode(e.listMode[t])}}changeMode(e){this.currentMode=e,this.lbGuides[0].string=""+e.bet,this.lbGuides[1].string="1",this.lbGuides[2].string=""+e.ratio,this.edbNumber.string="",this.lbNumber.string="",this.numberHolder.active=!0,this.numberContent.active=!1,this.edbBetPerNumber.string="1",this.edbTotalBet.string=""+e.bet,this.lbWinBet.string=e.ratio+"K",this.currentSelectedNumbers=[]}actionSubmitBet(){if(0===this.currentSelectedNumbers.length)return void r.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a ch\u1ecdn s\u1ed1 \u0111\u1ec1!");r.default.instance.showLoading(!0);let e={gameType:this.currentMode.name,numbersInString:this.currentSelectedNumbers,betSize:1e3*Number(this.edbBetPerNumber.string),totalMoneyBet:1e3*Number(this.edbTotalBet.string),cityId:this.cities[this.dropDownCities.getValue()].id,accessToken:a.default.Login.AccessToken,date:this.getSession(this.dateOfBet)};cc.log(e),g.default.post(a.default.App.API_LODE+"bet",e,(e,t)=>{r.default.instance.showLoading(!1),this.node&&(null==e?(cc.log(t),t.success?(r.default.instance.alertDialog.showMsg("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng."),this.resetNumber()):r.default.instance.alertDialog.showMsg(t.desc)):r.default.instance.alertDialog.showMsg("\u0110\u1eb7t c\u01b0\u1ee3c l\u1ed7i."))})}changeTabs(e){let t=this.tabs.indexOf(e);switch(this.tabContents.children.forEach((e,i)=>e.active=i===t),t){case 0:case 1:break;case 2:this.scrollNewBet.scrollToBottom(.5);break;case 3:this.scrollChat.scrollToBottom(.5)}}checkAvaiableResultCurrentDate(){let e=new Date;g.default.get(a.default.App.API_LODE+"cities",{date:this.getSession(e)},(t,i)=>{if(!this.node)return;if(null!=t)return;cc.log(i);let n=T.City.toCities(i);if(!n||0===n.length)return e.setDate(e.getDate()-1),this.calendarResult.setLastestDateOfResult(e),void this.requestGetCitiesOfResult(e);let s=t=>new Promise((i,s)=>{g.default.get(a.default.App.API_LODE+"info",{date:this.getSession(e),cityId:n[t].id},(e,t)=>{null!=e&&s(e),i(t)})}),r=this;(function(){o(this,void 0,void 0,function*(){for(let o=0;o<n.length;o++){const t=yield s(o);if(!r.node)return;if(cc.log(t),t.hasOwnProperty("nhat")&&Array.isArray(t.nhat)||t.hasOwnProperty("tam")&&Array.isArray(t.tam))return r.calendarResult.setLastestDateOfResult(e),r.dateOfResult=e,r.citiesOfResult=n,r.dropDownCitiesResult.setOptions(r.citiesOfResult.map(e=>e.name)),r.dropDownCitiesResult.setOnValueChange(()=>{r.requestDailyResult()}),r.dropDownCitiesResult.setValue(o),void r.dropDownCitiesResult.clickValue(o)}e.setDate(e.getDate()-1),r.calendarResult.setLastestDateOfResult(e),r.requestGetCitiesOfResult(e);let t=n.map(e=>Math.round((new Date(r.getSession(new Date)+" "+e.timeRelease).getTime()-Date.now())/1e3)),i=Math.min(...t)||0;r.scheduleOnce(()=>{r.calendarResult.setLastestDateOfResult(new Date),r.unschedule(r.scheduleDailyResult),r.requestGetCitiesOfResult(new Date,t.indexOf(i))},i)})})()})}requestGetCitiesOfResult(e,t=0){this.dateOfResult=e,g.default.get(a.default.App.API_LODE+"cities",{date:this.getSession(e)},(e,i)=>{r.default.instance.showLoading(!1),this.node&&null==e&&(cc.log(i),this.citiesOfResult=T.City.toCities(i),this.dropDownCitiesResult.setOptions(this.citiesOfResult.map(e=>e.name)),this.dropDownCitiesResult.setOnValueChange(()=>{this.requestDailyResult()}),this.dropDownCitiesResult.setValue(t),this.dropDownCitiesResult.clickValue(t))})}requestDailyResult(){this.lbDateOfResult.string=this.formatDate(this.dateOfResult),g.default.get(a.default.App.API_LODE+"info",{date:this.getSession(this.dateOfResult),cityId:this.citiesOfResult[this.dropDownCitiesResult.getValue()].id},(e,t)=>{this.node&&null==e&&(cc.log(t),this.gennerateResult(t),t.hasOwnProperty("finished")&&!t.finished&&(this.scheduleDailyResult=()=>{this.requestDailyResult()},this.scheduleOnce(this.scheduleDailyResult,5)))})}gennerateResult(e){let t=[];this.resultContent.children.forEach(e=>{e.getChildByName("Values").children.forEach(e=>e.removeAllChildren())});let i=this.resultContent.children[0].getChildByName("Values");e.hasOwnProperty("db")&&Array.isArray(e.db)?(i.active=!0,e.db.forEach((n,s)=>{let o=cc.instantiate(this.resultItem),a=o.getComponentInChildren(cc.Label);a.string=n,a.fontSize=30,a.node.color=cc.Color.BLACK.fromHEX("#fdeaad"),o.getComponentInChildren(cc.LabelOutline).color=cc.Color.BLACK.fromHEX("#ff8ff0"),o.y=0,e.db.length>4?(i.children[1].active=!0,o.setParent(i.children[s<e.db.length/2?0:1])):(i.children[1].active=!1,o.setParent(i.children[0])),t.push(n.slice(n.length-2))})):i.active=!1;let n=this.resultContent.children[1].getChildByName("Values");e.hasOwnProperty("nhat")&&Array.isArray(e.nhat)?(n.active=!0,e.nhat.forEach((i,s)=>{let o=cc.instantiate(this.resultItem);o.getComponentInChildren(cc.Label).string=i,o.y=0,e.nhat.length>4?(n.children[1].active=!0,o.setParent(n.children[s<e.nhat.length/2?0:1])):(n.children[1].active=!1,o.setParent(n.children[0])),t.push(i.slice(i.length-2))})):n.active=!1;let s=this.resultContent.children[2].getChildByName("Values");e.hasOwnProperty("nhi")&&Array.isArray(e.nhi)?(s.active=!0,e.nhi.forEach((i,n)=>{let o=cc.instantiate(this.resultItem);o.getComponentInChildren(cc.Label).string=i,o.y=0,e.nhi.length>4?(s.children[1].active=!0,o.setParent(s.children[n<e.nhi.length/2?0:1])):(s.children[1].active=!1,o.setParent(s.children[0])),t.push(i.slice(i.length-2))})):s.active=!1;let o=this.resultContent.children[3].getChildByName("Values");e.hasOwnProperty("ba")&&Array.isArray(e.ba)?(o.active=!0,e.ba.forEach((i,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=i,s.y=0,e.ba.length>4?(o.children[1].active=!0,s.setParent(o.children[n<e.ba.length/2?0:1])):(o.children[1].active=!1,s.setParent(o.children[0])),t.push(i.slice(i.length-2))})):o.active=!1;let a=this.resultContent.children[4].getChildByName("Values");e.hasOwnProperty("bon")&&Array.isArray(e.bon)?(a.active=!0,e.bon.forEach((i,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=i,s.y=0,e.bon.length>4?(a.children[1].active=!0,s.setParent(a.children[n<e.bon.length/2?0:1])):(a.children[1].active=!1,s.setParent(a.children[0])),t.push(i.slice(i.length-2))})):a.active=!1;let r=this.resultContent.children[5].getChildByName("Values");e.hasOwnProperty("nam")&&Array.isArray(e.nam)?(r.active=!0,e.nam.forEach((i,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=i,s.y=0,e.nam.length>4?(r.children[1].active=!0,s.setParent(r.children[n<e.nam.length/2?0:1])):(r.children[1].active=!1,s.setParent(r.children[0])),t.push(i.slice(i.length-2))})):r.active=!1;let c=this.resultContent.children[6].getChildByName("Values");e.hasOwnProperty("sau")&&Array.isArray(e.sau)?(c.active=!0,e.sau.forEach((i,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=i,s.y=0,e.sau.length>4?(c.children[1].active=!0,s.setParent(c.children[n<e.sau.length/2?0:1])):(c.children[1].active=!1,s.setParent(c.children[0])),t.push(i.slice(i.length-2))})):c.active=!1;let l=this.resultContent.children[7].getChildByName("Values");if(e.hasOwnProperty("bay")&&Array.isArray(e.bay)?(l.active=!0,e.bay.forEach((i,n)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);o.string=i,o.node.color=cc.Color.BLACK.fromHEX(e.hasOwnProperty("tam")&&Array.isArray(e.tam)&&!e.tam.every(e=>!e)?"#ffffff":"#eb43ff"),s.y=0,e.bay.length>4?(l.children[1].active=!0,s.setParent(l.children[n<e.bay.length/2?0:1])):(l.children[1].active=!1,s.setParent(l.children[0])),t.push(i.slice(i.length-2))})):l.active=!1,e.hasOwnProperty("tam")&&Array.isArray(e.tam)&&!e.tam.every(e=>!e)){this.resultContent.children[8].active=!0;let i=this.resultContent.children[8].getChildByName("Values");e.tam.forEach((n,s)=>{let o=cc.instantiate(this.resultItem),a=o.getComponentInChildren(cc.Label);a.string=n,a.node.color=cc.Color.BLACK.fromHEX("#eb43ff"),o.y=0,e.tam.length>4?(i.children[1].active=!0,o.setParent(i.children[s<e.tam.length/2?0:1])):(i.children[1].active=!1,o.setParent(i.children[0])),t.push(n.slice(n.length-2))})}else this.resultContent.children[8].active=!1;for(let h=0;h<10;h++){let e=t.filter(e=>e.endsWith(""+h)).map(e=>e[0]),i=t.filter(e=>e.startsWith(""+h)).map(e=>e[1]),n=this.statitics.children[h].getComponentsInChildren(cc.Label);n[0].string=e.sort().join(","),n[1].string=""+h,n[2].string=i.sort().join(",")}}actionNextCityOfResult(){this.unschedule(this.scheduleDailyResult);let e=this.dropDownCitiesResult.getValue(),t=e===this.citiesOfResult.length-1?0:e+1;this.dropDownCitiesResult.setValue(t),this.dropDownCitiesResult.clickValue(t)}actionPrevioursCityOfResult(){this.unschedule(this.scheduleDailyResult);let e=this.dropDownCitiesResult.getValue(),t=0===e?this.citiesOfResult.length-1:e-1;this.dropDownCitiesResult.setValue(t),this.dropDownCitiesResult.clickValue(t)}actionNextDateOfResult(){let e=this.calendarResult.getLastestDateOfResult(),t=new Date(this.dateOfResult);t.setDate(t.getDate()+1),(t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()||t<e)&&this.updateDateOfResult(t)}actionPrevioursDateOfResult(){let e=new Date(this.dateOfResult);e.setDate(e.getDate()-1),this.updateDateOfResult(e)}actionSendChat(){let e=this.edtChatInput.string.trim();e.length>0&&(this.edtChatInput.string="",d.default.getInstance().send(new f.default.SendChat(unescape(encodeURIComponent(e)))))}addChat(e){let t=null;for(var i=0;i<this.scrollChat.content.childrenCount;i++){let e=this.scrollChat.content.children[i];if(!e.active){t=e;break}}null==t&&(t=this.scrollChat.content.childrenCount>=50?this.scrollChat.content.children[0]:cc.instantiate(this.itemChatTemplate));var n=0;for(i=0;i<this.scrollChat.content.childrenCount;i++){let e=this.scrollChat.content.children[i];e!=t&&(e.zIndex=n++)}t.parent=this.scrollChat.content,t.active=!0,t.zIndex=n++;let s=t.getComponentInChildren(cc.RichText);s.imageAtlas=this.atlasVip;let o=D.default.getColorVip("VIP_"+e.vipId),a="<color="+o+"><outline color="+o+"width=1>"+e.nickname+"</outline></color> <img src='Vip"+e.vipId+"' offset=0,-7/><img src='VIP_"+e.vipId+"' offset=0,-7/>:  "+e.message;s.string=a,this.scheduleOnce(()=>{this.scrollChat.scrollToBottom(.5)},.5)}formatDate(e){var t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[i,t,n].join("/")}getSession(e){var t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[n,t,i].join("-")}formatShortDate(e){var t=""+(e.getMonth()+1),i=""+e.getDate();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[i,t].join("/")}getLongSession(e){var t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear(),s=""+e.getHours(),o=""+e.getMinutes(),a=""+e.getSeconds();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),[n,t,i].join("-")+"T"+[s,o,a].join(":")}onBetPerNumberChanged(e){e.length>0?(0==/^[0-9]*$/.test(e)&&(r.default.instance.alertDialog.showMsg("Ti\u1ec1n c\u01b0\u1ee3c ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),this.edbBetPerNumber.string="1",e="1"),0==parseInt(e)&&(this.edbBetPerNumber.string="1",e="1"),this.edbBetPerNumber.string=""+parseInt(e)):(this.edbBetPerNumber.string="1",e="1");let t=parseInt(e),i=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1;this.edbTotalBet.string=""+this.currentMode.bet*t*i,this.lbWinBet.string=this.currentMode.ratio*t+"K"}onTotalBetChanged(e){e.length>0?(0==/^[0-9]*$/.test(e)&&(r.default.instance.alertDialog.showMsg("Ti\u1ec1n c\u01b0\u1ee3c ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),this.edbTotalBet.string=""+this.currentMode.bet,e=""+this.currentMode.bet),0==parseInt(e)&&(this.edbTotalBet.string=""+this.currentMode.bet,e=""+this.currentMode.bet),this.edbTotalBet.string=""+parseInt(e)):(this.edbTotalBet.string="1",e="1");let t=parseInt(e);t<this.currentMode.bet&&(t=this.currentMode.bet,this.edbTotalBet.string=t+"");let i=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1;this.edbBetPerNumber.string=""+Math.round(t/this.currentMode.bet/i*100)/100,this.lbWinBet.string=Math.round(this.currentMode.ratio*(t/this.currentMode.bet/i)*100)/100+"K"}actionBack(){d.default.getInstance().send(new f.default.SendUnScribeChat),cc.audioEngine.stopAll(),r.default.instance.loadScene("Lobby")}actionAddCoin(){l.default.createAndShow(r.default.instance.popups)}onNumberBegan(){this.numberHolder.active=!1,cc.sys.isNative?(this.numberContent.active=!0,cc.tween(this.numberCursor).repeatForever(cc.blink(1,1)).start(),this.lbNumber.string.length>0&&(this.lbNumber.string=this.lbNumber.string+"-")):this.numberContent.active=!1}onNumberChanged(){if(cc.sys.isNative){let e=this.edbNumber.string.replace(/[^0-9]/g,"").match(new RegExp(".{1,"+this.currentMode.numberDigits+"}","g"));e?(this.lbNumber.string=e.join("-"),e[e.length-1].length===this.currentMode.numberDigits&&(this.lbNumber.string=this.lbNumber.string+"-")):this.lbNumber.string=""}}onNumberEnded(){cc.Tween.stopAllByTarget(this.numberCursor),this.numberCursor.active=!1;let e=this.edbNumber.string.replace(/[^0-9]/g,"").match(new RegExp(".{1,"+this.currentMode.numberDigits+"}","g"));if(e)if(e[e.length-1].length<this.currentMode.numberDigits&&e.pop(),e.length>this.currentMode.quantityNumber&&r.default.instance.toast.showToast("B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a "+this.currentMode.quantityNumber+" s\u1ed1"),e.splice(this.currentMode.quantityNumber),e.length>0){this.currentSelectedNumbers=[...new Set(e)],this.lbNumber.string=this.currentSelectedNumbers.join("-"),this.edbNumber.string=this.currentSelectedNumbers.join(""),this.numberContent.active=!0;let t=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1,i=Number(this.edbBetPerNumber.string);this.edbTotalBet.string=""+Math.round(this.currentMode.bet*i*t*100)/100,this.lbWinBet.string=Math.round(this.currentMode.ratio*i*100)/100+"K"}else this.resetNumber();else this.resetNumber()}resetNumber(){this.currentSelectedNumbers=[],this.numberHolder.active=!0,this.numberContent.active=!1,this.lbNumber.string="",this.edbNumber.string="",this.onBetPerNumberChanged("")}actionSelectNumber(){this.popupSelectNumber.showSelectNumber(this.currentSelectedNumbers,this.currentMode)}updateCurrentSelectedNumbers(e){if(this.currentSelectedNumbers=[...e],0==this.currentSelectedNumbers.length)return void this.resetNumber();this.lbNumber.string=this.currentSelectedNumbers.join("-"),this.edbNumber.string=this.currentSelectedNumbers.join(""),this.numberContent.active=!0,this.numberCursor.active=!1,this.numberHolder.active=!1;let t=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1,i=Number(this.edbBetPerNumber.string);this.edbTotalBet.string=""+Math.round(this.currentMode.bet*i*t*100)/100,this.lbWinBet.string=Math.round(this.currentMode.ratio*i*100)/100+"K"}actionHistory(){this.popupHistory.showHistory(this.gameModes,this.allCities)}requestGetNewBetHistory(){g.default.get(a.default.App.API_LODE+"getGlobalHistory",{page:0,size:20},(e,t)=>{if(!this.node)return;if(null!=e||!t.success)return;cc.log(t);let i=t.lotteryResults;for(let n=0;n<i.length;n++){const e=i[n];let t=this.scrollNewBet.content.children[n];t||((t=cc.instantiate(this.itemNewBet)).parent=this.scrollNewBet.content),t.active=!0;let s=t.getComponentsInChildren(cc.Label);s[0].string=e.nickName.length>16?e.nickName.substr(0,13)+"...":e.nickName;let o=this.gameModes.find(t=>t.name===e.gameType);s[1].string=(o?o.displayName:e.gameType)+":",s[2].string=e.betNumbers.length>20?e.betNumbers.substr(0,17)+"...":e.betNumbers,s[3].string=D.default.formatMoneyChip(e.betMoney);let a=this.allCities.find(t=>t.id==e.cityId);s[4].string="("+(a?a.name:e.cityId)+")"}})}actionHonors(){this.popupHonors.show()}updateDateOfBet(e){this.dateOfBet=e,this.lbDateOfBet.string=this.formatDate(this.dateOfBet),this.requestGetCitiesOfBet(e)}actionShowCalendarResult(){this.calendarResult.show(this.dateOfResult)}updateDateOfResult(e){this.unschedule(this.scheduleDailyResult),this.requestGetCitiesOfResult(e)}requestAllCities(){g.default.get(a.default.App.API_LODE+"cities",{},(e,t)=>{r.default.instance.showLoading(!1),this.node&&(this.buttonHonors.active=!0,this.buttonHistory.active=!0,null==e&&(cc.log(t),this.allCities=T.City.toCities(t),this.requestGetNewBetHistory(),this.schedule(this.requestGetNewBetHistory,5)))})}actionGuide(){this.popupGuide.showGuide(this.currentMode)}};L.instance=null,s([w(cc.Label)],L.prototype,"labelUserGold",void 0),s([w(cc.Toggle)],L.prototype,"tabs",void 0),s([w(cc.Node)],L.prototype,"tabContents",void 0),s([w(p.default)],L.prototype,"dropDownCities",void 0),s([w(cc.Label)],L.prototype,"lbWinBet",void 0),s([w(cc.EditBox)],L.prototype,"edbBetPerNumber",void 0),s([w(cc.EditBox)],L.prototype,"edbTotalBet",void 0),s([w(cc.Label)],L.prototype,"lbDateOfBet",void 0),s([w(cc.Label)],L.prototype,"lbCountDownTimeRelease",void 0),s([w(cc.Node)],L.prototype,"listGroupMode",void 0),s([w(cc.Node)],L.prototype,"itemGroupMode",void 0),s([w(cc.Node)],L.prototype,"listMode",void 0),s([w(cc.Node)],L.prototype,"itemMode",void 0),s([w([cc.Label])],L.prototype,"lbGuides",void 0),s([w(cc.Node)],L.prototype,"btnGuide",void 0),s([w(cc.EditBox)],L.prototype,"edbNumber",void 0),s([w(cc.Node)],L.prototype,"numberHolder",void 0),s([w(cc.Node)],L.prototype,"numberContent",void 0),s([w(cc.Label)],L.prototype,"lbNumber",void 0),s([w(cc.Node)],L.prototype,"numberCursor",void 0),s([w(cc.Node)],L.prototype,"resultContent",void 0),s([w(cc.Node)],L.prototype,"resultItem",void 0),s([w(p.default)],L.prototype,"dropDownCitiesResult",void 0),s([w(cc.EditBox)],L.prototype,"edtChatInput",void 0),s([w(cc.Node)],L.prototype,"itemChatTemplate",void 0),s([w(cc.ScrollView)],L.prototype,"scrollChat",void 0),s([w(cc.SpriteAtlas)],L.prototype,"atlasVip",void 0),s([w(cc.Node)],L.prototype,"itemNewBet",void 0),s([w(cc.ScrollView)],L.prototype,"scrollNewBet",void 0),s([w(C.default)],L.prototype,"popupSelectNumber",void 0),s([w(y.default)],L.prototype,"popupHistory",void 0),s([w(v.default)],L.prototype,"popupHonors",void 0),s([w(O.default)],L.prototype,"popupGuide",void 0),s([w({type:cc.AudioClip})],L.prototype,"musicBackground",void 0),s([w(M.default)],L.prototype,"calendarBet",void 0),s([w(S.default)],L.prototype,"calendarResult",void 0),s([w(cc.Label)],L.prototype,"lbDateOfResult",void 0),s([w(cc.Node)],L.prototype,"statitics",void 0),s([w(cc.Node)],L.prototype,"buttonHonors",void 0),s([w(cc.Node)],L.prototype,"buttonHistory",void 0),L=n=s([N],L),i.default=L,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Common.AudioManager":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Tween":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/customui/CustomUI.Dropdown":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Lobby/src/Lobby.PopupShop":void 0,"./LoDe.CalendarBet":"LoDe.CalendarBet","./LoDe.CalendarResult":"LoDe.CalendarResult","./LoDe.Cmd":"LoDe.Cmd","./LoDe.PopupSelectNumber":"LoDe.PopupSelectNumber","./Lode.LodeData":"Lode.LodeData","./Lode.PopupGuide":"Lode.PopupGuide","./Lode.PopupHistory":"Lode.PopupHistory","./Lode.PopupHonors":"Lode.PopupHonors"}],"LoDe.PopupSelectNumber":[function(e,t,i){"use strict";cc._RF.push(t,"68e36DegLpD87cgFXxIdvZo","LoDe.PopupSelectNumber");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/Dialog"),a=e("./LoDe.Controller"),r=e("./LoDe.SieuTocController"),{ccclass:c,property:l}=cc._decorator;let h=class extends o.default{constructor(){super(...arguments),this.numberContent=null,this.numberItemTemplate=null,this.toggle3Digits=null,this.currentSelectedNumbers=[],this.currentMode=null}start(){for(let e=0;e<this.toggle3Digits.node.childrenCount;e++)this.toggle3Digits.node.children[e].on("toggle",()=>{this.generateNumber(3,e)})}showSelectNumber(e,t){this.show();let i=t.numberDigits;this.container.y=3===i?50:0,this.toggle3Digits.node.active=3===i,this.toggle3Digits.node.children[0].getComponent(cc.Toggle).check(),this.currentSelectedNumbers=[...e],this.currentMode=t,this.generateNumber(i)}generateNumber(e,t=0){let i=1===e?10:100;for(let n=i;n<this.numberContent.childrenCount;n++)this.numberContent.children[n].active=!1;for(let n=0;n<i;n++){let i=this.numberContent.children[n];i||(i=cc.instantiate(this.numberItemTemplate)),i.active=!0,i.parent=this.numberContent;let o="";switch(e){case 1:o=""+n;break;case 2:o=("0"+n).slice(-2);break;case 3:o=("00"+(n+100*t)).slice(-3)}i.children.forEach(e=>e.getComponentInChildren(cc.Label).string=o),i.off("toggle"),i.on("toggle",e=>{if(e.isChecked)this.currentSelectedNumbers.length===this.currentMode.quantityNumber?(s.default.instance.toast.showToast("B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a "+this.currentMode.quantityNumber+" s\u1ed1"),e.isChecked=!1):this.currentSelectedNumbers.push(o);else{let e=this.currentSelectedNumbers.indexOf(o);e>-1&&this.currentSelectedNumbers.splice(e,1)}}),i.getComponent(cc.Toggle).isChecked=this.currentSelectedNumbers.indexOf(o)>-1}}dismiss(){this.currentSelectedNumbers=[],super.dismiss()}actionConfirm(){(a.default.getInstance()||r.default.getInstance()).updateCurrentSelectedNumbers(this.currentSelectedNumbers),this.dismiss()}};n([l(cc.Node)],h.prototype,"numberContent",void 0),n([l(cc.Node)],h.prototype,"numberItemTemplate",void 0),n([l(cc.ToggleContainer)],h.prototype,"toggle3Digits",void 0),h=n([c],h),i.default=h,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Dialog":void 0,"./LoDe.Controller":"LoDe.Controller","./LoDe.SieuTocController":"LoDe.SieuTocController"}],"LoDe.SieuTocController":[function(e,t,i){"use strict";cc._RF.push(t,"0878f/rNH9EH6FRTv5B2a6a","LoDe.SieuTocController");var n,s=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=e("../../Main/Game/src/common/Configs"),a=e("../../Main/Game/src/common/App"),r=e("../../Main/Game/src/common/BroadcastReceiver"),c=e("../../Main/Lobby/src/Lobby.PopupShop"),l=e("../../Main/Game/src/common/Tween"),h=e("../../Main/Game/src/networks/Network.InPacket"),u=e("../../Main/Game/src/networks/MiniGameNetworkClient"),d=e("../../Main/Game/src/common/Http"),g=e("../../Main/Game/src/customui/CustomUI.Dropdown"),p=e("../../Main/Game/src/common/Common.AudioManager"),m=e("./LoDe.Cmd"),f=e("../../Main/Game/src/common/Utils"),b=e("./LoDe.PopupSelectNumber"),D=e("./Lode.PopupHonors"),C=e("./Lode.PopupGuide"),y=e("./LoDe.SieuTocPanelResult"),v=e("./LoDe.SieuTocPanelChat"),M=e("./LoDe.SieuTocPanelGlobalBet"),S=e("./Lode.LodeData"),O=e("./Lode.SieuTocPopupHistory"),T=e("./LoDe.SieuTocPopupNumberGenerator"),{ccclass:N,property:w}=cc._decorator;let L=n=class extends cc.Component{constructor(){super(...arguments),this.labelUserGold=null,this.dropDownCities=null,this.lbWinBet=null,this.edbBetPerNumber=null,this.edbTotalBet=null,this.lbBetMatchId=null,this.lbCountDownTimeRelease=null,this.listGroupMode=null,this.itemGroupMode=null,this.listMode=null,this.itemMode=null,this.lbGuides=[],this.btnGuide=null,this.edbNumber=null,this.numberHolder=null,this.numberContent=null,this.lbNumber=null,this.numberCursor=null,this.popupSelectNumber=null,this.popupHistory=null,this.popupHonors=null,this.popupGuide=null,this.popupNumberGenerator=null,this.panelResult=null,this.panelGlobalBet=null,this.panelChat=null,this.musicBackground=null,this.buttonHonors=null,this.buttonHistory=null,this.dropdownSieuTocTypeBet=null,this.currentSelectedNumbers=[],this.countDownTimeRelease=null,this.sieuTocGameTypes=[],this.scheduleSieuTocNextMatch=null,this.dateOfBet=null,this.matchId=null,this.countDown=null}static getInstance(){return this.instance}static destroyInstance(){return this.instance}onLoad(){n.instance=this,this.buttonHonors.active=!1,this.buttonHistory.active=!1}start(){p.default.getInstance().playBackgroundMusic(this.musicBackground,!0),r.default.register(r.default.USER_UPDATE_COIN,()=>{l.default.numberTo(this.labelUserGold,o.default.Login.Coin,.3)},this),r.default.send(r.default.USER_UPDATE_COIN),u.default.getInstance().addListener(e=>{switch(new h.default(e).getCmdId()){case m.default.Code.UPDATE_USER_MONEY:{let t=new m.default.ReceivedUpdateUserMoney(e);o.default.Login.Coin=t.totalMoney,r.default.send(r.default.USER_UPDATE_COIN),t.showPopup&&a.default.instance.alertDialog.showMsg("C\xf3 th\u01b0 m\u1edbi :\n"+t.desc)}}},this),a.default.instance.showLoading(!0),this.requestGetGameModes(),cc.game.on(cc.game.EVENT_HIDE,function(){cc.sys.localStorage.setItem("lode_time_hide",Date.now())}),cc.game.on(cc.game.EVENT_SHOW,function(){if(cc.sys.localStorage.getItem("lode_time_hide")){let e=Math.round((Date.now()-JSON.parse(cc.sys.localStorage.getItem("lode_time_hide")))/1e3);cc.sys.localStorage.removeItem("lode_time_hide"),e>5&&(a.default.instance.showLoading(!0),u.default.getInstance().checkConnect(()=>{cc.director.loadScene("LoDeSieuToc",()=>{a.default.instance.showLoading(!1)})}))}})}onDestroy(){this.unschedule(this.countDownTimeRelease),n.destroyInstance(),cc.game.clear()}requestGetCitiesOfBet(e){d.default.get(o.default.App.API_LODE_SIEU_TOC+"cities",{date:this.getSession(e)},(t,i)=>{this.node&&(null==t?(cc.log(i),this.cities=S.City.toCities(i),this.dropDownCities.setOptions(this.cities.map(e=>e.name)),this.dropDownCities.setOnValueChange(t=>{this.changeCityOfBet(this.cities[t],e)}),this.dropDownCities.setValue(0),this.dropDownCities.clickValue(0),this.requestSieuTocGameTypes()):a.default.instance.alertDialog.showMsgWithOnDismissed("H\u1ec7 th\u1ed1ng \u0111ang b\u1ea3o tr\xec, vui l\xf2ng quay l\u1ea1i sau.",()=>{this.actionBack()}))})}requestGetGameModes(){d.default.get(o.default.App.API_LODE_SIEU_TOC+"gameTypes",{},(e,t)=>{this.node&&(null==e?(cc.log(t),this.gameModes=S.GameMode.toGameModes(t),this.panelGlobalBet.setGameModes(this.gameModes),this.requestGetCitiesOfBet(new Date),this.requestAllCities()):a.default.instance.alertDialog.showMsgWithOnDismissed("H\u1ec7 th\u1ed1ng \u0111ang b\u1ea3o tr\xec, vui l\xf2ng quay l\u1ea1i sau.",()=>{this.actionBack()}))})}changeCityOfBet(e,t){let i=this.gameModes.filter(t=>t.lotteryRegion===e.region);this.groupModes=[],i.forEach(e=>{let t=this.groupModes.find(t=>e.name.includes(t.groupMode));if(t)t.listMode.push(e);else{let t=new S.GroupMode,i=Object.keys(S.GroupModeENUM).find(t=>e.name.includes(S.GroupModeENUM[t]));i&&(t.groupMode=S.GroupModeENUM[i],t.listMode=[],t.listMode.push(e),this.groupModes.push(t))}}),this.listGroupMode.removeAllChildren();for(let n=0;n<this.groupModes.length;n++){let e=cc.instantiate(this.itemGroupMode),t=e.getComponentsInChildren(cc.Label);t[0].string=this.groupModes[n].getDisplayName().toLocaleUpperCase(),t[1].string=this.groupModes[n].getDisplayName().toLocaleUpperCase(),e.parent=this.listGroupMode,e.active=!0,cc.tween(e).set({opacity:0}).delay(.1*n).to(.3,{opacity:255},{easing:cc.easing.backOut}).start(),e.on("toggle",()=>{this.changeGroupMode(this.groupModes[n])}),0===n&&this.scheduleOnce(()=>{this.changeGroupMode(this.groupModes[n])},.1*this.groupModes.length);let i=this.groupModes[n].listMode.filter(e=>e.active);e.getComponent(cc.Toggle).interactable=!(0===i.length)}this.panelResult.updateMatchResult()}actionNextCity(){let e=this.dropDownCities.getValue(),t=e===this.cities.length-1?0:e+1;this.dropDownCities.setValue(t),this.dropDownCities.clickValue(t)}actionPrevioursCity(){let e=this.dropDownCities.getValue(),t=0===e?this.cities.length-1:e-1;this.dropDownCities.setValue(t),this.dropDownCities.clickValue(t)}changeGroupMode(e){this.listMode.removeAllChildren();for(let t=0;t<e.listMode.length;t++){let i=cc.instantiate(this.itemMode);i.getComponentInChildren(cc.Label).string=e.listMode[t].getDisplayName().toUpperCase(),i.parent=this.listMode,i.y=0,i.active=!0,cc.tween(i).set({scale:0,opacity:0}).to(.3,{scale:1,opacity:255},{easing:cc.easing.backOut}).start(),i.on("toggle",()=>{this.changeMode(e.listMode[t])}),0===t&&this.changeMode(e.listMode[t])}}changeMode(e){this.currentMode=e,this.lbGuides[0].string=""+e.bet,this.lbGuides[1].string="1",this.lbGuides[2].string=""+e.ratio,this.edbNumber.string="",this.lbNumber.string="",this.numberHolder.active=!0,this.numberContent.active=!1,this.edbBetPerNumber.string="1",this.edbTotalBet.string=""+e.bet,this.lbWinBet.string=e.ratio+"K",this.currentSelectedNumbers=[]}actionSubmitBet(){if(0===this.currentSelectedNumbers.length)return void a.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a ch\u1ecdn s\u1ed1 \u0111\u1ec1!");a.default.instance.showLoading(!0);let e={gameType:this.currentMode.name,numbersInString:this.currentSelectedNumbers,betSize:1e3*Number(this.edbBetPerNumber.string),totalMoneyBet:1e3*Number(this.edbTotalBet.string),cityId:this.cities[this.dropDownCities.getValue()].id,accessToken:o.default.Login.AccessToken,quickLotteryType:this.sieuTocGameTypes[this.dropdownSieuTocTypeBet.getValue()].name};cc.log(e),d.default.post(o.default.App.API_LODE_SIEU_TOC+"bet",e,(t,i)=>{a.default.instance.showLoading(!1),this.node&&(null==t?(cc.log(i),i.success?(a.default.instance.alertDialog.showMsg("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng."),this.resetNumber(),cc.sys.localStorage.setItem("lodesieutoc_lastest_bet",JSON.stringify(e))):a.default.instance.alertDialog.showMsg(i.desc)):a.default.instance.alertDialog.showMsg("\u0110\u1eb7t c\u01b0\u1ee3c l\u1ed7i."))})}actionClearBet(){this.resetNumber()}actionReBet(){let e=cc.sys.localStorage.getItem("lodesieutoc_lastest_bet");e&&this.setReBet(JSON.parse(e))}setReBet(e){let t=this.cities.findIndex(t=>t.id===e.cityId);this.dropDownCities.setValue(t),this.dropDownCities.clickValue(t);let i=this.groupModes.findIndex(t=>t.listMode.find(t=>t.name===e.gameType));this.scheduleOnce(()=>{this.listGroupMode.children[i].getComponent(cc.Toggle).check(),this.changeGroupMode(this.groupModes[i])},1);let n=this.groupModes[i].listMode.findIndex(t=>t.name===e.gameType);this.scheduleOnce(()=>{this.listMode.children[n].getComponent(cc.Toggle).check(),this.changeMode(this.groupModes[i].listMode[n])},2),this.scheduleOnce(()=>{this.edbNumber.string=e.numbersInString.join(""),this.onNumberEnded(),this.edbBetPerNumber.string=""+e.betSize/1e3,this.edbTotalBet.string=""+e.totalMoneyBet/1e3},2.1);let s=this.sieuTocGameTypes.findIndex(t=>t.name===e.quickLotteryType);this.dropdownSieuTocTypeBet.setValue(s),this.dropdownSieuTocTypeBet.clickValue(s)}actionShowResult(){let e=new Date(this.dateOfBet);if(this.countDown>=0){let t=this.sieuTocGameTypes[this.dropdownSieuTocTypeBet.getValue()];e.setMinutes(e.getMinutes()-t.intervalSeconds/60),e.setSeconds(e.getSeconds()-t.intervalSeconds%60)}this.panelResult.show()}actionShowGlobalBet(){this.panelGlobalBet.show()}actionShowChat(){this.panelChat.show()}formatDate(e){var t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[i,t,n].join("/")}getSession(e){var t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[n,t,i].join("-")}formatShortDate(e){var t=""+(e.getMonth()+1),i=""+e.getDate();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),[i,t].join("/")}onBetPerNumberChanged(e){e.length>0?(0==/^[0-9]*$/.test(e)&&(a.default.instance.alertDialog.showMsg("Ti\u1ec1n c\u01b0\u1ee3c ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),this.edbBetPerNumber.string="1",e="1"),0==parseInt(e)&&(this.edbBetPerNumber.string="1",e="1"),this.edbBetPerNumber.string=""+parseInt(e)):(this.edbBetPerNumber.string="1",e="1");let t=parseInt(e),i=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1;this.edbTotalBet.string=""+this.currentMode.bet*t*i,this.lbWinBet.string=this.currentMode.ratio*t+"K"}onTotalBetChanged(e){e.length>0?(0==/^[0-9]*$/.test(e)&&(a.default.instance.alertDialog.showMsg("Ti\u1ec1n c\u01b0\u1ee3c ph\u1ea3i l\xe0 s\u1ed1 d\u01b0\u01a1ng"),this.edbTotalBet.string=""+this.currentMode.bet,e=""+this.currentMode.bet),0==parseInt(e)&&(this.edbTotalBet.string=""+this.currentMode.bet,e=""+this.currentMode.bet),this.edbTotalBet.string=""+parseInt(e)):(this.edbTotalBet.string="1",e="1");let t=parseInt(e);t<this.currentMode.bet&&(t=this.currentMode.bet,this.edbTotalBet.string=t+"");let i=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1;this.edbBetPerNumber.string=""+Math.round(t/this.currentMode.bet/i*100)/100,this.lbWinBet.string=Math.round(this.currentMode.ratio*(t/this.currentMode.bet/i)*100)/100+"K"}actionBack(){cc.audioEngine.stopAll(),a.default.instance.loadScene("Lobby")}actionAddCoin(){c.default.createAndShow(a.default.instance.popups)}onNumberBegan(){this.numberHolder.active=!1,cc.sys.isNative?(this.numberContent.active=!0,cc.tween(this.numberCursor).repeatForever(cc.blink(1,1)).start(),this.lbNumber.string.length>0&&(this.lbNumber.string=this.lbNumber.string+"-")):this.numberContent.active=!1}onNumberChanged(){if(cc.sys.isNative){let e=this.edbNumber.string.replace(/[^0-9]/g,"").match(new RegExp(".{1,"+this.currentMode.numberDigits+"}","g"));e?(this.lbNumber.string=e.join("-"),e[e.length-1].length===this.currentMode.numberDigits&&(this.lbNumber.string=this.lbNumber.string+"-")):this.lbNumber.string=""}}onNumberEnded(){cc.Tween.stopAllByTarget(this.numberCursor),this.numberCursor.active=!1;let e=this.edbNumber.string.replace(/[^0-9]/g,"").match(new RegExp(".{1,"+this.currentMode.numberDigits+"}","g"));if(e)if(e[e.length-1].length<this.currentMode.numberDigits&&e.pop(),e.length>this.currentMode.quantityNumber&&a.default.instance.toast.showToast("B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn t\u1ed1i \u0111a "+this.currentMode.quantityNumber+" s\u1ed1"),e.splice(this.currentMode.quantityNumber),e.length>0){this.currentSelectedNumbers=[...new Set(e)],this.lbNumber.string=this.currentSelectedNumbers.join("-"),this.edbNumber.string=this.currentSelectedNumbers.join(""),this.numberContent.active=!0;let t=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1,i=Number(this.edbBetPerNumber.string);this.edbTotalBet.string=""+Math.round(this.currentMode.bet*i*t*100)/100,this.lbWinBet.string=Math.round(this.currentMode.ratio*i*100)/100+"K"}else this.resetNumber();else this.resetNumber()}resetNumber(){this.currentSelectedNumbers=[],this.numberHolder.active=!0,this.numberContent.active=!1,this.lbNumber.string="",this.edbNumber.string="",this.onBetPerNumberChanged("")}actionSelectNumber(){this.popupSelectNumber.showSelectNumber(this.currentSelectedNumbers,this.currentMode)}updateCurrentSelectedNumbers(e){if(this.currentSelectedNumbers=[...e],0==this.currentSelectedNumbers.length)return void this.resetNumber();this.lbNumber.string=this.currentSelectedNumbers.join("-"),this.edbNumber.string=this.currentSelectedNumbers.join(""),this.numberContent.active=!0,this.numberCursor.active=!1,this.numberHolder.active=!1;let t=0===this.currentMode.numberRequired&&this.currentSelectedNumbers.length>0?this.currentSelectedNumbers.length:1,i=Number(this.edbBetPerNumber.string);this.edbTotalBet.string=""+Math.round(this.currentMode.bet*i*t*100)/100,this.lbWinBet.string=Math.round(this.currentMode.ratio*i*100)/100+"K"}actionHistory(){this.popupHistory.showHistory(this.gameModes,this.allCities)}actionHonors(){this.popupHonors.show()}requestAllCities(){d.default.get(o.default.App.API_LODE_SIEU_TOC+"cities",{},(e,t)=>{a.default.instance.showLoading(!1),this.node&&(this.buttonHonors.active=!0,this.buttonHistory.active=!0,null==e&&(cc.log(t),this.allCities=S.City.toCities(t),this.panelGlobalBet.setAllCities(this.allCities)))})}actionGuide(){this.popupGuide.showGuide(this.currentMode)}requestSieuTocGameTypes(){d.default.get(o.default.App.API_LODE_SIEU_TOC+"quickGameTypes",{},(e,t)=>{a.default.instance.showLoading(!1),this.node&&null==e&&(cc.log(t),this.sieuTocGameTypes=S.SieuTocGameType.toSieuTocGameTypes(t),this.dropdownSieuTocTypeBet.setOptions(this.sieuTocGameTypes.map(e=>e.getDisplayName())),this.dropdownSieuTocTypeBet.setOnValueChange(e=>{this.requestSieuTocMatchInfo(this.sieuTocGameTypes[e])}),this.dropdownSieuTocTypeBet.setValue(0),this.dropdownSieuTocTypeBet.clickValue(0),this.panelGlobalBet.setSieuTocGameType(this.sieuTocGameTypes))})}requestSieuTocMatchInfo(e){d.default.get(o.default.App.API_LODE_SIEU_TOC+"matchInfo",{gameType:e.name},(t,i)=>{this.node&&null==t&&(cc.log(i),this.dateOfBet=new Date(i.startMatchTime),this.matchId=i.startMatchTimeString,this.lbBetMatchId.string=i.startMatchTimeString,this.unschedule(this.countDownTimeRelease),this.unschedule(this.scheduleSieuTocNextMatch),this.countDown=JSON.parse(JSON.stringify(i.countDown)),this.countDownTimeRelease=()=>{if(this.countDown<0)this.unschedule(this.countDownTimeRelease),this.lbCountDownTimeRelease.string=["00","00"].join(":"),a.default.instance.toast.showToast("H\u1ebft th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c"),this.scheduleSieuTocNextMatch=()=>{this.requestSieuTocMatchInfo(e),this.popupNumberGenerator.dismiss(),a.default.instance.toast.showToast("B\u1eaft \u0111\u1ea7u \u0111\u1eb7t c\u01b0\u1ee3c")},this.scheduleOnce(this.scheduleSieuTocNextMatch,e.intervalSeconds-e.endBetSeconds+this.countDown),i.countDown>0&&(this.popupNumberGenerator.showCurrentMatchResult(this.cities[this.dropDownCities.getValue()],this.sieuTocGameTypes[this.dropdownSieuTocTypeBet.getValue()],this.dateOfBet),this.checkBetHistory());else{let e=Math.floor(this.countDown/60),t=Math.floor(this.countDown%60);this.lbCountDownTimeRelease.string=[e<10?"0"+e:e,t<10?"0"+t:t].join(":")}this.countDown--},this.schedule(this.countDownTimeRelease,1))}),this.panelResult.updateMatchResult()}checkBetHistory(){d.default.get(o.default.App.API_LODE_SIEU_TOC+"getHistory",{page:0,size:10},(e,t)=>{if(!this.node)return;if(e)return;if(cc.log(t),!t.success)return;let i=t.lotteryResults.filter(e=>e.matchDateTimeString===this.matchId&&e.prize>0);if(0!==i.length)for(let n=0;n<i.length;n++){const e=i[n];this.scheduleOnce(()=>{a.default.instance.toast.showToast("Th\u1eafng "+f.default.formatMoney(e.prize)+" "+this.gameModes.find(t=>t.name===e.gameType)+", "+this.cities.find(t=>t.id===e.cityId))},1.5*n)}})}getCurrentCityOfBet(){return this.cities[this.dropDownCities.getValue()]}getCurrentSieuTocGameType(){return this.sieuTocGameTypes[this.dropdownSieuTocTypeBet.getValue()]}};L.instance=null,s([w(cc.Label)],L.prototype,"labelUserGold",void 0),s([w(g.default)],L.prototype,"dropDownCities",void 0),s([w(cc.Label)],L.prototype,"lbWinBet",void 0),s([w(cc.EditBox)],L.prototype,"edbBetPerNumber",void 0),s([w(cc.EditBox)],L.prototype,"edbTotalBet",void 0),s([w(cc.Label)],L.prototype,"lbBetMatchId",void 0),s([w(cc.Label)],L.prototype,"lbCountDownTimeRelease",void 0),s([w(cc.Node)],L.prototype,"listGroupMode",void 0),s([w(cc.Node)],L.prototype,"itemGroupMode",void 0),s([w(cc.Node)],L.prototype,"listMode",void 0),s([w(cc.Node)],L.prototype,"itemMode",void 0),s([w([cc.Label])],L.prototype,"lbGuides",void 0),s([w(cc.Node)],L.prototype,"btnGuide",void 0),s([w(cc.EditBox)],L.prototype,"edbNumber",void 0),s([w(cc.Node)],L.prototype,"numberHolder",void 0),s([w(cc.Node)],L.prototype,"numberContent",void 0),s([w(cc.Label)],L.prototype,"lbNumber",void 0),s([w(cc.Node)],L.prototype,"numberCursor",void 0),s([w(b.default)],L.prototype,"popupSelectNumber",void 0),s([w(O.default)],L.prototype,"popupHistory",void 0),s([w(D.default)],L.prototype,"popupHonors",void 0),s([w(C.default)],L.prototype,"popupGuide",void 0),s([w(T.default)],L.prototype,"popupNumberGenerator",void 0),s([w(y.default)],L.prototype,"panelResult",void 0),s([w(M.default)],L.prototype,"panelGlobalBet",void 0),s([w(v.default)],L.prototype,"panelChat",void 0),s([w({type:cc.AudioClip})],L.prototype,"musicBackground",void 0),s([w(cc.Node)],L.prototype,"buttonHonors",void 0),s([w(cc.Node)],L.prototype,"buttonHistory",void 0),s([w(g.default)],L.prototype,"dropdownSieuTocTypeBet",void 0),L=n=s([N],L),i.default=L,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Common.AudioManager":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Tween":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/customui/CustomUI.Dropdown":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Lobby/src/Lobby.PopupShop":void 0,"./LoDe.Cmd":"LoDe.Cmd","./LoDe.PopupSelectNumber":"LoDe.PopupSelectNumber","./LoDe.SieuTocPanelChat":"LoDe.SieuTocPanelChat","./LoDe.SieuTocPanelGlobalBet":"LoDe.SieuTocPanelGlobalBet","./LoDe.SieuTocPanelResult":"LoDe.SieuTocPanelResult","./LoDe.SieuTocPopupNumberGenerator":"LoDe.SieuTocPopupNumberGenerator","./Lode.LodeData":"Lode.LodeData","./Lode.PopupGuide":"Lode.PopupGuide","./Lode.PopupHonors":"Lode.PopupHonors","./Lode.SieuTocPopupHistory":"Lode.SieuTocPopupHistory"}],"LoDe.SieuTocPanelChat":[function(e,t,i){"use strict";cc._RF.push(t,"451baw8Lr9HW5wa/WZeAmM9","LoDe.SieuTocPanelChat");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/BroadcastReceiver"),a=e("../../Main/Game/src/common/Constants"),r=e("../../Main/Game/src/common/Utils"),c=e("../../Main/Game/src/networks/MiniGameNetworkClient"),l=e("../../Main/Game/src/networks/Network.InPacket"),h=e("./LoDe.Cmd"),{ccclass:u,property:d}=cc._decorator;let g=class extends cc.Component{constructor(){super(...arguments),this.container=null,this.itemChatTemplate=null,this.scrollChat=null,this.edbChat=null,this.atlasVip=null,this.isShow=!1}start(){this.itemChatTemplate.active=!1,o.default.send(o.default.SET_SOUND,this.node),c.default.getInstance().addListener(e=>{if(this.node.active)switch(new l.default(e).getCmdId()){case h.default.Code.LOG_CHAT:{let t=new h.default.ReceiveLogChat(e);if(cc.log(t),t.chatChannel!==a.ChatChannel.LO_DE_SIEU_TOC)break;t.messages.forEach(e=>this.addChat(e));break}case h.default.Code.SEND_CHAT:{let t=new h.default.ReceiveSendChat(e);if(cc.log(t),t.chatChannel!==a.ChatChannel.LO_DE_SIEU_TOC)break;switch(t.error){case 0:let e=new h.default.ChatItem;e.nickname=t.nickname,e.message=t.message,e.vipId=t.vip,this.addChat(e);break;default:s.default.instance.actiontDialog.showMsgWithActions(t.desc,t.suggestionActions)}break}}},this)}onDestroy(){c.default.getInstance().send(new h.default.SendUnScribeSieuTocChat)}show(){this.isShow?this.dismiss():(this.scrollChat.content.children.forEach(e=>e.active=!1),this.node.active=!0,this.isShow=!0,cc.tween(this.container).set({position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)}).to(.5,{position:cc.v3((cc.winSize.width-this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backOut}).call(()=>{c.default.getInstance().send(new h.default.SendScribeSieuTocChat)}).start())}dismiss(){cc.tween(this.container).to(.5,{position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backIn}).call(()=>{c.default.getInstance().send(new h.default.SendUnScribeSieuTocChat),this.node.active=!1,this.isShow=!1}).start()}addChat(e){let t=null;for(var i=0;i<this.scrollChat.content.childrenCount;i++){let e=this.scrollChat.content.children[i];if(!e.active){t=e;break}}null==t&&(t=this.scrollChat.content.childrenCount>=50?this.scrollChat.content.children[0]:cc.instantiate(this.itemChatTemplate));var n=0;for(i=0;i<this.scrollChat.content.childrenCount;i++){let e=this.scrollChat.content.children[i];e!=t&&(e.zIndex=n++)}t.parent=this.scrollChat.content,t.active=!0,t.zIndex=n++;let s=t.getComponentInChildren(cc.RichText);s.imageAtlas=this.atlasVip;let o=r.default.getColorVip("VIP_"+e.vipId),a="<color="+o+"><outline color="+o+"width=1>"+e.nickname+"</outline></color> <img src='Vip"+e.vipId+"' offset=0,-7/><img src='VIP_"+e.vipId+"' offset=0,-7/>:  "+e.message;s.string=a,this.scheduleOnce(()=>{this.scrollChat.scrollToBottom(.5)},.5)}sendChat(){let e=this.edbChat.string.trim();0!=e.length&&(this.edbChat.string="",c.default.getInstance().send(new h.default.SendSieuTocChat(unescape(encodeURIComponent(e)))))}};n([d(cc.Node)],g.prototype,"container",void 0),n([d(cc.Node)],g.prototype,"itemChatTemplate",void 0),n([d(cc.ScrollView)],g.prototype,"scrollChat",void 0),n([d(cc.EditBox)],g.prototype,"edbChat",void 0),n([d(cc.SpriteAtlas)],g.prototype,"atlasVip",void 0),g=n([u],g),i.default=g,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"./LoDe.Cmd":"LoDe.Cmd"}],"LoDe.SieuTocPanelGlobalBet":[function(e,t,i){"use strict";cc._RF.push(t,"c3033o+AQdGjJsEHD4o38qh","LoDe.SieuTocPanelGlobalBet");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/Configs"),o=e("../../Main/Game/src/common/Http"),a=e("../../Main/Game/src/common/Utils"),{ccclass:r,property:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.container=null,this.itemGlobalBet=null,this.scrollGlobalBet=null,this.atlasVip=null,this.isShow=!1,this.allCities=[],this.sieuTocGameTypes=[]}onDestroy(){this.unschedule(this.requestGetGlobalBetHistory)}show(){this.isShow?this.dismiss():(this.scrollGlobalBet.content.children.forEach(e=>e.active=!1),this.node.active=!0,this.isShow=!0,cc.tween(this.container).set({position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)}).to(.5,{position:cc.v3((cc.winSize.width-this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backOut}).call(()=>{this.requestGetGlobalBetHistory(),this.schedule(this.requestGetGlobalBetHistory,5)}).start())}dismiss(){cc.tween(this.container).to(.5,{position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backIn}).call(()=>{this.unschedule(this.requestGetGlobalBetHistory),this.node.active=!1,this.isShow=!1}).start()}setGameModes(e){this.gameModes=e}setAllCities(e){this.allCities=e}setSieuTocGameType(e){this.sieuTocGameTypes=e}requestGetGlobalBetHistory(){o.default.get(s.default.App.API_LODE_SIEU_TOC+"getGlobalHistory",{page:0,size:20},(e,t)=>{if(!this.node)return;if(null!=e||!t.success)return;cc.log(t);let i=t.lotteryResults,n=i.map(e=>e.nickName);o.default.get(s.default.App.API,{c:6031,nns:n},(e,t)=>{if(this.node){cc.log(t);for(let e=0;e<i.length;e++){const s=i[e];let o=this.scrollGlobalBet.content.children[e];o||((o=cc.instantiate(this.itemGlobalBet)).parent=this.scrollGlobalBet.content),o.active=!0;let r=o.getComponentsInChildren(cc.Label);r[0].node.color=cc.Color.BLACK.fromHEX("#00DAEC"),r[0].string=s.nickName.length>11?s.nickName.substr(0,8)+"...":s.nickName;let c=this.gameModes.find(e=>e.name===s.gameType);r[1].string=(c?c.displayName:s.gameType)+":",r[2].string=s.betNumbers.length>20?s.betNumbers.substr(0,17)+"...":s.betNumbers,r[3].string=this.sieuTocGameTypes.find(e=>e.name===s.quickGameType).getDisplayName(),r[4].string=a.default.formatMoneyChip(s.betMoney);let l=this.allCities.find(e=>e.id==s.cityId);r[5].string="("+(l?l.name:s.cityId)+")";let h=o.getComponentsInChildren(cc.Sprite);if(t&&t.vipInfo){let i=t.vipInfo[n[e]].id;r[0].node.color=cc.Color.BLACK.fromHEX(a.default.getColorVip("VIP_"+i)),h[0].node.active=!0,h[0].spriteFrame=this.atlasVip.getSpriteFrame("Vip"+i),h[1].node.active=!0,h[1].spriteFrame=this.atlasVip.getSpriteFrame("VIP_"+i)}else h[0].node.active=!1,h[1].node.active=!1}this.scheduleOnce(()=>{this.scrollGlobalBet.scrollToBottom(.5)},.5)}})})}};n([c(cc.Node)],l.prototype,"container",void 0),n([c(cc.Node)],l.prototype,"itemGlobalBet",void 0),n([c(cc.ScrollView)],l.prototype,"scrollGlobalBet",void 0),n([c(cc.SpriteAtlas)],l.prototype,"atlasVip",void 0),l=n([r],l),i.default=l,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"LoDe.SieuTocPanelResult":[function(e,t,i){"use strict";cc._RF.push(t,"aa0edwMlMFOp4hKgAQF5Pre","LoDe.SieuTocPanelResult");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/Configs"),o=e("../../Main/Game/src/common/Http"),a=e("./LoDe.SieuTocController"),{ccclass:r,property:c}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.container=null,this.edbMatchId=null,this.resultContent=null,this.resultItem=null,this.statitics=null,this.isShow=!1}show(){this.isShow?this.dismiss():(this.node.active=!0,this.isShow=!0,cc.tween(this.container).set({position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)}).to(.5,{position:cc.v3((cc.winSize.width-this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backOut}).call(()=>{this.edbMatchId.string.length>0&&this.actionGetMatchResult()}).start())}dismiss(){cc.tween(this.container).to(.5,{position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backIn}).call(()=>{this.node.active=!1,this.isShow=!1}).start()}actionGetMatchResult(){var e,t;if(0===this.edbMatchId.string.length)return;let i=this.edbMatchId.string.split("-");if(i.length<2||8!==i[0].length||4!=i[1].length)return void this.removeAllItemResult();let n=[i[0].slice(0,4),i[0].slice(4,6),i[0].slice(6,8)].join("-"),r=[i[1].slice(0,2),i[1].slice(2,4),"00"].join(":");o.default.get(s.default.App.API_LODE_SIEU_TOC+"info",{cityId:null===(e=a.default.getInstance())||void 0===e?void 0:e.getCurrentCityOfBet().id,quickGameType:null===(t=a.default.getInstance())||void 0===t?void 0:t.getCurrentSieuTocGameType().name,date:[n,r].join("T")},(e,t)=>{if(!this.node)return;if(null!=e)return;cc.log(t),this.removeAllItemResult();let i=[],n=this.resultContent.children[0].getChildByName("Values");t.hasOwnProperty("db")&&Array.isArray(t.db)?(n.active=!0,t.db.forEach((e,s)=>{let o=cc.instantiate(this.resultItem),a=o.getComponentInChildren(cc.Label);a.string=e,a.fontSize=30,a.node.color=cc.Color.BLACK.fromHEX("#fdeaad"),o.getComponentInChildren(cc.LabelOutline).color=cc.Color.BLACK.fromHEX("#ff8ff0"),o.y=0,t.db.length>4?(n.children[1].active=!0,o.setParent(n.children[s<t.db.length/2?0:1])):(n.children[1].active=!1,o.setParent(n.children[0])),i.push(e.slice(e.length-2))})):n.active=!1;let s=this.resultContent.children[1].getChildByName("Values");t.hasOwnProperty("nhat")&&Array.isArray(t.nhat)?(s.active=!0,t.nhat.forEach((e,n)=>{let o=cc.instantiate(this.resultItem);o.getComponentInChildren(cc.Label).string=e,o.y=0,t.nhat.length>4?(s.children[1].active=!0,o.setParent(s.children[n<t.nhat.length/2?0:1])):(s.children[1].active=!1,o.setParent(s.children[0])),i.push(e.slice(e.length-2))})):s.active=!1;let o=this.resultContent.children[2].getChildByName("Values");t.hasOwnProperty("nhi")&&Array.isArray(t.nhi)?(o.active=!0,t.nhi.forEach((e,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=e,s.y=0,t.nhi.length>4?(o.children[1].active=!0,s.setParent(o.children[n<t.nhi.length/2?0:1])):(o.children[1].active=!1,s.setParent(o.children[0])),i.push(e.slice(e.length-2))})):o.active=!1;let a=this.resultContent.children[3].getChildByName("Values");t.hasOwnProperty("ba")&&Array.isArray(t.ba)?(a.active=!0,t.ba.forEach((e,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=e,s.y=0,t.ba.length>4?(a.children[1].active=!0,s.setParent(a.children[n<t.ba.length/2?0:1])):(a.children[1].active=!1,s.setParent(a.children[0])),i.push(e.slice(e.length-2))})):a.active=!1;let r=this.resultContent.children[4].getChildByName("Values");t.hasOwnProperty("bon")&&Array.isArray(t.bon)?(r.active=!0,t.bon.forEach((e,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=e,s.y=0,t.bon.length>4?(r.children[1].active=!0,s.setParent(r.children[n<t.bon.length/2?0:1])):(r.children[1].active=!1,s.setParent(r.children[0])),i.push(e.slice(e.length-2))})):r.active=!1;let c=this.resultContent.children[5].getChildByName("Values");t.hasOwnProperty("nam")&&Array.isArray(t.nam)?(c.active=!0,t.nam.forEach((e,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=e,s.y=0,t.nam.length>4?(c.children[1].active=!0,s.setParent(c.children[n<t.nam.length/2?0:1])):(c.children[1].active=!1,s.setParent(c.children[0])),i.push(e.slice(e.length-2))})):c.active=!1;let l=this.resultContent.children[6].getChildByName("Values");t.hasOwnProperty("sau")&&Array.isArray(t.sau)?(l.active=!0,t.sau.forEach((e,n)=>{let s=cc.instantiate(this.resultItem);s.getComponentInChildren(cc.Label).string=e,s.y=0,t.sau.length>4?(l.children[1].active=!0,s.setParent(l.children[n<t.sau.length/2?0:1])):(l.children[1].active=!1,s.setParent(l.children[0])),i.push(e.slice(e.length-2))})):l.active=!1;let h=this.resultContent.children[7].getChildByName("Values");if(t.hasOwnProperty("bay")&&Array.isArray(t.bay)?(h.active=!0,t.bay.forEach((e,n)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);o.string=e,o.node.color=cc.Color.BLACK.fromHEX(t.hasOwnProperty("tam")&&Array.isArray(t.tam)&&!t.tam.every(e=>!e)?"#ffffff":"#eb43ff"),s.y=0,t.bay.length>4?(h.children[1].active=!0,s.setParent(h.children[n<t.bay.length/2?0:1])):(h.children[1].active=!1,s.setParent(h.children[0])),i.push(e.slice(e.length-2))})):h.active=!1,t.hasOwnProperty("tam")&&Array.isArray(t.tam)&&!t.tam.every(e=>!e)){this.resultContent.children[8].active=!0;let e=this.resultContent.children[8].getChildByName("Values");t.tam.forEach((n,s)=>{let o=cc.instantiate(this.resultItem),a=o.getComponentInChildren(cc.Label);a.string=n,a.node.color=cc.Color.BLACK.fromHEX("#eb43ff"),o.y=0,t.tam.length>4?(e.children[1].active=!0,o.setParent(e.children[s<t.tam.length/2?0:1])):(e.children[1].active=!1,o.setParent(e.children[0])),i.push(n.slice(n.length-2))})}else this.resultContent.children[8].active=!1;for(let u=0;u<10;u++){let e=i.filter(e=>e.endsWith(""+u)).map(e=>e[0]),t=i.filter(e=>e.startsWith(""+u)).map(e=>e[1]),n=this.statitics.children[u].getComponentsInChildren(cc.Label);n[0].string=e.sort().join(","),n[1].string=""+u,n[2].string=t.sort().join(",")}})}removeAllItemResult(){this.resultContent.children.forEach(e=>{e.getChildByName("Values").children.forEach(e=>e.removeAllChildren())});for(let e=0;e<10;e++){let t=this.statitics.children[e].getComponentsInChildren(cc.Label);t[0].string="",t[1].string=""+e,t[2].string=""}}updateMatchResult(){this.isShow&&this.actionGetMatchResult()}};n([c(cc.Node)],l.prototype,"container",void 0),n([c(cc.EditBox)],l.prototype,"edbMatchId",void 0),n([c(cc.Node)],l.prototype,"resultContent",void 0),n([c(cc.Node)],l.prototype,"resultItem",void 0),n([c(cc.Node)],l.prototype,"statitics",void 0),l=n([r],l),i.default=l,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Http":void 0,"./LoDe.SieuTocController":"LoDe.SieuTocController"}],"LoDe.SieuTocPopupNumberGenerator":[function(e,t,i){"use strict";cc._RF.push(t,"dca90h8Ur9NpbW5WGHVL97U","LoDe.SieuTocPopupNumberGenerator");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/Configs"),o=e("../../Main/Game/src/common/Dialog"),a=e("../../Main/Game/src/common/Http"),{ccclass:r,property:c}=cc._decorator;let l=class extends o.default{constructor(){super(...arguments),this.btnClose=null,this.resultContent=null,this.resultItem=null,this.statitics=null,this.lbMatchId=null,this.showResultDuration=1}showCurrentMatchResult(e,t,i){this.show(),this.btnClose.active=!1,a.default.get(s.default.App.API_LODE_SIEU_TOC+"info",{cityId:e.id,quickGameType:t.name,date:this.getLongSession(i)},(t,i)=>{if(!this.node)return;if(null!=t)return;cc.log(i),this.lbMatchId.string=i.id+" - "+e.name;let n=[];this.resultContent.children.forEach(e=>{e.getChildByName("Values").children.forEach(e=>e.removeAllChildren())});let s=this.resultContent.children[0].getChildByName("Values");i.hasOwnProperty("db")&&Array.isArray(i.db)?(s.active=!0,i.db.forEach((e,t)=>{let o=cc.instantiate(this.resultItem),a=o.getComponentInChildren(cc.Label);a.fontSize=30,a.node.color=cc.Color.BLACK.fromHEX("#fdeaad"),o.getComponentInChildren(cc.LabelOutline).color=cc.Color.BLACK.fromHEX("#ff8ff0"),o.y=0,o.active=!0,i.db.length>4?(s.children[1].active=!0,o.setParent(s.children[t<i.db.length/2?0:1])):(s.children[1].active=!1,o.setParent(s.children[0])),this.scheduleOnce(()=>{a.string=e,n.push(e.slice(e.length-2)),g(),this.btnClose.active=!0},(Array.isArray(i.tam)?9:8)*this.showResultDuration)})):(s.active=!1,this.btnClose.active=!0);let o=this.resultContent.children[1].getChildByName("Values");i.hasOwnProperty("nhat")&&Array.isArray(i.nhat)?(o.active=!0,i.nhat.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),a=s.getComponentInChildren(cc.Label);s.y=0,s.active=!0,i.nhat.length>4?(o.children[1].active=!0,s.setParent(o.children[t<i.nhat.length/2?0:1])):(o.children[1].active=!1,s.setParent(o.children[0])),this.scheduleOnce(()=>{a.string=e,n.push(e.slice(e.length-2)),g()},1*this.showResultDuration)})):o.active=!1;let a=this.resultContent.children[2].getChildByName("Values");i.hasOwnProperty("nhi")&&Array.isArray(i.nhi)?(a.active=!0,i.nhi.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);s.y=0,s.active=!0,i.nhi.length>4?(a.children[1].active=!0,s.setParent(a.children[t<i.nhi.length/2?0:1])):(a.children[1].active=!1,s.setParent(a.children[0])),this.scheduleOnce(()=>{o.string=e,n.push(e.slice(e.length-2)),g()},2*this.showResultDuration)})):a.active=!1;let r=this.resultContent.children[3].getChildByName("Values");i.hasOwnProperty("ba")&&Array.isArray(i.ba)?(r.active=!0,i.ba.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);s.y=0,s.active=!0,i.ba.length>4?(r.children[1].active=!0,s.setParent(r.children[t<i.ba.length/2?0:1])):(r.children[1].active=!1,s.setParent(r.children[0])),this.scheduleOnce(()=>{o.string=e,n.push(e.slice(e.length-2)),g()},3*this.showResultDuration)})):r.active=!1;let c=this.resultContent.children[4].getChildByName("Values");i.hasOwnProperty("bon")&&Array.isArray(i.bon)?(c.active=!0,i.bon.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);s.y=0,s.active=!0,i.bon.length>4?(c.children[1].active=!0,s.setParent(c.children[t<i.bon.length/2?0:1])):(c.children[1].active=!1,s.setParent(c.children[0])),this.scheduleOnce(()=>{o.string=e,n.push(e.slice(e.length-2)),g()},4*this.showResultDuration)})):c.active=!1;let l=this.resultContent.children[5].getChildByName("Values");i.hasOwnProperty("nam")&&Array.isArray(i.nam)?(l.active=!0,i.nam.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);s.y=0,s.active=!0,i.nam.length>4?(l.children[1].active=!0,s.setParent(l.children[t<i.nam.length/2?0:1])):(l.children[1].active=!1,s.setParent(l.children[0])),this.scheduleOnce(()=>{o.string=e,n.push(e.slice(e.length-2)),g()},5*this.showResultDuration)})):l.active=!1;let h=this.resultContent.children[6].getChildByName("Values");i.hasOwnProperty("sau")&&Array.isArray(i.sau)?(h.active=!0,i.sau.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);s.y=0,s.active=!0,i.sau.length>4?(h.children[1].active=!0,s.setParent(h.children[t<i.sau.length/2?0:1])):(h.children[1].active=!1,s.setParent(h.children[0])),this.scheduleOnce(()=>{o.string=e,n.push(e.slice(e.length-2)),g()},6*this.showResultDuration)})):h.active=!1;let u=this.resultContent.children[7].getChildByName("Values");if(i.hasOwnProperty("bay")&&Array.isArray(i.bay)?(u.active=!0,i.bay.forEach((e,t)=>{let s=cc.instantiate(this.resultItem),o=s.getComponentInChildren(cc.Label);o.node.color=cc.Color.BLACK.fromHEX(i.hasOwnProperty("tam")&&Array.isArray(i.tam)&&!i.tam.every(e=>!e)?"#ffffff":"#eb43ff"),s.y=0,s.active=!0,i.bay.length>4?(u.children[1].active=!0,s.setParent(u.children[t<i.bay.length/2?0:1])):(u.children[1].active=!1,s.setParent(u.children[0])),this.scheduleOnce(()=>{o.string=e,n.push(e.slice(e.length-2)),g()},7*this.showResultDuration)})):u.active=!1,i.hasOwnProperty("tam")&&Array.isArray(i.tam)&&!i.tam.every(e=>!e)){this.resultContent.children[8].active=!0;let e=this.resultContent.children[8].getChildByName("Values");i.tam.forEach((t,s)=>{let o=cc.instantiate(this.resultItem),a=o.getComponentInChildren(cc.Label);a.node.color=cc.Color.BLACK.fromHEX("#eb43ff"),o.y=0,o.active=!0,i.tam.length>4?(e.children[1].active=!0,o.setParent(e.children[s<i.tam.length/2?0:1])):(e.children[1].active=!1,o.setParent(e.children[0])),this.scheduleOnce(()=>{a.string=t,n.push(t.slice(t.length-2)),g()},8*this.showResultDuration)})}else this.resultContent.children[8].active=!1;let d=this;function g(){for(let e=0;e<10;e++){let t=n.filter(t=>t.endsWith(""+e)).map(e=>e[0]),i=n.filter(t=>t.startsWith(""+e)).map(e=>e[1]),s=d.statitics.children[e].getComponentsInChildren(cc.Label);s[0].string=t.sort().join(","),s[1].string=""+e,s[2].string=i.sort().join(",")}}})}getLongSession(e){var t=""+(e.getMonth()+1),i=""+e.getDate(),n=e.getFullYear(),s=""+e.getHours(),o=""+e.getMinutes(),a=""+e.getSeconds();return t.length<2&&(t="0"+t),i.length<2&&(i="0"+i),s.length<2&&(s="0"+s),o.length<2&&(o="0"+o),a.length<2&&(a="0"+a),[n,t,i].join("-")+"T"+[s,o,a].join(":")}};n([c(cc.Node)],l.prototype,"btnClose",void 0),n([c(cc.Node)],l.prototype,"resultContent",void 0),n([c(cc.Node)],l.prototype,"resultItem",void 0),n([c(cc.Node)],l.prototype,"statitics",void 0),n([c(cc.Label)],l.prototype,"lbMatchId",void 0),l=n([r],l),i.default=l,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0}],"Lode.LodeData":[function(e,t,i){"use strict";var n,s;cc._RF.push(t,"feb2cdHy0BNNbCt7k5S+S+f","Lode.LodeData"),Object.defineProperty(i,"__esModule",{value:!0}),i.SieuTocGameType=i.City=i.GameMode=i.ModeENUM=i.GroupMode=i.GroupModeENUM=void 0,function(e){e.BAO_LO="_BaoLo",e.DE="_De",e.BA_CANG="_BaCang",e.DAU_DUOI="_DauDuoi",e.LO_XIEN="_LoXien",e.LO_TRUOT="_LoTruot",e.LO_DA="_LoDa",e.XIU_CHU="_XiuChu"}(n=i.GroupModeENUM||(i.GroupModeENUM={})),i.GroupMode=class{getDisplayName(){switch(this.groupMode){case n.BAO_LO:return"Bao L\xf4";case n.DE:return"\u0110\u1ec1";case n.BA_CANG:return"3 C\xe0ng";case n.DAU_DUOI:return"\u0110\u1ea7u \u0110u\xf4i";case n.LO_XIEN:return"L\xf4 Xi\xean";case n.LO_TRUOT:return"L\xf4 Tr\u01b0\u1ee3t";case n.LO_DA:return"L\xf4 \u0110\xe1";case n.XIU_CHU:return"X\u1ec9u Ch\u1ee7";default:return""}}},function(e){e.BAO_LO_2_SO="BaoLo2So",e.BAO_LO_3_SO="BaoLo3So",e.DE_DAU="DeDau",e.DE_DAC_BIET="DeDacBiet",e.DE_DAU_DUOI="DeDauDuoi",e.BA_CANG="BaCang",e.DAU_DUOI_DAU="DauDuoiDau",e.DAU_DUOI_DUOI="DauDuoiDuoi",e.LO_XIEN_2="LoXien2",e.LO_XIEN_3="LoXien3",e.LO_XIEN_4="LoXien4",e.LO_TRUOT="LoTruot",e.LO_DA_2="LoDa2",e.LO_DA_3="LoDa3",e.LO_DA_4="LoDa4",e.XIU_CHU_DAU="XiuChuDau",e.XIU_CHU_DUOI="XiuChuDuoi",e.XIU_CHU_DAU_DUOI="XiuChuDauDuoi",e.BA_CANG_DAU="BaCangDau",e.BA_CANG_DUOI="BaCangDuoi",e.BA_CANG_DAU_DUOI="BaCangDauDuoi"}(s=i.ModeENUM||(i.ModeENUM={}));class o{static toGameMode(e){let t=new o;return t.bet=null==e?void 0:e.bet,t.ratio=null==e?void 0:e.ratio,t.lotteryRegion=null==e?void 0:e.lotteryRegionENUM,t.name=null==e?void 0:e.name,t.displayName=null==e?void 0:e.displayName,t.active=null==e?void 0:e.active,t.numberDigits=null==e?void 0:e.numberLength,t.quantityNumber=(null==e?void 0:e.fixedSize)>0?null==e?void 0:e.fixedSize:10,t.prizes=[],null==e||e.fieldNames.forEach(e=>{switch(e){case"special":t.prizes.push("Gi\u1ea3i \u0110\u1eb7c Bi\u1ec7t");break;case"prize1":t.prizes.push("Gi\u1ea3i Nh\u1ea5t");break;case"prize2":t.prizes.push("Gi\u1ea3i Nh\xec");break;case"prize3":t.prizes.push("Gi\u1ea3i Ba");break;case"prize4":t.prizes.push("Gi\u1ea3i T\u01b0");break;case"prize5":t.prizes.push("Gi\u1ea3i N\u0103m");break;case"prize6":t.prizes.push("Gi\u1ea3i S\xe1u");break;case"prize7":t.prizes.push("Gi\u1ea3i B\u1ea3y");break;case"prize8":t.prizes.push("Gi\u1ea3i T\xe1m");break;default:t.prizes.push(e)}}),t.numberRequired=null==e?void 0:e.fixedSize,t}static toGameModes(e){let t=[];return null==e||e.forEach(e=>{t.push(this.toGameMode(e))}),t}getDisplayName(){return this.name.includes(s.BAO_LO_2_SO)?"L\xf4 2 S\u1ed1":this.name.includes(s.BAO_LO_3_SO)?"L\xf4 3 S\u1ed1":this.name.includes(s.DE_DAU_DUOI)?"\u0110\u1ec1\n\u0110\u1ea7u \u0110u\xf4i":this.name.includes(s.DE_DAU)?"\u0110\u1ec1 \u0110\u1ea7u":this.name.includes(s.DE_DAC_BIET)?"\u0110\u1ec1\n\u0110\u1eb7c Bi\u1ec7t":this.name.includes(s.DAU_DUOI_DAU)?"\u0110\u1ea7u":this.name.includes(s.DAU_DUOI_DUOI)?"\u0110u\xf4i":this.name.includes(s.LO_XIEN_2)?"Xi\xean 2":this.name.includes(s.LO_XIEN_3)?"Xi\xean 3":this.name.includes(s.LO_XIEN_4)?"Xi\xean 4":this.name.includes(s.LO_TRUOT)?"L\xf4 Tr\u01b0\u1ee3t":this.name.includes(s.LO_DA_2)?"\u0110\xe1 2":this.name.includes(s.LO_DA_3)?"\u0110\xe1 3":this.name.includes(s.LO_DA_4)?"\u0110\xe1 4":this.name.includes(s.XIU_CHU_DAU_DUOI)?"XC\n\u0110\u1ea7u \u0110u\xf4i":this.name.includes(s.XIU_CHU_DAU)?"XC \u0110\u1ea7u":this.name.includes(s.XIU_CHU_DUOI)?"XC \u0110u\xf4i":this.name.includes(s.BA_CANG_DAU_DUOI)?"3C\n\u0110\u1ea7u \u0110u\xf4i":this.name.includes(s.BA_CANG_DAU)?"3C \u0110\u1ea7u":this.name.includes(s.BA_CANG_DUOI)?"3C \u0110u\xf4i":this.name.includes(s.BA_CANG)?"3 C\xe0ng":this.displayName}}i.GameMode=o;class a{static toCity(e){let t=new a;return t.uuid=null==e?void 0:e.uuid,t.id=null==e?void 0:e.id,t.name=null==e?void 0:e.name,t.date=null==e?void 0:e.date,t.region=null==e?void 0:e.region,t.feature=null==e?void 0:e.feature,t.urlSource=null==e?void 0:e.urlSource,t.urlRSS=null==e?void 0:e.urlRSS,t.urlMinhNgoc=null==e?void 0:e.urlMinhNgoc,t.timeRelease=null==e?void 0:e.timeRelease,t.status=null==e?void 0:e.status,t.createdAt=null==e?void 0:e.createdAt,t.updatedAt=null==e?void 0:e.updatedAt,t}static toCities(e){let t=[];return null==e||e.forEach(e=>{t.push(this.toCity(e))}),t}}i.City=a;class r{static toSieuTocGameType(e){let t=new r;return t.name=null==e?void 0:e.name,t.intervalSeconds=null==e?void 0:e.intervalSeconds,t.endBetSeconds=null==e?void 0:e.endBetSeconds,t}static toSieuTocGameTypes(e){let t=[];return null==e||e.forEach(e=>{t.push(this.toSieuTocGameType(e))}),t}getDisplayName(){switch(this.name){case"MOT_PHUT":return"SI\xcaU T\u1ed0C 1 PH\xdaT";case"BA_PHUT":return"SI\xcaU T\u1ed0C 3 PH\xdaT";case"NAM_PHUT":return"SI\xcaU T\u1ed0C 5 PH\xdaT";default:return this.name}}}i.SieuTocGameType=r,cc._RF.pop()},{}],"Lode.PopupGuide":[function(e,t,i){"use strict";cc._RF.push(t,"c6018hHSEVKCpOnRVJ6DHPI","Lode.PopupGuide");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/Dialog"),{ccclass:o,property:a}=cc._decorator;let r=class extends s.default{constructor(){super(...arguments),this.lbGuide=null,this.guides=[{name:"Bac_BaoLo2So",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 27 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n, n\u1ebfu s\u1ed1 \u0111\xf3 v\u1ec1 N l\u1ea7n th\xec t\xednh k\u1ebft qu\u1ea3 x N l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh l\xf4 79 - 1 con 1k, T\u1ed5ng thanh to\xe1n: 1k x 27 = 27k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k, n\u1ebfu c\xf3 N l\u1ea7n 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 79 th\xec Ti\u1ec1n th\u1eafng l\xe0: 1k x {{ODDS}} x N"},{name:"Bac_BaoLo3So",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 23 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n, n\u1ebfu s\u1ed1 \u0111\xf3 v\u1ec1 N l\u1ea7n th\xec t\xednh k\u1ebft qu\u1ea3 x N l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh l\xf4 789 - 1 con 1k, T\u1ed5ng thanh to\xe1n: 1k x 23 = 23k. N\u1ebfu trong l\xf4 c\xf3 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 789 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k, n\u1ebfu c\xf3 N l\u1ea7n 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 789 th\xec Ti\u1ec1n th\u1eafng l\xe0: 1k x {{ODDS}} x N"},{name:"Bac_DeDau",guide:"\u0110\xe1nh l\xf4 gi\u1ea3i 7 ( c\xf3 4 gi\u1ea3i, thanh to\xe1n \u0111\u1ee7 ). Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho s\u1ed1 79, T\u1ed5ng thanh to\xe1n: 1k x 4 =4k. N\u1ebfu trong l\xf4 gi\u1ea3i 7 c\xf3 1 s\u1ed1 79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_DeDacBiet",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 79. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxx79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_BaCang",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xx879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_DauDuoiDau",guide:"\u0110\xe1nh 1 ch\u1eef s\u1ed1 \u1edf h\xe0ng ch\u1ee5c c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 7. T\u1ed5ng thanh to\xe1n: 1K. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxx7x th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_DauDuoiDuoi",guide:"\u0110\xe1nh 1 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 7. T\u1ed5ng thanh to\xe1n: 1K. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxxx7 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_LoXien2",guide:"Xi\xean 2 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 27 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho xi\xean 11+13, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11, 13 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_LoXien3",guide:"Xi\xean 3 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 27 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho xi\xean 11+13+15, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13,15 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_LoXien4",guide:"Xi\xean 4 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 27 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho xi\xean 11+13+15+20, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13,15,20 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Bac_LoTruot",guide:""},{name:"Trung_BaoLo2So",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n, n\u1ebfu s\u1ed1 \u0111\xf3 v\u1ec1 N l\u1ea7n th\xec t\xednh k\u1ebft qu\u1ea3 x N l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh l\xf4 s\u1ed1 39 - 1 con 1k, T\u1ed5ng thanh to\xe1n: 1k x 18 = 18k. N\u1ebfu trong l\xf4 c\xf3 1 l\u1ea7n 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 39 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k, n\u1ebfu c\xf3 N l\u1ea7n 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 39 th\xec Ti\u1ec1n th\u1eafng l\xe0: 1k x {{ODDS}} x N"},{name:"Trung_BaoLo3So",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 17 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n, n\u1ebfu s\u1ed1 \u0111\xf3 v\u1ec1 N l\u1ea7n th\xec t\xednh k\u1ebft qu\u1ea3 x N l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh l\xf4 789 - 1 con 1k, T\u1ed5ng thanh to\xe1n: 1k x 17 = 17k. N\u1ebfu trong l\xf4 c\xf3 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 789 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k, n\u1ebfu c\xf3 N l\u1ea7n 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 789 th\xec Ti\u1ec1n th\u1eafng l\xe0: 1k x {{ODDS}} x N"},{name:"Trung_DeDau",guide:"\u0110\xe1nh gi\u1ea3i 8. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 79. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i 8 l\xe0 79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_DeDacBiet",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 79. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxx79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_BaCangDau",guide:"\u0110\xe1nh gi\u1ea3i 7. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i 7 l\xe0 879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_BaCangDuoi",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xx879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_BaCangDauDuoi",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B v\xe0 gi\u1ea3i 7. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 2k. N\u1ebfu gi\u1ea3i \u0110B ho\u1eb7c gi\u1ea3i 7 c\xf3 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_DauDuoiDau",guide:"\u0110\xe1nh 1 ch\u1eef s\u1ed1 \u1edf h\xe0ng ch\u1ee5c c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 7. T\u1ed5ng thanh to\xe1n: 1K. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxx7x th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_DauDuoiDuoi",guide:"\u0110\xe1nh 1 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 9. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxxx9 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_LoXien2",guide:"Xi\xean 2 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho xi\xean 11+13, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_LoXien3",guide:"Xi\xean 3 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho xi\xean 11+13+15, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13,15 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_LoXien4",guide:"Xi\xean 4 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho xi\xean 11+13+15+20, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13,15,20 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Trung_LoTruot",guide:""},{name:"Nam_BaoLo2So",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n, n\u1ebfu s\u1ed1 \u0111\xf3 v\u1ec1 N l\u1ea7n th\xec t\xednh k\u1ebft qu\u1ea3 x N l\u1ea7n. V\xed d\u1ee5: bao l\xf4 39 - 1 con 1k, T\u1ed5ng thanh to\xe1n: 1k x 18 = 18k. N\u1ebfu trong l\xf4 c\xf3 1 l\u1ea7n 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 39 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k, n\u1ebfu c\xf3 N l\u1ea7n 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 39 th\xec Ti\u1ec1n th\u1eafng l\xe0: 1k x {{ODDS}} x N"},{name:"Nam_BaoLo3So",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 17 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n, n\u1ebfu s\u1ed1 \u0111\xf3 v\u1ec1 N l\u1ea7n th\xec t\xednh k\u1ebft qu\u1ea3 x N l\u1ea7n. V\xed d\u1ee5: bao l\xf4 789 - 1 con 1k, T\u1ed5ng thanh to\xe1n: 1k x 17 = 17k. N\u1ebfu trong l\xf4 c\xf3 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 789 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k, n\u1ebfu c\xf3 N l\u1ea7n 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 789 th\xec Ti\u1ec1n th\u1eafng l\xe0: 1k x {{ODDS}} x N"},{name:"Nam_DeDau",guide:"\u0110\xe1nh gi\u1ea3i 8. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 79. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i 8 l\xe0 79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_DeDacBiet",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 79. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxx79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_DeDauDuoi",guide:"\u0110\xe1nh 2 ch\u1eef s\u1ed1 cu\u1ed1i trong gi\u1ea3i \u0110B v\xe0 Gi\u1ea3i 8. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 79. T\u1ed5ng thanh to\xe1n: 2k. N\u1ebfu gi\u1ea3i \u0110B ho\u1eb7c gi\u1ea3i 8 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 79 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_LoDa2",guide:'\u0110\xe1 2 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho \u0111\xe1 11+13. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 "1 s\u1ed1 m\xe0 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11 v\xe0 1 s\u1ed1 m\xe0 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 13" th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k'},{name:"Nam_LoDa3",guide:"\u0110\xe1 3 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho \u0111\xe1 11+13+15, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13,15 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_LoDa4",guide:"\u0110\xe1 4 c\u1ee7a 2 ch\u1eef s\u1ed1 cu\u1ed1i trong l\xf4 18 gi\u1ea3i. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5 : \u0111\xe1nh 1k cho \u0111\xe1 11+13+15+20, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu trong l\xf4 c\xf3 2 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 11,13,15,20 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_DauDuoiDau",guide:"\u0110\xe1nh 1 ch\u1eef s\u1ed1 h\xe0ng ch\u1ee5c c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 6. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxxx6x th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_DauDuoiDuoi",guide:"\u0110\xe1nh 1 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 9. T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xxxxx9 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_XiuChuDau",guide:"\u0110\xe1nh gi\u1ea3i 7. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i 7 l\xe0 879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_XiuChuDuoi",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 1k. N\u1ebfu gi\u1ea3i \u0110B l\xe0 xx879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_XiuChuDauDuoi",guide:"\u0110\xe1nh 3 ch\u1eef s\u1ed1 cu\u1ed1i c\u1ee7a gi\u1ea3i \u0110B v\xe0 gi\u1ea3i 7. Th\u1eafng g\u1ea5p {{ODDS}} l\u1ea7n. V\xed d\u1ee5: \u0111\xe1nh 1k cho s\u1ed1 879, T\u1ed5ng thanh to\xe1n: 2k. N\u1ebfu gi\u1ea3i \u0110B ho\u1eb7c gi\u1ea3i 7 c\xf3 3 ch\u1eef s\u1ed1 cu\u1ed1i l\xe0 879 th\xec Ti\u1ec1n th\u1eafng: 1k x {{ODDS}} = {{ODDS}}k"},{name:"Nam_LoTruot",guide:""}]}showGuide(e){let t=this.guides.find(t=>t.name===e.name);t&&(this.lbGuide.string=t.guide.replace(/{{ODDS}}/g,e.ratio+"")),this.show()}};n([a(cc.Label)],r.prototype,"lbGuide",void 0),r=n([o],r),i.default=r,cc._RF.pop()},{"../../Main/Game/src/common/Dialog":void 0}],"Lode.PopupHistory":[function(e,t,i){"use strict";cc._RF.push(t,"fa4190mcDNEnbsksNCSR40r","Lode.PopupHistory");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/Configs"),a=e("../../Main/Game/src/common/Dialog"),r=e("../../Main/Game/src/common/Http"),c=e("../../Main/Game/src/common/Utils"),{ccclass:l,property:h}=cc._decorator;let u=class extends a.default{constructor(){super(...arguments),this.scrollHistory=null,this.historyItemTemplate=null,this.lbPage=null,this.currentPage=0,this.pageSize=10,this.gameModes=[],this.allCities=[]}showHistory(e,t){this.gameModes=e,this.allCities=t,this.currentPage=0,this.show(),this.loadData(this.currentPage)}loadData(e){s.default.instance.showLoading(!0),r.default.get(o.default.App.API_LODE+"getHistory",{page:e,size:this.pageSize},(t,i)=>{if(s.default.instance.showLoading(!1),t)return;if(cc.log("getHistory",JSON.stringify(i)),!i.success)return void s.default.instance.alertDialog.showMsg(i.desc);let n=i.lotteryResults;if(0!==n.length){this.currentPage=e,this.lbPage.string=this.currentPage+1+"/"+i.totalPages,this.scrollHistory.content.children.forEach(e=>e.active=!1);for(let e=0;e<n.length;e++){const t=n[e];let i=this.scrollHistory.content.children[e];i||((i=cc.instantiate(this.historyItemTemplate)).parent=this.scrollHistory.content),i.active=!0;let s=i.getComponentsInChildren(cc.Label);s[0].string=t.date;let o=this.gameModes.find(e=>e.name==t.gameType);s[1].string=(o?o.displayName:t.gameType)+"("+this.allCities.find(e=>e.id==t.cityId).name+")",s[2].string=t.betNumbers.length>24?t.betNumbers.substr(0,21)+"...":t.betNumbers,s[3].string=t.betMoney?c.default.formatMoneyChip(t.betMoney)+"\n"+c.default.formatMoneyChip(Math.round(t.betMoney/t.betNumbers.split(",").length))+"/con":t.betMoney,s[4].string=t.prize?c.default.formatMoneyChip(t.prize):"",s[5].string=t.isRewarded?t.prize>0?"Tr\xfang":"Tr\u01b0\u1ee3t":"Ch\u1edd k\u1ebft qu\u1ea3"}}})}actionPrePage(){0!==this.currentPage&&this.loadData(this.currentPage-1)}actionNextPage(){this.loadData(this.currentPage+1)}};n([h(cc.ScrollView)],u.prototype,"scrollHistory",void 0),n([h(cc.Node)],u.prototype,"historyItemTemplate",void 0),n([h(cc.Label)],u.prototype,"lbPage",void 0),u=n([l],u),i.default=u,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"Lode.PopupHonors":[function(e,t,i){"use strict";cc._RF.push(t,"a2e9fikD9VDLqDvXc0EtmVb","Lode.PopupHonors");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/Configs"),a=e("../../Main/Game/src/common/Dialog"),r=e("../../Main/Game/src/common/Http"),c=e("../../Main/Game/src/common/Utils"),{ccclass:l,property:h}=cc._decorator;let u=class extends a.default{constructor(){super(...arguments),this.scrollHonors=null,this.honorsItemTemplate=null,this.atlasVip=null,this.sprTop=[]}show(){super.show(),this.loadData()}loadData(){s.default.instance.showLoading(!0),r.default.get(("LoDe"===cc.director.getScene().name?o.default.App.API_LODE:o.default.App.API_LODE_SIEU_TOC)+"getTopWin",{page:0,size:10},(e,t)=>{var i;if(s.default.instance.showLoading(!1),e)return;if(cc.log(t),!t.success)return void s.default.instance.alertDialog.showMsg(t.desc);let n=t.data;this.scrollHonors.content.children.forEach(e=>e.active=!1);for(let s=0;s<n.length;s++){const e=n[s];let t=this.scrollHonors.content.children[s];t||((t=cc.instantiate(this.honorsItemTemplate)).parent=this.scrollHonors.content),t.getChildByName("Bg").active=s%2==0,t.getChildByName("IconRank").getComponent(cc.Sprite).spriteFrame=this.sprTop[s];let o=t.getChildByName("Nickname"),a=Number(null===(i=e.vipRank)||void 0===i?void 0:i.replace(/^\D+/g,""));o.getComponentInChildren(cc.Sprite).spriteFrame=this.atlasVip.getSpriteFrame("VIP_"+a),o.getComponentInChildren(cc.Label).node.color=cc.Color.BLACK.fromHEX(c.default.getColorVip("VIP_"+a)),o.getComponentInChildren(cc.Label).string=e.nickName,t.getChildByName("LbWin").getComponent(cc.Label).string=c.default.formatMoney(e.prize),t.active=!0,t.parent=this.scrollHonors.content,t.position=cc.v3(cc.winSize.width,400);let r=.7;t.runAction(cc.sequence(cc.delayTime(.15*s*r),cc.moveTo(.15*r,cc.v2(0,400)),cc.delayTime(.05),cc.moveTo(.2*r*(1===s?.8:1-Math.pow(2,-10*s)),cc.v2(0,380-85*s)).easing(cc.easeCircleActionOut())))}})}};n([h(cc.ScrollView)],u.prototype,"scrollHonors",void 0),n([h(cc.Node)],u.prototype,"honorsItemTemplate",void 0),n([h(cc.SpriteAtlas)],u.prototype,"atlasVip",void 0),n([h([cc.SpriteFrame])],u.prototype,"sprTop",void 0),u=n([l],u),i.default=u,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"Lode.SieuTocPopupHistory":[function(e,t,i){"use strict";cc._RF.push(t,"7c046re1sVPOYblx6KhTVto","Lode.SieuTocPopupHistory");var n=this&&this.__decorate||function(e,t,i,n){var s,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(o<3?s(a):o>3?s(t,i,a):s(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/Configs"),a=e("../../Main/Game/src/common/Dialog"),r=e("../../Main/Game/src/common/Http"),c=e("../../Main/Game/src/common/Utils"),l=e("./LoDe.SieuTocController"),{ccclass:h,property:u}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.scrollHistory=null,this.historyItemTemplate=null,this.lbPage=null,this.currentPage=0,this.pageSize=10,this.gameModes=[],this.allCities=[]}showHistory(e,t){this.gameModes=e,this.allCities=t,this.currentPage=0,this.show(),this.loadData(this.currentPage)}loadData(e){s.default.instance.showLoading(!0),r.default.get(o.default.App.API_LODE_SIEU_TOC+"getHistory",{page:e,size:this.pageSize},(t,i)=>{if(s.default.instance.showLoading(!1),t)return;if(cc.log("getHistory",JSON.stringify(i)),!i.success)return void s.default.instance.alertDialog.showMsg(i.desc);let n=i.lotteryResults;if(0!==n.length){this.currentPage=e,this.lbPage.string=this.currentPage+1+"/"+i.totalPages,this.scrollHistory.content.children.forEach(e=>e.active=!1);for(let e=0;e<n.length;e++){const t=n[e];let i=this.scrollHistory.content.children[e];i||((i=cc.instantiate(this.historyItemTemplate)).parent=this.scrollHistory.content),i.active=!0;let s=i.getComponentsInChildren(cc.Label);s[0].string=t.matchDateTimeString;let o=this.gameModes.find(e=>e.name==t.gameType);s[1].string=(o?o.displayName:t.gameType)+"("+this.allCities.find(e=>e.id==t.cityId).name+")",s[2].string=t.betNumbers.length>24?t.betNumbers.substr(0,21)+"...":t.betNumbers,s[3].string=t.betMoney?c.default.formatMoneyChip(t.betMoney)+"\n"+c.default.formatMoneyChip(Math.round(t.betMoney/t.betNumbers.split(",").length))+"/con":t.betMoney,s[4].string=t.prize?c.default.formatMoneyChip(t.prize):"",s[5].string=t.isRewarded?t.prize>0?"Tr\xfang":"Tr\u01b0\u1ee3t":"Ch\u1edd k\u1ebft qu\u1ea3";let a=i.getChildByName("btnReBet");a.off("click"),a.on("click",()=>{this.dismiss();let e={gameType:t.gameType,numbersInString:t.betNumbers.split(","),betSize:t.betCount,totalMoneyBet:t.betMoney,cityId:t.cityId,quickLotteryType:t.quickGameType};l.default.getInstance().setReBet(e)})}}})}actionPrePage(){0!==this.currentPage&&this.loadData(this.currentPage-1)}actionNextPage(){this.loadData(this.currentPage+1)}};n([u(cc.ScrollView)],d.prototype,"scrollHistory",void 0),n([u(cc.Node)],d.prototype,"historyItemTemplate",void 0),n([u(cc.Label)],d.prototype,"lbPage",void 0),d=n([h],d),i.default=d,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0,"./LoDe.SieuTocController":"LoDe.SieuTocController"}]},{},["LoDe.CalendarBet","LoDe.CalendarResult","LoDe.Cmd","LoDe.Controller","LoDe.PopupSelectNumber","LoDe.SieuTocController","LoDe.SieuTocPanelChat","LoDe.SieuTocPanelGlobalBet","LoDe.SieuTocPanelResult","LoDe.SieuTocPopupNumberGenerator","Lode.LodeData","Lode.PopupGuide","Lode.PopupHistory","Lode.PopupHonors","Lode.SieuTocPopupHistory"]);