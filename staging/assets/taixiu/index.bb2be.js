window.__require=function t(e,i,s){function a(o,l){if(!i[o]){if(!e[o]){var c=o.split("/");if(c=c[c.length-1],!e[c]){var r="function"==typeof __require&&__require;if(!l&&r)return r(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+o+"'")}o=c}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){return a(e[o][1][t]||t)},h,h.exports,t,e,i,s)}return i[o].exports}for(var n="function"==typeof __require&&__require,o=0;o<s.length;o++)a(s[o]);return a}({"TaiXiuMini.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"b758bL62fNHzoW+pRYt1pdx","TaiXiuMini.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;const s=t("../../Main/Game/src/networks/Network.OutPacket"),a=t("../../Main/Game/src/common/Configs"),n=t("../../Main/Game/src/networks/Network.InPacket"),o=t("../../Main/Game/src/common/Constants"),{ccclass:l,property:c}=cc._decorator;var r;(function(t){class e{}e.SCRIBE=2e3,e.UNSCRIBE=2001,e.BET=2110,e.HISTORIES=2116,e.GAME_INFO=2111,e.UPDATE_TIME=2112,e.DICES_RESULT=2113,e.RESULT=2114,e.NEW_GAME=2115,e.LOG_CHAT=18003,e.SEND_CHAT=18e3,e.SCRIBE_CHAT=18001,e.UNSCRIBE_CHAT=18002,e.TX_TAN_LOC=2118,e.TX_RUT_LOC=2119,e.UPDATE_LUOT_RUT_LOC=2122,e.ENABLE_RUT_LOC=2123,e.START_NEW_ROUND_RUT_LOC=2121,e.UPDATE_QUY_LOC=2120,t.Code=e,t.SendScribe=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SCRIBE),this.packHeader(),this.putShort(a.default.GameId.TaiXiu),this.putShort(a.default.App.MONEY_TYPE),this.updateSize()}},t.SendUnScribe=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.UNSCRIBE),this.packHeader(),this.putShort(a.default.GameId.TaiXiu),this.putShort(a.default.App.MONEY_TYPE),this.updateSize()}},t.SendScribeChat=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SCRIBE_CHAT),this.packHeader(),this.updateSize()}},t.SendUnScribeChat=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.UNSCRIBE_CHAT),this.packHeader(),this.updateSize()}},t.SendChat=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SEND_CHAT),this.packHeader(),this.putString(t),this.updateSize()}},t.SendBet=class extends s.default{constructor(t,i,s,n){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.BET),this.packHeader(),this.putInt(1),this.putLong(t),this.putLong(i),this.putShort(a.default.App.MONEY_TYPE),this.putShort(s),this.putShort(n),this.updateSize()}},t.SendHistories=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.HISTORIES),this.packHeader(),this.putInt(1)}},t.CmdSendTanLoc=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.TX_TAN_LOC),this.packHeader(),this.putLong(t),this.updateSize()}},t.CmdSendRutLoc=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.TX_RUT_LOC),this.packHeader(),this.updateSize()}},t.ReceiveGameInfo=class extends n.default{constructor(t){super(t),this.gameId=0,this.moneyType=0,this.referenceId=0,this.remainTime=0,this.bettingState=!1,this.potTai=0,this.potXiu=0,this.betTai=0,this.betXiu=0,this.dice1=0,this.dice2=0,this.dice3=0,this.remainTimeRutLoc=0,this.gameId=this.getShort(),this.moneyType=this.getShort(),this.referenceId=this.getLong(),this.remainTime=this.getShort(),this.bettingState=this.getBool(),this.potTai=this.getLong(),this.potXiu=this.getLong(),this.betTai=this.getLong(),this.betXiu=this.getLong(),this.dice1=this.getShort(),this.dice2=this.getShort(),this.dice3=this.getShort(),this.remainTimeRutLoc=this.getShort()}},t.ReceiveUpdateTime=class extends n.default{constructor(t){super(t),this.remainTime=0,this.bettingState=!1,this.potTai=0,this.potXiu=0,this.numBetTai=0,this.numBetXiu=0,this.remainTime=this.getShort(),this.bettingState=this.getBool(),this.potTai=this.getLong(),this.potXiu=this.getLong(),this.numBetTai=this.getShort(),this.numBetXiu=this.getShort()}},t.ReceiveDicesResult=class extends n.default{constructor(t){super(t),this.result=0,this.dice1=0,this.dice2=0,this.dice3=0,this.result=this.getShort(),this.dice1=this.getShort(),this.dice2=this.getShort(),this.dice3=this.getShort()}},t.ReceiveResult=class extends n.default{constructor(t){super(t),this.moneyType=1,this.totalMoney=0,this.currentMoney=0,this.refund=0,this.moneyType=this.getShort(),this.totalMoney=this.getLong(),this.currentMoney=this.getLong(),this.refund=this.getLong()}},t.ReceiveNewGame=class extends n.default{constructor(t){super(t),this.referenceId=0,this.remainTimeRutLoc=0,this.referenceId=this.getLong(),this.remainTimeRutLoc=this.getShort()}},t.ReceiveHistories=class extends n.default{constructor(t){super(t),this.data="",this.data=this.getString()}},t.ReceiveBet=class extends n.default{constructor(t){super(t),this.result=0,this.currentMoney=0,this.desc="",this.suggestionActions=[],this.result=this.getError(),this.currentMoney=this.getLong(),this.desc=this.getString();let e=this.getString();if(e){let t=JSON.parse(e);(null==t?void 0:t.hasOwnProperty("object"))&&Array.isArray(t.object)&&(this.suggestionActions=o.UserActions.toEnums(t.object))}}},t.ReceiveLogChat=class extends n.default{constructor(t){super(t),this.message="",this.minVipPoint=0,this.timeBan=0,this.userType=0,this.chatChannel="",this.message=this.getString(),this.minVipPoint=this.getByte(),this.timeBan=this.getLong(),this.userType=this.getByte(),this.chatChannel=this.getString()}},t.ReceiveSendChat=class extends n.default{constructor(t){super(t),this.error=0,this.nickname="",this.message="",this.desc="",this.suggestionActions=[],this.vip=0,this.chatChannel="",this.error=this.getError(),this.nickname=this.getString(),this.message=this.getString(),this.desc=this.getString();let e=this.getString();if(this.vip=this.getInt(),e){let t=JSON.parse(e);t.hasOwnProperty("suggestionActions")&&Array.isArray(t.suggestionActions)&&(this.suggestionActions=o.UserActions.toEnums(t.suggestionActions))}this.chatChannel=this.getString()}},t.CmdTXUpdateSoLuotRutLoc=class extends n.default{constructor(t){super(t),this.soLuotRut=0,this.soLuotRut=this.getInt()}},t.CmdTXRutLoc=class extends n.default{constructor(t){super(t),this.prize=0,this.currentMoney=0,this.prize=this.getInt(),this.currentMoney=this.getLong()}},t.CmdTXTanLoc=class extends n.default{constructor(t){super(t),this.currentMoney=0,this.result=this.getShort(),this.currentMoney=this.getLong()}},t.CmdTXUpdateQuyLoc=class extends n.default{constructor(t){super(t),this.value=0,this.remainTime=0,this.value=this.getLong(),this.remainTime=this.getInt()}},t.CmdTXStartRutLoc=class extends n.default{constructor(t){super(t),this.remainTime=this.getInt()}}})(r=i.cmd||(i.cmd={})),i.default=r,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/Network.OutPacket":void 0}],"TaiXiuMini.PanelChat":[function(t,e,i){"use strict";cc._RF.push(e,"23cbfa2B/ZCQJ2RCPuC+7ry","TaiXiuMini.PanelChat");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("./TaiXiuMini.Cmd"),n=t("./TaiXiuMini.TaiXiuMiniController"),o=t("../../Main/Game/src/networks/MiniGameNetworkClient"),l=t("../../Main/Game/src/common/Utils"),c=t("../../Main/Game/src/common/BroadcastReceiver"),{ccclass:r,property:h}=cc._decorator;var d;(function(t){let e=class extends cc.Component{constructor(){super(...arguments),this.itemChatTemplate=null,this.scrMessage=null,this.edbMessage=null,this.atlasVip=null}start(){c.default.send(c.default.SET_SOUND,this.node),this.itemChatTemplate.active=!1}show(t){if(this.node.active=t,t){for(var e=0;e<this.scrMessage.content.childrenCount;e++)this.scrMessage.content.children[e].active=!1;o.default.getInstance().send(new a.default.SendScribeChat)}else o.default.getInstance().send(new a.default.SendUnScribeChat)}addMessage(t,e,i){let s=null;for(var a=0;a<this.scrMessage.content.childrenCount;a++){let t=this.scrMessage.content.children[a];if(!t.active){s=t;break}}null==s&&(s=this.scrMessage.content.childrenCount>=50?this.scrMessage.content.children[0]:cc.instantiate(this.itemChatTemplate));var n=0;for(a=0;a<this.scrMessage.content.childrenCount;a++){let t=this.scrMessage.content.children[a];t!=s&&(t.zIndex=n++)}s.parent=this.scrMessage.content,s.active=!0,s.zIndex=n++;let o=s.getComponentInChildren(cc.RichText);o.imageAtlas=this.atlasVip;let c=l.default.getColorVip("VIP_"+i),r="<color="+c+"><outline color="+c+"width=1>"+t+"</outline></color> <img src='Vip"+i+"' offset=0,-7/><img src='VIP_"+i+"' offset=0,-7/>:  "+e;o.string=r,this.scrollToBottom()}sendChat(){let t=this.edbMessage.string.trim();0!=t.length&&(this.edbMessage.string="",n.default.instance.sendChat(t))}scrollToBottom(){this.scrMessage.scrollToBottom(.2)}};s([h(cc.Node)],e.prototype,"itemChatTemplate",void 0),s([h(cc.ScrollView)],e.prototype,"scrMessage",void 0),s([h(cc.EditBox)],e.prototype,"edbMessage",void 0),s([h(cc.SpriteAtlas)],e.prototype,"atlasVip",void 0),e=s([r],e),t.PanelChat=e})(d||(d={})),i.default=d.PanelChat,cc._RF.pop()},{"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"./TaiXiuMini.Cmd":"TaiXiuMini.Cmd","./TaiXiuMini.TaiXiuMiniController":"TaiXiuMini.TaiXiuMiniController"}],"TaiXiuMini.PopupDetailHistory":[function(t,e,i){"use strict";cc._RF.push(e,"21f0d1UG0BOWpn2bpe9+oRh","TaiXiuMini.PopupDetailHistory");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/Dialog"),n=t("../../Main/Game/src/common/Utils"),o=t("../../Main/Game/src/common/Http"),l=t("../../Main/Game/src/common/Configs"),c=t("./TaiXiuMini.TaiXiuMiniController"),{ccclass:r,property:h}=cc._decorator;let d=class extends a.default{constructor(){super(...arguments),this.lblSession=null,this.lblTime=null,this.lblPage=null,this.lblTotalBetTai=null,this.lblTotalBetXiu=null,this.lblTotalRefundTai=null,this.lblTotalRefundXiu=null,this.sfDices=[],this.sfTai=null,this.sfXiu=null,this.sprDice1=null,this.sprDice2=null,this.sprDice3=null,this.sprResult=null,this.itemTemplate=null,this.items=[],this.inited=!1,this.session=0,this.page=1,this.totalPage=1,this.historiesTai=[],this.historiesXiu=[]}showDetail(t){this.session=t,this.show()}show(){if(super.show(),this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.sprResult.node.active=!1,this.lblSession.string="Phi\xean: #"+this.session,this.lblTime.string="",this.inited)for(let t=0;t<this.items.length;t++)this.items[t].active=!1;else{this.itemTemplate.active=!1;for(let t=0;t<10;t++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,t.active=!1,this.items.push(t)}this.inited=!0}}_onShowed(){super._onShowed(),this.loadData()}loadData(){for(var t=0;t<this.items.length;t++)this.items[t].active=!1;this.sprDice1.node.active=!1,this.sprDice2.node.active=!1,this.sprDice3.node.active=!1,this.sprResult.node.active=!1,this.lblSession.string="Phi\xean: #"+this.session,this.lblTime.string="",o.default.get(l.default.App.API,{c:102,rid:this.session,mt:l.default.App.MONEY_TYPE},(t,e)=>{if(null==t&&(this.historiesTai=[],this.historiesXiu=[],e.success&&null!==e.resultTX)){for(var i=0;i<e.transactions.length;i++){var s=e.transactions[i];1===s.betSide?this.historiesTai.push(s):this.historiesXiu.push(s)}for(i=0;i<this.items.length;i++)this.items[i].active=!1;this.page=1,this.totalPage=this.historiesXiu.length>this.historiesTai.length?this.historiesXiu.length:this.historiesTai.length,this.totalPage=Math.max(1,Math.ceil(this.totalPage/this.items.length)),this.lblPage.string=this.page+"/"+this.totalPage,this.lblSession.string="Phi\xean: #"+e.resultTX.referenceId,this.lblTime.string=e.resultTX.timestamp,this.lblTotalBetTai.string=n.default.formatMoney(e.resultTX.totalTai),this.lblTotalBetXiu.string=n.default.formatMoney(e.resultTX.totalXiu),this.lblTotalRefundTai.string=n.default.formatMoney(e.resultTX.totalRefundTai),this.lblTotalRefundXiu.string=n.default.formatMoney(e.resultTX.totalRefundXiu),this.sprDice1.spriteFrame=this.sfDices[e.resultTX.dice1],this.sprDice1.node.active=!0,this.sprDice2.spriteFrame=this.sfDices[e.resultTX.dice2],this.sprDice2.node.active=!0,this.sprDice3.spriteFrame=this.sfDices[e.resultTX.dice3],this.sprDice3.node.active=!0,this.sprResult.spriteFrame=1==e.resultTX.result?this.sfTai:this.sfXiu,this.sprResult.node.active=!0,this.loadDataPage()}})}loadDataPage(){for(var t=0;t<this.items.length;t++){var e=(this.page-1)*this.items.length+t,i=this.items[t];if(i.active=!0,e<this.historiesTai.length){var s=this.historiesTai[e];i.getChildByName("Time").getComponent(cc.Label).string=(s.inputTime<10?"00:0":"00:")+s.inputTime,i.getChildByName("Account").getComponent(cc.Label).string=s.username,i.getChildByName("Refund").getComponent(cc.Label).string=n.default.formatMoney(s.refund),i.getChildByName("Bet").getComponent(cc.Label).string=n.default.formatMoney(s.betValue)}else i.getChildByName("Time").getComponent(cc.Label).string="",i.getChildByName("Account").getComponent(cc.Label).string="",i.getChildByName("Refund").getComponent(cc.Label).string="",i.getChildByName("Bet").getComponent(cc.Label).string="";e<this.historiesXiu.length?(s=this.historiesXiu[e],i.getChildByName("Time2").getComponent(cc.Label).string=(s.inputTime<10?"00:0":"00:")+s.inputTime,i.getChildByName("Account2").getComponent(cc.Label).string=s.username,i.getChildByName("Refund2").getComponent(cc.Label).string=n.default.formatMoney(s.refund),i.getChildByName("Bet2").getComponent(cc.Label).string=n.default.formatMoney(s.betValue)):(i.getChildByName("Time2").getComponent(cc.Label).string="",i.getChildByName("Account2").getComponent(cc.Label).string="",i.getChildByName("Refund2").getComponent(cc.Label).string="",i.getChildByName("Bet2").getComponent(cc.Label).string="")}this.lblPage.string=this.page+"/"+this.totalPage}actNextPage(){this.page++,this.page>this.totalPage&&(this.page=this.totalPage),this.loadDataPage()}actPrevPage(){this.page--,this.page<1&&(this.page=1),this.loadDataPage()}actNextSession(){this.session++,this.session>c.default.instance.histories[c.default.instance.histories.length-1].session?this.session=c.default.instance.histories[c.default.instance.histories.length-1].session:this.loadData()}actPrevSession(){this.session--,this.loadData()}};s([h(cc.Label)],d.prototype,"lblSession",void 0),s([h(cc.Label)],d.prototype,"lblTime",void 0),s([h(cc.Label)],d.prototype,"lblPage",void 0),s([h(cc.Label)],d.prototype,"lblTotalBetTai",void 0),s([h(cc.Label)],d.prototype,"lblTotalBetXiu",void 0),s([h(cc.Label)],d.prototype,"lblTotalRefundTai",void 0),s([h(cc.Label)],d.prototype,"lblTotalRefundXiu",void 0),s([h([cc.SpriteFrame])],d.prototype,"sfDices",void 0),s([h(cc.SpriteFrame)],d.prototype,"sfTai",void 0),s([h(cc.SpriteFrame)],d.prototype,"sfXiu",void 0),s([h(cc.Sprite)],d.prototype,"sprDice1",void 0),s([h(cc.Sprite)],d.prototype,"sprDice2",void 0),s([h(cc.Sprite)],d.prototype,"sprDice3",void 0),s([h(cc.Sprite)],d.prototype,"sprResult",void 0),s([h(cc.Node)],d.prototype,"itemTemplate",void 0),d=s([r],d),i.default=d,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0,"./TaiXiuMini.TaiXiuMiniController":"TaiXiuMini.TaiXiuMiniController"}],"TaiXiuMini.PopupHistory":[function(t,e,i){"use strict";cc._RF.push(e,"321ecIaHMtPuqAY23OxAZx1","TaiXiuMini.PopupHistory");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/Dialog"),n=t("../../Main/Game/src/common/Configs"),o=t("../../Main/Game/src/common/App"),l=t("../../Main/Game/src/common/Http"),c=t("../../Main/Game/src/common/Utils"),{ccclass:r,property:h}=cc._decorator;var d;(function(t){let e=class extends a.default{constructor(){super(...arguments),this.lblPage=null,this.itemTemplate=null,this.page=1,this.maxPage=1,this.items=new Array}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}actNextPage(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}actPrevPage(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}loadData(){o.default.instance.showLoading(!0),l.default.get(n.default.App.API,{c:100,p:this.page,un:n.default.Login.Nickname,mt:n.default.App.MONEY_TYPE,txType:1},(t,e)=>{if(o.default.instance.showLoading(!1),null==t&&e.success){if(cc.log("history",e),0==this.items.length){for(var i=0;i<10;i++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}this.maxPage=e.totalPages,this.lblPage.string=this.page+"/"+this.maxPage;for(let t=0;t<this.items.length;t++){let i=this.items[t];if(t<e.transactions.length){let s=e.transactions[t];i.getChildByName("bg").opacity=t%2==0?10:0,i.getChildByName("lblTime").getComponent(cc.Label).string="#"+s.referenceId+"\n"+s.timestamp.replace(" ","\n"),i.getChildByName("lblBetDoor").getComponent(cc.Label).string=1==s.betSide?"T\xc0I":"X\u1ec8U",i.getChildByName("lblResult").getComponent(cc.Label).string=s.resultPhien.replace("   ","\n"),i.getChildByName("lblBet").getComponent(cc.Label).string=c.default.formatMoney(s.betValue),i.getChildByName("lblRefund").getComponent(cc.Label).string=c.default.formatMoney(s.totalRefund),i.getChildByName("lblWin").getComponent(cc.Label).string=c.default.formatMoney(s.totalPrize),i.active=!0}else i.active=!1}}})}};s([h(cc.Label)],e.prototype,"lblPage",void 0),s([h(cc.Node)],e.prototype,"itemTemplate",void 0),e=s([r],e),t.PopupHistory=e})(d||(d={})),i.default=d.PopupHistory,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"TaiXiuMini.PopupHonors":[function(t,e,i){"use strict";cc._RF.push(e,"65ed7s2AEZFp4FEqaIOgiUM","TaiXiuMini.PopupHonors");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/Dialog"),n=t("../../Main/Game/src/common/Configs"),o=t("../../Main/Game/src/common/Http"),l=t("../../Main/Game/src/common/App"),c=t("../../Main/Game/src/common/Utils"),r=t("../../Main/Game/src/common/ErrorLogger");var h={VIP_10:"#d2ff00",VIP_9:"#ff6ec3",VIP_8:"#fecb00",VIP_7:"#e075ff",VIP_6:"#00fffa",VIP_5:"#ff0b68",VIP_4:"#b763ff",VIP_3:"#68e4ff",VIP_2:"#fe4e00",VIP_1:"#a2a2ec",VIP_0:"#e19565"};const{ccclass:d,property:u}=cc._decorator;var p;(function(t){let e=class extends a.default{constructor(){super(...arguments),this.itemTemplate=null,this.atlasVip=null,this.sprTop=[],this.items=new Array}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.loadData()}loadData(){l.default.instance.showLoading(!0),o.default.get(n.default.App.API,{c:101,mt:n.default.App.MONEY_TYPE,txType:1},(t,e)=>{if(l.default.instance.showLoading(!1),null==t){cc.log(e);try{if(e.success){if(0==this.items.length){for(var i=0;i<10;i++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}for(let t=this.items.length-1;t>=0;t--){let i=this.items[t];if(t<e.topTX.length){let s=e.topTX[t],a=e.listUserVipRank&&e.listUserVipRank.find(t=>t.nickname==s.username);i.active=!1,i.getChildByName("bg").opacity=t%2==0?10:0,i.getChildByName("icon_top").getComponent(cc.Sprite).spriteFrame=this.sprTop[t],i.getChildByName("name").getChildByName("lblAccount").getComponent(cc.Label).string=s.username,i.getChildByName("name").getChildByName("lblAccount").color=a?cc.Color.BLACK.fromHEX(h[a.rank]):cc.Color.BLACK.fromHEX(h.VIP_0),i.getChildByName("name").getChildByName("lblAccount").getComponent(cc.LabelOutline).color=a?cc.Color.BLACK.fromHEX(h[a.rank]):cc.Color.BLACK.fromHEX(h.VIP_0),i.getChildByName("name").getChildByName("vip").getComponent(cc.Sprite).spriteFrame=this.atlasVip.getSpriteFrame(a.rank),i.getChildByName("lblWin").getComponent(cc.Label).string=c.default.formatMoney(s.money),i.active=!0,i.position=cc.v3(cc.winSize.width,400),i.stopAllActions();let n=.7;i.runAction(cc.sequence(cc.delayTime(.15*(this.items.length-t)*n),cc.moveTo(.15*n,cc.v2(0,400)),cc.delayTime(.05),cc.moveTo(.2*n*(1===t?.8:1-Math.pow(2,-10*t)),cc.v2(0,380-85*t)).easing(cc.easeCircleActionOut())))}else i.active=!1}}}catch(s){r.ErrorLogger.sendLogError("Http response","Tai xiu honor",JSON.stringify(e)+"\n"+JSON.stringify(s.stack))}}})}};s([u(cc.Node)],e.prototype,"itemTemplate",void 0),s([u(cc.SpriteAtlas)],e.prototype,"atlasVip",void 0),s([u([cc.SpriteFrame])],e.prototype,"sprTop",void 0),e=s([d],e),t.PopupHonors=e})(p||(p={})),i.default=p.PopupHonors,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/ErrorLogger":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"TaiXiuMini.PopupSoiCau":[function(t,e,i){"use strict";cc._RF.push(e,"62d139IuXBFBaudwuNL1Dq5","TaiXiuMini.PopupSoiCau");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("./TaiXiuMini.TaiXiuMiniController"),n=t("../../Main/Game/src/common/Dialog"),o=t("../../Main/Game/src/common/Utils"),l=t("../../Main/Game/src/networks/MiniGameNetworkClient"),c=t("./TaiXiuMini.Cmd"),{ccclass:r,property:h}=cc._decorator;var d;(function(t){let e=class extends n.default{constructor(){super(...arguments),this.lineTemplate=null,this.iconTaiTemplate=null,this.iconXiuTemplate=null,this.iconXX1Template=null,this.iconXX2Template=null,this.iconXX3Template=null,this.iconNumberTemplate=null,this.page1=null,this.lblLastSession=null,this.xx1Draw=null,this.xx2Draw=null,this.xx3Draw=null,this.xx123Draw=null,this.page2=null,this.lblTai1=null,this.lblTai2=null,this.lblXiu1=null,this.lblXiu2=null,this.contentDraw=null}show(){super.show(),l.default.getInstance().send(new c.default.SendHistories),this.lineTemplate.parent.active=!1}dismiss(){super.dismiss()}_onShowed(){super._onShowed(),this.drawPage2(),this.drawPage1()}toggleXX1(t){this.xx1Draw.active=t.isChecked}toggleXX2(t){this.xx2Draw.active=t.isChecked}toggleXX3(t){this.xx3Draw.active=t.isChecked}togglePage(){this.drawPage1(),this.drawPage2()}drawPage1(){var t=a.default.instance.histories.slice();if(t.length>22&&t.splice(0,t.length-22),!(t&&t.length>0))return;var e=t[t.length-1],i=e.dices,s=i[0]+i[1]+i[2];this.lblLastSession.string="Phi\xean g\u1ea7n nh\u1ea5t: (#"+e.session+")  "+(s>=11?"T\xc0I":"X\u1ec8U")+"  "+s+"("+i[0]+"-"+i[1]+"-"+i[2]+")",this.xx1Draw.removeAllChildren(),this.xx2Draw.removeAllChildren(),this.xx3Draw.removeAllChildren(),this.xx123Draw.removeAllChildren();let n=0;for(var l=t.length-1;l>=0;l--){var c=t[l].dices,r=c[0]+c[1]+c[2];let e=cc.v2(311-28.3*n,30.2*(c[0]-1)-195.822),i=cc.v2(311-28.3*n,30.2*(c[1]-1)-195.822),s=cc.v2(311-28.3*n,30.2*(c[2]-1)-195.822),a=cc.v2(311-28.3*n,30.2/3*(r-3)-4.234),h=cc.instantiate(this.iconXX1Template);h.parent=this.xx1Draw,h.setPosition(e);let d=cc.instantiate(this.iconXX2Template);d.parent=this.xx2Draw,d.setPosition(i);let u=cc.instantiate(this.iconXX3Template);u.parent=this.xx3Draw,u.setPosition(s);let p=cc.instantiate(r>=11?this.iconTaiTemplate:this.iconXiuTemplate);if(p.parent=this.xx123Draw,p.setPosition(a),n>0){r=(c=t[l+1].dices)[0]+c[1]+c[2];let h=cc.v2(311-28.3*(n-1),30.2*(c[0]-1)-195.822),d=cc.v2(311-28.3*(n-1),30.2*(c[1]-1)-195.822),u=cc.v2(311-28.3*(n-1),30.2*(c[2]-1)-195.822),p=cc.v2(311-28.3*(n-1),30.2/3*(r-3)-4.234),m=cc.instantiate(this.lineTemplate);m.parent=this.xx1Draw,m.width=o.default.v2Distance(e,h),m.setPosition(e),m.angle=o.default.v2Degrees(e,h),m.color=cc.Color.BLACK.fromHEX("#ff1800"),m.zIndex=0,(m=cc.instantiate(this.lineTemplate)).parent=this.xx2Draw,m.width=o.default.v2Distance(i,d),m.setPosition(i),m.angle=o.default.v2Degrees(i,d),m.color=cc.Color.BLACK.fromHEX("#ffea00"),m.zIndex=0,(m=cc.instantiate(this.lineTemplate)).parent=this.xx3Draw,m.width=o.default.v2Distance(s,u),m.setPosition(s),m.angle=o.default.v2Degrees(s,u),m.color=cc.Color.BLACK.fromHEX("#35e100"),m.zIndex=0,(m=cc.instantiate(this.lineTemplate)).parent=this.xx123Draw,m.width=o.default.v2Distance(a,p),m.setPosition(a),m.angle=o.default.v2Degrees(a,p),m.color=cc.Color.BLACK.fromHEX("#ffea00"),m.zIndex=-1}n++}}drawPage2(){var t=-283.773,e=132.93;this.contentDraw.removeAllChildren();var i=[],s=[],n=a.default.instance.histories.length,o=0,l=0;if(n>1)for(var c=a.default.instance.histories[0].dices,r=(m=c[0]+c[1]+c[2])>=11,h=0;h<n;h++){var d=(m=(c=a.default.instance.histories[h].dices)[0]+c[1]+c[2])>=11;d!==r?(s.length>5&&s.splice(0,s.length-5),i.push(s),r?o+=s.length:l+=s.length,r=d,(s=[]).push(m)):s.push(m),h===n-1&&(s.length>5&&s.splice(0,s.length-5),i.push(s),r?o+=s.length:l+=s.length)}i.length>21&&i.splice(0,i.length-21),this.lblTai1.string="T\xc0I: "+o,this.lblXiu1.string="X\u1ec8U: "+l;for(let a=0;a<i.length;a++)for(let s=0;s<i[a].length;s++){let n=i[a][s],o=cc.instantiate(this.iconNumberTemplate);o.parent=this.contentDraw,o.setPosition(cc.v2(t+28.3*a,e-30.2*s)),o.color=cc.Color.BLACK.fromHEX(n>=11?"#4192ff":"#FFFFFF"),o.getComponent(cc.Label).string=""+n}t=-281.793,e=-58.447;var u=0,p=0;for(o=0,l=0,(i=a.default.instance.histories.slice()).length>105&&i.splice(0,i.length-105),h=0;h<i.length;h++){var m;(m=i[h].dices[0]+i[h].dices[1]+i[h].dices[2])>=11?o++:l++;let s=cc.instantiate(m>=11?this.iconTaiTemplate:this.iconXiuTemplate);s.parent=this.contentDraw,s.setPosition(cc.v2(t+28.3*u,e-30.2*p)),++p>=5&&(p=0,u++)}this.lblTai2.string="T\xc0I: "+o,this.lblXiu2.string="X\u1ec8U: "+l}};s([h(cc.Node)],e.prototype,"lineTemplate",void 0),s([h(cc.Node)],e.prototype,"iconTaiTemplate",void 0),s([h(cc.Node)],e.prototype,"iconXiuTemplate",void 0),s([h(cc.Node)],e.prototype,"iconXX1Template",void 0),s([h(cc.Node)],e.prototype,"iconXX2Template",void 0),s([h(cc.Node)],e.prototype,"iconXX3Template",void 0),s([h(cc.Node)],e.prototype,"iconNumberTemplate",void 0),s([h(cc.Node)],e.prototype,"page1",void 0),s([h(cc.Label)],e.prototype,"lblLastSession",void 0),s([h(cc.Node)],e.prototype,"xx1Draw",void 0),s([h(cc.Node)],e.prototype,"xx2Draw",void 0),s([h(cc.Node)],e.prototype,"xx3Draw",void 0),s([h(cc.Node)],e.prototype,"xx123Draw",void 0),s([h(cc.Node)],e.prototype,"page2",void 0),s([h(cc.Label)],e.prototype,"lblTai1",void 0),s([h(cc.Label)],e.prototype,"lblTai2",void 0),s([h(cc.Label)],e.prototype,"lblXiu1",void 0),s([h(cc.Label)],e.prototype,"lblXiu2",void 0),s([h(cc.Node)],e.prototype,"contentDraw",void 0),e=s([r],e),t.PopupSoiCau=e})(d||(d={})),i.default=d.PopupSoiCau,cc._RF.pop()},{"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"./TaiXiuMini.Cmd":"TaiXiuMini.Cmd","./TaiXiuMini.TaiXiuMiniController":"TaiXiuMini.TaiXiuMiniController"}],"TaiXiuMini.PopupThanhDu":[function(t,e,i){"use strict";cc._RF.push(e,"f4cbaZlzz5C24Im4AdHMjCb","TaiXiuMini.PopupThanhDu");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/Dialog"),n=t("../../Main/Game/src/common/Utils"),o=t("../../Main/Game/src/common/Configs"),l=t("../../Main/Game/src/common/Http"),c=t("../../Main/Game/src/common/App"),{ccclass:r,property:h}=cc._decorator;var d;(function(t){let e=class extends a.default{constructor(){super(...arguments),this.sprTabNormal=null,this.sprTabActive=null,this.tabs=null,this.childTabs=null,this.itemTemplate=null,this.lblDate=null,this.selectedTab=0,this.selectedChildTab=0,this.date=new Date,this.items=new Array}start(){for(let t=0;t<this.tabs.childrenCount;t++)this.tabs.children[t].on("click",()=>{this.selectedTab=t,this.selectedChildTab=0,this.date=new Date,this.updateTabSpriteFrame(),this.loadData()});for(let t=0;t<this.childTabs.childrenCount;t++)this.childTabs.children[t].on("click",()=>{this.selectedChildTab=t,this.updateTabSpriteFrame(),this.loadData()})}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}_onShowed(){super._onShowed(),this.selectedTab=0,this.selectedChildTab=0,this.updateTabSpriteFrame(),this.loadData()}actNext(){0===this.selectedTab?this.date.setDate(this.date.getDate()+1):this.date.setMonth(this.date.getMonth()+1),this.loadData()}actPrev(){0===this.selectedTab?this.date.setDate(this.date.getDate()-1):this.date.setMonth(this.date.getMonth()-1),this.loadData()}updateTabSpriteFrame(){for(let t=0;t<this.tabs.childrenCount;t++)this.tabs.children[t].getComponent(cc.Sprite).spriteFrame=this.selectedTab==t?this.sprTabActive:this.sprTabNormal;for(let t=0;t<this.childTabs.childrenCount;t++)this.childTabs.children[t].getComponent(cc.Sprite).spriteFrame=this.selectedChildTab==t?this.sprTabActive:this.sprTabNormal}loadData(){c.default.instance.showLoading(!0);var t=0===this.selectedChildTab?1:0,e=0===this.selectedTab?n.default.dateToYYYYMMdd(this.date):n.default.dateToYYYYMM(this.date);this.lblDate.string=e;var i=0===this.selectedTab?{c:103,date:e,type:t,txType:1}:{c:103,month:e,type:t,txType:1};l.default.get(o.default.App.API,i,(t,e)=>{if(c.default.instance.showLoading(!1),null==t&&e.success){if(0==this.items.length){for(var i=0;i<10;i++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}for(let t=0;t<this.items.length;t++){let i=this.items[t];if(t<e.results.length){let s=e.results[t];i.getChildByName("no").getComponent(cc.Label).string=(t+1).toString(),i.getChildByName("account").getComponent(cc.Label).string=s.username,i.getChildByName("count").getComponent(cc.Label).string=n.default.formatNumber(s.number),i.getChildByName("winlose").getComponent(cc.Label).string=n.default.formatNumber(s.totalMoney),i.getChildByName("session").getComponent(cc.Label).string="#"+s.referenceId,i.getChildByName("award").getComponent(cc.Label).string=s.prize,i.active=!0}else i.active=!1}}})}};s([h(cc.SpriteFrame)],e.prototype,"sprTabNormal",void 0),s([h(cc.SpriteFrame)],e.prototype,"sprTabActive",void 0),s([h(cc.Node)],e.prototype,"tabs",void 0),s([h(cc.Node)],e.prototype,"childTabs",void 0),s([h(cc.Node)],e.prototype,"itemTemplate",void 0),s([h(cc.Label)],e.prototype,"lblDate",void 0),e=s([r],e),t.PopupThanhDu=e})(d||(d={})),i.default=d.PopupThanhDu,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Http":void 0,"../../Main/Game/src/common/Utils":void 0}],"TaiXiuMini.TaiXiuMiniController":[function(t,e,i){"use strict";cc._RF.push(e,"61a68KC+wNE6ptrR7XUb9CZ","TaiXiuMini.TaiXiuMiniController");var s,a=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const n=t("./TaiXiuMini.Cmd"),o=t("./TaiXiuMini.PanelChat"),l=t("../../Main/Game/src/networks/MiniGameNetworkClient"),c=t("../../Main/Game/src/networks/Network.InPacket"),r=t("../../Main/Game/src/common/Utils"),h=t("../../Main/Game/src/common/Tween"),d=t("../../Main/Game/src/common/Configs"),u=t("../../Main/Game/src/common/BroadcastReceiver"),p=t("../../Main/Game/src/common/App"),m=t("./TaiXiuMini.PopupDetailHistory"),g=t("../../Main/Lobby/src/MiniGame"),f=t("./TaiXiuMini.PopupSoiCau"),T=t("../../Main/Game/src/common/Common.AudioManager"),b=t("../../Main/Game/src/common/Constants"),{ccclass:C,property:v}=cc._decorator;var y;(function(t){t[t.None=0]="None",t[t.Tai=1]="Tai",t[t.Xiu=2]="Xiu"})(y||(y={}));let M=s=class extends g.default{constructor(){super(...arguments),this.sprFrameTai=null,this.sprFrameXiu=null,this.sprFrameBtnNan=null,this.sprFrameBtnNan2=null,this.lblSession=null,this.lblRemainTime=null,this.lblRemainTime2=null,this.lblScore=null,this.lblUserTai=null,this.lblUserXiu=null,this.lblTotalBetTai=null,this.lblTotalBetXiu=null,this.btnBetTai=null,this.btnBetXiu=null,this.lblBetTai=null,this.lblBetXiu=null,this.lblBetedTai=null,this.lblBetedXiu=null,this.animationResults=new Array,this.sprFrameDice=null,this.diceResults=[],this.bgRedTime=null,this.bowl=null,this.aniResult=null,this.btnHistories=null,this.nodePanelChat=null,this.layoutBet=null,this.btnBetAmounts=new Array,this.scrollBetAmount=null,this.btnNextBetAmount=null,this.btnPreviousBetAmount=null,this.lblToast=null,this.lblWinCash=null,this.btnNan=null,this.popupDetailHistory=null,this.popupSoiCau=null,this.rutLocConLaiLb=null,this.huLocLb=null,this.timeRutLocNode=null,this.btnRutLoc=null,this.soundCountDown=null,this.soundBetted=null,this.soundBet=null,this.soundWin=null,this.soundAddChip=null,this.soundSubChip=null,this.soundDice=null,this.soundNewGame=null,this.soundHideChip=null,this.isBetting=!1,this.remainTime=0,this.canBet=!0,this.betedTai=0,this.betedXiu=0,this.referenceId=0,this.betingValue=-1,this.betingDoor=y.None,this.isOpenBowl=!1,this.lastWinCash=0,this.refund=0,this.lastScore=0,this.isNan=!1,this.histories=[],this.isCanChat=!0,this.panelChat=null,this.maxBetValue=999999999,this.ROTATION_DEFAULT=[0,0,91.235,-47.765,16.937,-115.606,-108.145],this.POSITION_DEFAULT=[cc.v2(0,0),cc.v2(-11.059,-4.414),cc.v2(24.364,-51.172),cc.v2(37.163,-31.782),cc.v2(11.658,-30.525),cc.v2(9.189,-5.143),cc.v2(11.282,-2.444)],this.listBets=[1e3,5e3,1e4,5e4,1e5,5e5,1e6,2e6,5e6,1e7],this.bowlStartPos=cc.v2(-7.773,23.556),this.soLanRutLoc=0,this.timeRutLoc=0,this.readTime=0}subscribe(){l.default.getInstance().send(new n.default.SendScribe)}onSubscribeSuccess(){this.layoutBet.active=!1,this.lblToast.node.parent.active=!1,this.lblWinCash.node.active=!1,this.layoutBet.active=!1,this.bowl.active=!1,this.diceResults.forEach(t=>{t.node.active=!1}),this.showChat(),super.onSubscribeSuccess()}_onShowed(){super._onShowed(),d.default.Login.Coin>=d.default.App.RICH_MAN?this.scrollBetAmount.scrollToRight(.5):this.scrollBetAmount.scrollToLeft(.5),cc.tween(this.btnNextBetAmount).repeatForever(cc.blink(1,1)).start(),cc.tween(this.btnPreviousBetAmount).repeatForever(cc.blink(1,1)).start()}dismiss(){cc.Tween.stopAllByTarget(this.btnNextBetAmount),cc.Tween.stopAllByTarget(this.btnPreviousBetAmount),super.dismiss()}onLoad(){s.instance=this,this.scrollBetAmount.node.on("scroll-ended",()=>{let t=this.scrollBetAmount.getMaxScrollOffset().x,e=this.scrollBetAmount.getScrollOffset().x;this.btnNextBetAmount.active=t+e>50,this.btnPreviousBetAmount.active=e<-50})}start(){super.start(),u.default.register(u.default.USER_LOGOUT,()=>{this.node.active&&this.dismiss()},this),u.default.register(u.default.USER_DISCONNECTED,()=>{this.node.active&&this.dismiss()},this),l.default.getInstance().addOnClose(()=>{this.node.active&&this.dismiss()},this),l.default.getInstance().addListener(t=>{if(this.node.active)switch(new c.default(t).getCmdId()){case n.default.Code.GAME_INFO:try{let e=new n.default.ReceiveGameInfo(t);cc.log(e),this.onSubscribeSuccess(),this.stopWin(),this.bowl.active=!1,this.lastWinCash=0,this.refund=0,e.bettingState?(this.isBetting=!0,this.diceResults.forEach(t=>{t.node.active=!1}),this.bowl.off(cc.Node.EventType.TOUCH_MOVE),this.aniResult.setAnimation(0,"normal",!1),this.lblRemainTime.node.active=!0,5==e.remainTime&&T.default.getInstance().playEffect(this.soundCountDown,.7),e.remainTime<6?(this.bgRedTime.parent.color=new cc.Color(255,0,0),cc.tween(this.bgRedTime.parent).to(1,{angle:this.bgRedTime.parent.angle+90+750/(e.remainTime+1)}).start(),this.bgRedTime.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(()=>{this.bgRedTime.opacity=150}),cc.fadeIn(.5),cc.callFunc(()=>{this.bgRedTime.opacity=150})))):(this.bgRedTime.parent.color=new cc.Color(255,255,255),cc.tween(this.bgRedTime.parent).to(1,{angle:this.bgRedTime.parent.angle+90}).start(),this.bgRedTime.opacity=0),this.lblRemainTime.string=e.remainTime<6?"0"+e.remainTime:""+e.remainTime,this.lblRemainTime2.node.active=!1,this.lblScore.node.parent.active=!1):(this.lastScore=e.dice1+e.dice2+e.dice3,this.isBetting=!1,this.showDice(e,!1),this.bgRedTime.parent.color=new cc.Color(255,255,255),this.bgRedTime.opacity=0,this.lblRemainTime.node.active=!1,this.scheduleOnce(()=>{this.lblRemainTime2.node.active=!0,this.lblRemainTime2.string="00:"+(e.remainTime<10?"0"+e.remainTime:""+e.remainTime)},2),this.showResult()),h.default.numberTo(this.lblTotalBetTai,e.potTai,.3),h.default.numberTo(this.lblTotalBetXiu,e.potXiu,.3),this.betingDoor=e.betTai>0?y.Tai:e.betXiu>0?y.Xiu:y.None,this.betedTai=e.betTai,this.lblBetedTai.string=r.default.formatMoney(this.betedTai),this.betedXiu=e.betXiu,this.lblBetedXiu.string=r.default.formatMoney(this.betedXiu),this.referenceId=e.referenceId,this.lblSession.string="#"+e.referenceId,this.remainTime=e.remainTime}catch(o){cc.log("-=-= loi info tx ",o)}break;case n.default.Code.UPDATE_TIME:try{let e=new n.default.ReceiveUpdateTime(t);e.bettingState?(this.isBetting=!0,this.bowl.off(cc.Node.EventType.TOUCH_MOVE),this.lblRemainTime.node.active=!0,5==e.remainTime&&T.default.getInstance().playEffect(this.soundCountDown,.7),e.remainTime<6?(this.bgRedTime.parent.color=new cc.Color(255,0,0),cc.tween(this.bgRedTime.parent).to(1,{angle:this.bgRedTime.parent.angle+90+750/(e.remainTime+1)}).start(),this.bgRedTime.runAction(cc.sequence(cc.fadeIn(.5),cc.callFunc(()=>{this.bgRedTime.opacity=150}),cc.fadeIn(.5),cc.callFunc(()=>{this.bgRedTime.opacity=150})))):(this.bgRedTime.parent.color=new cc.Color(255,255,255),cc.tween(this.bgRedTime.parent).to(1,{angle:this.bgRedTime.parent.angle+90}).start(),this.bgRedTime.opacity=0),this.lblRemainTime.string=e.remainTime<6?"0"+e.remainTime:""+e.remainTime,this.lblRemainTime2.node.active=!1,this.lblScore.node.parent.active=!1,"normal"!=this.aniResult.animation&&this.aniResult.setAnimation(0,"normal",!0),this.diceResults.forEach(t=>{t.node.active=!1})):(this.isBetting=!1,this.bgRedTime.parent.color=new cc.Color(255,255,255),this.bgRedTime.opacity=0,this.lblRemainTime.node.active=!1,this.lblRemainTime2.string="00:"+(e.remainTime<10?"0"+e.remainTime:""+e.remainTime),this.layoutBet.active=!1,this.lblBetTai.string="C\u01b0\u1ee3c",this.lblBetXiu.string="C\u01b0\u1ee3c",this.btnBetTai.interactable=!0,this.btnBetXiu.interactable=!0,this.lblBetedTai.string=r.default.formatMoney(this.betedTai),this.lblBetedXiu.string=r.default.formatMoney(this.betedXiu),e.remainTime<5&&this.isNan&&!this.isOpenBowl&&(this.bowl.active=!1,this.showResult(),this.isOpenBowl=!0)),this.remainTime=e.remainTime,h.default.numberTo(this.lblTotalBetTai,e.potTai,.3),h.default.numberTo(this.lblTotalBetXiu,e.potXiu,.3),this.lblUserTai.string="("+r.default.formatNumber(e.numBetTai)+")",this.lblUserXiu.string="("+r.default.formatNumber(e.numBetXiu)+")"}catch(o){cc.log("-=-= loi info tx ",o)}break;case n.default.Code.DICES_RESULT:try{let e=new n.default.ReceiveDicesResult(t);cc.log(e),this.lastScore=e.dice1+e.dice2+e.dice3,this.bgRedTime.parent.color=new cc.Color(255,255,255),this.bgRedTime.opacity=0,this.lblRemainTime.node.active=!1,this.showDice(e,!0),this.scheduleOnce(()=>{this.lblRemainTime2.node.active=!0},2),this.scheduleOnce(()=>{this.isNan?this.scheduleOnce(()=>{this.bowl.setPosition(this.bowlStartPos),this.bowl.active=!0,this.bowl.on(cc.Node.EventType.TOUCH_MOVE,this.moveBowl,this)},.5):this.scheduleOnce(()=>{this.showResult()},1.7)},1),this.histories.length>=100&&this.histories.slice(0,1),this.histories.push({session:this.referenceId,dices:[e.dice1,e.dice2,e.dice3]})}catch(o){cc.log("-=-= loi info tx ",o)}break;case n.default.Code.RESULT:{let e=new n.default.ReceiveResult(t);d.default.Login.Coin=e.currentMoney,this.lastWinCash=e.totalMoney,this.refund=e.refund,this.bowl.active||this.showWinCash(),cc.log(e);break}case n.default.Code.NEW_GAME:try{let e=new n.default.ReceiveNewGame(t);this.lblTotalBetTai.string="0",this.lblTotalBetXiu.string="0",this.lblBetedTai.string="0",this.lblBetedXiu.string="0",this.lblUserTai.string="(0)",this.lblUserXiu.string="(0)",this.referenceId=e.referenceId,this.lblSession.string="#"+e.referenceId,this.betingValue=-1,this.betingDoor=y.None,this.betedTai=0,this.betedXiu=0,this.isOpenBowl=!1,this.lblScore.node.parent.active=!1,this.lblRemainTime.node.active=!1,this.lblRemainTime2.node.active=!1,this.lastWinCash=0,this.refund=0,this.stopWin(),this.bowl.off(cc.Node.EventType.TOUCH_MOVE),T.default.getInstance().playEffect(this.soundNewGame,.7)}catch(o){cc.log("-=-= loi info tx ",o)}break;case n.default.Code.HISTORIES:var e=new n.default.ReceiveHistories(t).data.split(",");this.histories=[];for(var i=0;i<e.length;i++)this.histories.push({session:this.referenceId-e.length/3+parseInt(""+(i+1)/3)+(this.isBetting?0:1),dices:[parseInt(e[i]),parseInt(e[++i]),parseInt(e[++i])]});this.updateBtnHistories(),this.popupSoiCau.togglePage();break;case n.default.Code.LOG_CHAT:try{let e=new n.default.ReceiveLogChat(t);if(cc.log(e),e.chatChannel!==b.ChatChannel.TAIXIU)break;if(this.panelChat){var s=JSON.parse(e.message);for(i=0;i<s.length;i++)this.panelChat.addMessage(s[i].u,s[i].m,s[i].vipId);this.panelChat.scrollToBottom()}}catch(o){cc.log(o)}break;case n.default.Code.SEND_CHAT:{let e=new n.default.ReceiveSendChat(t);if(cc.log(e),e.chatChannel!==b.ChatChannel.TAIXIU)break;switch(e.error){case 0:this.panelChat.addMessage(e.nickname,e.message,e.vip);break;default:p.default.instance.actiontDialog.showMsgWithActions(e.desc,e.suggestionActions)}break}case n.default.Code.BET:{let e=new n.default.ReceiveBet(t);switch(cc.log(e),e.result){case 0:switch(this.betingDoor){case y.Tai:this.betedTai+=this.betingValue,this.lblBetedTai.string=r.default.formatMoney(this.betedTai),T.default.getInstance().playEffect(this.soundBetted,.7);break;case y.Xiu:this.betedXiu+=this.betingValue,this.lblBetedXiu.string=r.default.formatMoney(this.betedXiu),T.default.getInstance().playEffect(this.soundBetted,.7)}d.default.Login.Coin=e.currentMoney,u.default.send(u.default.USER_UPDATE_COIN),this.betingValue=-1,this.showToast("\u0110\u1eb7t c\u01b0\u1ee3c th\xe0nh c\xf4ng.");break;case 2:this.betingValue=-1,this.showToast("H\u1ebft th\u1eddi gian c\u01b0\u1ee3c.");break;case 3:this.betingValue=-1,p.default.instance.actiontDialog.showMsgWithActions(e.desc,e.suggestionActions);break;case 4:this.betingValue=-1,this.showToast("S\u1ed1 ti\u1ec1n c\u01b0\u1ee3c kh\xf4ng h\u1ee3p l\u1ec7.");break;default:this.betingValue=-1,this.showToast("\u0110\u1eb7t c\u01b0\u1ee3c kh\xf4ng th\xe0nh c\xf4ng.")}break}case n.default.Code.TX_TAN_LOC:{let e=new n.default.CmdTXTanLoc(t);this.responseTanLoc(e.result,e.currentMoney)}break;case n.default.Code.TX_RUT_LOC:var a=new n.default.CmdTXRutLoc(t);this.responseRutLoc(a.prize,a.currentMoney);break;case n.default.Code.UPDATE_QUY_LOC:{let e=new n.default.CmdTXUpdateQuyLoc(t);this.responseUpdateRutLoc(e.remainTime),this.responseUpdateHuLoc(e.value)}break;case n.default.Code.START_NEW_ROUND_RUT_LOC:{let e=new n.default.CmdTXStartRutLoc(t);this.responseUpdateRutLoc(e.remainTime)}break;case n.default.Code.ENABLE_RUT_LOC:this.timeRutLoc=0,cc.Tween.stopAllByTarget(this.timeRutLocNode),this.timeRutLocNode.getComponent(cc.Label).string="",this.timeRutLocNode.parent.active=!1,this.btnRutLoc.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.15,1.1,1.1),cc.scaleTo(.15,1,1))));break;case n.default.Code.UPDATE_LUOT_RUT_LOC:{let e=new n.default.CmdTXUpdateSoLuotRutLoc(t);this.responseUpdateLuotRutLoc(e.soLuotRut)}}},this);for(let t=0;t<this.btnBetAmounts.length;t++){let e=this.btnBetAmounts[t],i=this.listBets[t],s=i+"";i>=1e6?s=i/1e6+"M":i>=1e3&&(s=i/1e3+"K"),e.getComponentInChildren(cc.Label).string=s,e.node.on("click",()=>{if(this.betingDoor===y.None)return;let t=this.betingDoor===y.Tai?this.lblBetTai:this.lblBetXiu;(this.betingDoor===y.Tai?this.lblBetedTai:this.lblBetedXiu).string=this.betingDoor===y.Tai?r.default.formatMoney(this.betedTai):r.default.formatMoney(this.betedXiu);let e=r.default.stringMoneyToInt(t.string)+i;e>this.maxBetValue&&(e=this.maxBetValue),t.string=r.default.formatMoney(e),T.default.getInstance().playEffect(this.soundBet,.7)})}this.bowl.off(cc.Node.EventType.TOUCH_MOVE),this.btnNan.getComponent(cc.Sprite).spriteFrame=this.isNan?this.sprFrameBtnNan:this.sprFrameBtnNan2}showDice(t,e=!1){T.default.getInstance().playEffect(this.soundDice,.7);for(let i=1;i<=3;i++)this.diceResults[i-1].node.active=!0,this.diceResults[i-1].enabled=e,this.diceResults[i-1].node.getComponentInChildren(cc.Sprite).node.active=!e,e?(this.diceResults[i-1].skeletonData=this.animationResults[t["dice"+i]],this.diceResults[i-1].setAnimation(0,"dice",!1)):this.diceResults[i-1].node.getComponentInChildren(cc.Sprite).spriteFrame=this.sprFrameDice.getSpriteFrame(t["dice"+i]),this.diceResults[i-1].node.setPosition(this.POSITION_DEFAULT[t["dice"+i]]),this.diceResults[i-1].node.angle=this.ROTATION_DEFAULT[t["dice"+i]],this.diceResults[i-1].node.parent.angle=120*i}moveBowl(t){var e=this.bowl.position;e.x+=t.getDeltaX(),e.y+=t.getDeltaY(),e.x>190&&(e.x=190,this.showResult()),e.x<-190&&(e.x=-190,this.showResult()),e.y>200&&(e.y=200,this.showResult()),e.y<-170&&(e.y=-170,this.showResult()),this.bowl.position=e}showChat(){this.panelChat=this.nodePanelChat.getComponent(o.default),this.scheduleOnce(()=>{this.panelChat.show(!0)},.4)}actChat(){this.panelChat.show(!this.panelChat.node.active)}actBetTai(){this.isBetting?this.betingValue>=0?this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh."):this.betedXiu>0?this.showToast("B\u1ea1n kh\xf4ng th\u1ec3 \u0111\u1eb7t 2 c\u1eeda."):(this.betingDoor=y.Tai,this.btnBetTai.interactable=!1,this.btnBetXiu.interactable=!0,this.lblBetTai.string="C\u01b0\u1ee3c",this.lblBetXiu.string="C\u01b0\u1ee3c",this.lblBetedTai.string=r.default.formatMoney(this.betedTai),this.lblBetedXiu.string=r.default.formatMoney(this.betedXiu),this.layoutBet.active=!0):this.showToast("Ch\u01b0a \u0111\u1ebfn th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c.")}actBetXiu(){this.isBetting?this.betingValue>=0?this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh."):this.betedTai>0?this.showToast("B\u1ea1n kh\xf4ng th\u1ec3 \u0111\u1eb7t 2 c\u1eeda."):(this.betingDoor=y.Xiu,this.btnBetXiu.interactable=!1,this.btnBetTai.interactable=!0,this.lblBetTai.string="C\u01b0\u1ee3c",this.lblBetXiu.string="C\u01b0\u1ee3c",this.lblBetedTai.string=r.default.formatMoney(this.betedTai),this.lblBetedXiu.string=r.default.formatMoney(this.betedXiu),this.layoutBet.active=!0):this.showToast("Ch\u01b0a \u0111\u1ebfn th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c.")}actAgree(){if(this.betingValue>=0||!this.canBet)this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh.");else if(this.betingDoor!==y.None){var t=this.betingDoor===y.Tai?this.lblBetTai:this.lblBetXiu;this.betingValue=r.default.stringMoneyToInt(t.string),this.betingDoor=this.betingDoor,l.default.getInstance().send(new n.default.SendBet(this.referenceId,this.betingValue,this.betingDoor==y.Tai?1:0,this.remainTime)),t.string="C\u01b0\u1ee3c",this.btnBetTai.interactable=!0,this.btnBetXiu.interactable=!0,this.canBet=!1,this.scheduleOnce(function(){this.canBet=!0},1)}}actCancel(){this.lblBetXiu.string="C\u01b0\u1ee3c",this.lblBetTai.string="C\u01b0\u1ee3c",this.btnBetTai.interactable=!0,this.btnBetXiu.interactable=!0,this.lblBetedTai.string=r.default.formatMoney(this.betedTai),this.lblBetedXiu.string=r.default.formatMoney(this.betedXiu),this.layoutBet.active=!1}actBtnGapDoi(){if(this.betingDoor!==y.None){var t=this.betingDoor===y.Tai?this.lblBetTai:this.lblBetXiu,e=2*r.default.stringMoneyToInt(t.string);e>this.maxBetValue&&(e=this.maxBetValue),t.string=r.default.formatMoney(e)}}actBtnDelete(){if(this.betingDoor!==y.None){var t=this.betingDoor===y.Tai?this.lblBetTai:this.lblBetXiu,e=""+r.default.stringMoneyToInt(t.string);e=e.substring(0,e.length-1),e=r.default.formatMoney(r.default.stringMoneyToInt(e)),t.string=e}}actBtn000(){if(this.betingDoor!==y.None){var t=this.betingDoor===y.Tai?this.lblBetTai:this.lblBetXiu,e=1e3*r.default.stringMoneyToInt(t.string);e>this.maxBetValue&&(e=this.maxBetValue),t.string=r.default.formatMoney(e)}}actNan(){this.isNan=!this.isNan,this.showToast(this.isNan?"Ch\u1ee9c n\u0103ng n\u1eb7n \u0111ang b\u1eadt!":"Ch\u1ee9c n\u0103ng n\u1eb7n \u0111ang t\u1eaft!"),this.btnNan.getComponent(cc.Sprite).spriteFrame=this.isNan?this.sprFrameBtnNan:this.sprFrameBtnNan2}showResult(){this.scheduleOnce(()=>{this.lblScore.node.parent.active=!0,this.showWinCash()},1.5),this.bowl.off(cc.Node.EventType.TOUCH_MOVE),this.lblScore.string=""+this.lastScore,this.bowl.active=!1,this.lastScore>=11?this.aniResult.setAnimation(0,"tai-win",!0):this.aniResult.setAnimation(0,"xiu-win",!0),T.default.getInstance().playEffect(this.soundWin,.7),this.updateBtnHistories()}stopWin(){this.aniResult.setAnimation(0,"normal",!0),this.aniResult.clearTrack(0)}showToast(t){this.lblToast.string=t;let e=this.lblToast.node.parent;e.stopAllActions(),e.active=!0,e.opacity=0,e.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(()=>{e.active=!1})))}showWinCash(){if(u.default.send(u.default.USER_UPDATE_COIN),this.lastWinCash<=0)return this.refund>0&&p.default.instance.alertDialog.showMsg("Do lu\u1eadt c\xe2n c\u1eeda, b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c ho\xe0n l\u1ea1i "+r.default.formatNumber(this.refund)+"!"),void(this.refund=0);this.lblWinCash.string="0",this.lblWinCash.node.stopAllActions(),this.lblWinCash.node.active=!0,this.lblWinCash.node.scale=0,this.lblWinCash.node.setPosition(cc.v2(-9.341,0)),h.default.numberTo(this.lblWinCash,this.lastWinCash,1,t=>"+"+t),this.lastWinCash=0,T.default.getInstance().playEffect(this.soundAddChip,.7),this.lblWinCash.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1.8).easing(cc.easeQuadraticActionOut()),cc.fadeIn(.3)),cc.scaleTo(.1,1),cc.delayTime(.6),cc.callFunc(()=>{T.default.getInstance().playEffect(this.soundHideChip,.7)}),cc.delayTime(.5),cc.scaleTo(.17,.8),cc.spawn(cc.scaleTo(.12,2).easing(cc.easeQuadraticActionOut()),cc.fadeOut(.12).easing(cc.easeQuadraticActionOut())),cc.callFunc(()=>{this.lblWinCash.node.active=!1}),cc.delayTime(1),cc.callFunc(()=>{this.refund>0&&p.default.instance.alertDialog.showMsg("Do lu\u1eadt c\xe2n c\u1eeda, b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c ho\xe0n l\u1ea1i "+r.default.formatNumber(this.refund)+"!"),this.refund=0})))}updateBtnHistories(){let t=this.histories.slice();t.length>this.btnHistories.childrenCount&&t.splice(0,t.length-this.btnHistories.childrenCount);let e=t.length-1;for(var i=this.btnHistories.childrenCount-1;i>=0;i--){if(e>=0){let a=e;var s=t[e].dices[0]+t[e].dices[1]+t[e].dices[2];this.btnHistories.children[i].getComponent(cc.Sprite).spriteFrame=s>=11?this.sprFrameTai:this.sprFrameXiu,this.btnHistories.children[i].off("click"),this.btnHistories.children[i].on("click",()=>{this.popupDetailHistory.showDetail(t[a].session),cc.log(this.histories[a])}),this.btnHistories.children[i].active=!0}else this.btnHistories.children[i].active=!1;e--}}sendChat(t){let e=this;if(e.isCanChat){e.isCanChat=!1,this.scheduleOnce(function(){e.isCanChat=!0},1);var i=new n.default.SendChat(unescape(encodeURIComponent(t)));l.default.getInstance().send(i)}else this.showToast("B\u1ea1n thao t\xe1c qu\xe1 nhanh.")}sendRutLoc(){this.soLanRutLoc>0?l.default.getInstance().send(new n.default.CmdSendRutLoc):p.default.instance.toast.showToast("B\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t r\xfat l\u1ed9c")}responseUpdateLuotRutLoc(t){this.soLanRutLoc=t,this.rutLocConLaiLb.string=""+t}responseTanLoc(t,e){d.default.Login.Coin=e,u.default.send(u.default.USER_UPDATE_COIN),0==t?p.default.instance.alertDialog.showMsg("T\xe1n l\u1ed9c th\xe0nh c\xf4ng!"):1==t?p.default.instance.alertDialog.showMsg("T\xe1n l\u1ed9c kh\xf4ng th\xe0nh c\xf4ng!"):(t=2)?p.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a c\xf3 \u0111\u1ee7 s\u1ed1 d\u01b0 Lux"):(t=3)&&p.default.instance.alertDialog.showMsg("T\xe1n l\u1ed9c ph\u1ea3i l\u1edbn h\u01a1n 1.000 Xu")}responseRutLoc(t,e){if(d.default.Login.Coin=e,u.default.send(u.default.USER_UPDATE_COIN),-1==t){let t=this.timeRutLoc-Math.floor(((new Date).getTime()-this.readTime)/1e3);p.default.instance.alertDialog.showMsg("R\xfat l\u1ed9c kh\xf4ng th\xe0nh c\xf4ng! Vui l\xf2ng ch\u1edd "+(t>0?t:"v\xe0i")+" gi\xe2y n\u1eefa.")}else 0==t?p.default.instance.alertDialog.showMsg("Ch\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau!"):t>0?p.default.instance.alertDialog.showMsg("B\u1ea1n r\xfat l\u1ed9c \u0111\u01b0\u1ee3c "+r.default.formatNumber(t)+" Xu."):-3==t?p.default.instance.alertDialog.showMsg("Qu\u1ef9 l\u1ed9c kh\xf4ng \u0111\u1ee7."):-2==t&&p.default.instance.alertDialog.showMsg("B\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t r\xfat l\u1ed9c.")}responseUpdateHuLoc(t){this.huLocLb.string=r.default.formatNumber(t)}responseUpdateRutLoc(t){this.timeRutLoc=t,this.btnRutLoc.stopAllActions(),this.btnRutLoc.scale=1,this.readTime=(new Date).getTime(),this.updateTimeRutLoc()}updateTimeRutLoc(){cc.tween(this.timeRutLocNode).sequence(cc.delayTime(1),cc.callFunc(()=>{let t=this.timeRutLoc-Math.floor(((new Date).getTime()-this.readTime)/1e3);this.timeRutLocNode.getComponent(cc.Label).string=this.converToTime(t),t>=0&&this.updateTimeRutLoc()})).start()}converToTime(t){var e=parseInt((t/60).toString()),i=t%60;return(e<10?"0"+e:e)+":"+(i<10?"0"+i:i)}activeHuLoc(){this.rutLocConLaiLb.node.parent.active&&(this.rutLocConLaiLb.node.parent.active=!1)}playSoundClick(){}};M.instance=null,a([v(cc.SpriteFrame)],M.prototype,"sprFrameTai",void 0),a([v(cc.SpriteFrame)],M.prototype,"sprFrameXiu",void 0),a([v(cc.SpriteFrame)],M.prototype,"sprFrameBtnNan",void 0),a([v(cc.SpriteFrame)],M.prototype,"sprFrameBtnNan2",void 0),a([v(cc.Label)],M.prototype,"lblSession",void 0),a([v(cc.Label)],M.prototype,"lblRemainTime",void 0),a([v(cc.Label)],M.prototype,"lblRemainTime2",void 0),a([v(cc.Label)],M.prototype,"lblScore",void 0),a([v(cc.Label)],M.prototype,"lblUserTai",void 0),a([v(cc.Label)],M.prototype,"lblUserXiu",void 0),a([v(cc.Label)],M.prototype,"lblTotalBetTai",void 0),a([v(cc.Label)],M.prototype,"lblTotalBetXiu",void 0),a([v(cc.Button)],M.prototype,"btnBetTai",void 0),a([v(cc.Button)],M.prototype,"btnBetXiu",void 0),a([v(cc.Label),v(cc.Label)],M.prototype,"lblBetTai",void 0),a([v(cc.Label)],M.prototype,"lblBetXiu",void 0),a([v(cc.Label)],M.prototype,"lblBetedTai",void 0),a([v(cc.Label)],M.prototype,"lblBetedXiu",void 0),a([v([sp.SkeletonData])],M.prototype,"animationResults",void 0),a([v(cc.SpriteAtlas)],M.prototype,"sprFrameDice",void 0),a([v([sp.Skeleton])],M.prototype,"diceResults",void 0),a([v(cc.Node)],M.prototype,"bgRedTime",void 0),a([v(cc.Node)],M.prototype,"bowl",void 0),a([v(sp.Skeleton)],M.prototype,"aniResult",void 0),a([v(cc.Node)],M.prototype,"btnHistories",void 0),a([v(cc.Node)],M.prototype,"nodePanelChat",void 0),a([v(cc.Node)],M.prototype,"layoutBet",void 0),a([v([cc.Button])],M.prototype,"btnBetAmounts",void 0),a([v(cc.ScrollView)],M.prototype,"scrollBetAmount",void 0),a([v(cc.Node)],M.prototype,"btnNextBetAmount",void 0),a([v(cc.Node)],M.prototype,"btnPreviousBetAmount",void 0),a([v(cc.Label)],M.prototype,"lblToast",void 0),a([v(cc.Label)],M.prototype,"lblWinCash",void 0),a([v(cc.Node)],M.prototype,"btnNan",void 0),a([v(m.default)],M.prototype,"popupDetailHistory",void 0),a([v(f.default)],M.prototype,"popupSoiCau",void 0),a([v(cc.Label)],M.prototype,"rutLocConLaiLb",void 0),a([v(cc.Label)],M.prototype,"huLocLb",void 0),a([v(cc.Node)],M.prototype,"timeRutLocNode",void 0),a([v(cc.Node)],M.prototype,"btnRutLoc",void 0),a([v(cc.AudioClip)],M.prototype,"soundCountDown",void 0),a([v(cc.AudioClip)],M.prototype,"soundBetted",void 0),a([v(cc.AudioClip)],M.prototype,"soundBet",void 0),a([v(cc.AudioClip)],M.prototype,"soundWin",void 0),a([v(cc.AudioClip)],M.prototype,"soundAddChip",void 0),a([v(cc.AudioClip)],M.prototype,"soundSubChip",void 0),a([v(cc.AudioClip)],M.prototype,"soundDice",void 0),a([v(cc.AudioClip)],M.prototype,"soundNewGame",void 0),a([v(cc.AudioClip)],M.prototype,"soundHideChip",void 0),M=s=a([C],M),i.default=M,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Common.AudioManager":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/common/Tween":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Lobby/src/MiniGame":void 0,"./TaiXiuMini.Cmd":"TaiXiuMini.Cmd","./TaiXiuMini.PanelChat":"TaiXiuMini.PanelChat","./TaiXiuMini.PopupDetailHistory":"TaiXiuMini.PopupDetailHistory","./TaiXiuMini.PopupSoiCau":"TaiXiuMini.PopupSoiCau"}],"TaiXiuMini.TaiXiuMiniTanLoc":[function(t,e,i){"use strict";cc._RF.push(e,"1b1459LYMFOeK+ynkU4aqpM","TaiXiuMini.TaiXiuMiniTanLoc");var s=this&&this.__decorate||function(t,e,i,s){var a,n=arguments.length,o=n<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,s);else for(var l=t.length-1;l>=0;l--)(a=t[l])&&(o=(n<3?a(o):n>3?a(e,i,o):a(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/App"),n=t("../../Main/Game/src/common/Configs"),o=t("../../Main/Game/src/common/Dialog"),l=t("../../Main/Game/src/common/Utils"),c=t("../../Main/Game/src/networks/MiniGameNetworkClient"),r=t("./TaiXiuMini.Cmd"),{ccclass:h,property:d}=cc._decorator;let u=class extends o.default{constructor(){super(...arguments),this.moneyLb=null,this.money=0}show(){super.show(),this.money=0,this.moneyLb.string="0",this.node.active=!0}onClick(t,e){this.money+=Number(e),this.moneyLb.string=l.default.formatNumber(this.money)}tanLocClick(){if(n.default.Login.Coin<this.money)return a.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n kh\xf4ng \u0111\u1ee7"),void this.clearMoney();this.money<1e3?a.default.instance.alertDialog.showMsg("T\xe1n l\u1ed9c ph\u1ea3i l\u1edbn h\u01a1n 1.000 Xu"):(c.default.getInstance().send(new r.default.CmdSendTanLoc(this.money)),this.clearMoney())}clearMoney(){this.money=0,this.moneyLb.string="0"}};s([d(cc.Label)],u.prototype,"moneyLb",void 0),u=s([h],u),i.default=u,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"./TaiXiuMini.Cmd":"TaiXiuMini.Cmd"}]},{},["TaiXiuMini.Cmd","TaiXiuMini.PanelChat","TaiXiuMini.PopupDetailHistory","TaiXiuMini.PopupHistory","TaiXiuMini.PopupHonors","TaiXiuMini.PopupSoiCau","TaiXiuMini.PopupThanhDu","TaiXiuMini.TaiXiuMiniController","TaiXiuMini.TaiXiuMiniTanLoc"]);