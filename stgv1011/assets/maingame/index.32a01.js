window.__require=function t(e,i,n){function o(a,c){if(!i[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){return o(e[a][1][t]||t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)o(n[a]);return o}({ActionDialog:[function(t,e,i){"use strict";cc._RF.push(e,"3ae44MiEGpHjo0vtIe4ct3V","ActionDialog");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./App"),s=t("./Common.AudioManager"),a=t("./Constants"),c=t("./Dialog"),{ccclass:r,property:l}=cc._decorator;let u=class extends c.default{constructor(){super(...arguments),this.lblMessage=null,this.lblDone=null,this.onDismissed=null,this.layoutAction=null,this.btnActionItem=null}show(){super.show(),s.default.getInstance().playEffect(o.default.instance.soundWarning,.7)}showMsgWithAction(t,e,i){this.lblDone.node.parent.active=!0,this.layoutAction.node.active=!1,this.lblDone.string=e||"\u0110\xf3ng",this.lblMessage.string=t,"function"==typeof i&&this.lblDone.node.getParent().once(cc.Node.EventType.TOUCH_END,()=>{this.dismiss(),i()}),this.show()}showMsgWithActions(t,e){this.lblMessage.string=t;const i=e.filter(t=>t);0!==i.length?(this.lblDone.node.getParent().active=!1,this.layoutAction.node.active=!0,this.layoutAction.node.removeAllChildren(),i.forEach(t=>{let e=cc.instantiate(this.btnActionItem);switch(e.y=0,e.active=!0,e.getComponentInChildren(cc.Label).string=a.UserActions.toName(t),e.once(cc.Node.EventType.TOUCH_END,()=>{this.dismiss(),o.default.instance.navigateByAction(t)}),e.parent=this.layoutAction.node,i.length){case 1:e.getComponentInChildren(cc.Label).node.once("size-changed",()=>{e.width=e.getComponentInChildren(cc.Label).node.width+60}),e.getComponentInChildren(cc.Label).overflow=cc.Label.Overflow.NONE;break;case 2:this.layoutAction.spacingX=0,e.getComponentInChildren(cc.Label).overflow=cc.Label.Overflow.SHRINK,e.getComponentInChildren(cc.Label).node.width=160,e.width=220;break;default:this.layoutAction.spacingX=-20,e.getComponentInChildren(cc.Label).overflow=cc.Label.Overflow.SHRINK,e.getComponentInChildren(cc.Label).node.width=160,e.width=190}}),this.show()):this.lblDone.node.getParent().once(cc.Node.EventType.TOUCH_END,()=>{this.dismiss()})}_onDismissed(){super._onDismissed(),"function"==typeof this.onDismissed&&this.onDismissed(),this.lblDone.node.getParent().off(cc.Node.EventType.TOUCH_END)}dismiss(){this.isAnimated&&super.dismiss()}forceDismiss(){super.dismiss()}};n([l(cc.Label)],u.prototype,"lblMessage",void 0),n([l(cc.Label)],u.prototype,"lblDone",void 0),n([l(cc.Layout)],u.prototype,"layoutAction",void 0),n([l(cc.Node)],u.prototype,"btnActionItem",void 0),u=n([r],u),i.default=u,cc._RF.pop()},{"./App":"App","./Common.AudioManager":"Common.AudioManager","./Constants":"Constants","./Dialog":"Dialog"}],AlertDialog:[function(t,e,i){"use strict";cc._RF.push(e,"1f198ZBwStLe5rFEKOd4Xci","AlertDialog");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./App"),s=t("./Common.AudioManager"),a=t("./Dialog"),{ccclass:c,property:r}=cc._decorator;class l{constructor(t,e,i){this.msg=t,this.doneTitle=e,this.onDismissed=i}}let u=class extends a.default{constructor(){super(...arguments),this.lblMessage=null,this.lblDone=null,this.onDismissed=null,this.queue=new Array}showMsg(t){this.show4(t,null,null,!1)}showMsgWithOnDismissed(t,e){this.show4(t,null,e)}show3(t,e,i=!1){this.show4(t,null,e,i)}show4(t,e,i,n=!1,o=!0){n?(this.queue.push(new l(t,e,i)),1==this.queue.length&&(this.lblDone.string=e||"\u0110\xf3ng",this.onDismissed=i,this.lblMessage.string=t,super.show())):this.queue.length>0&&o?this.queue.push(new l(t,e,i)):(this.lblDone.string=e||"\u0110\xf3ng",this.onDismissed=i,this.lblMessage.string=t,super.show())}_onShowed(){super._onShowed(),s.default.getInstance().playEffect(o.default.instance.soundWarning,.7)}_onDismissed(){super._onDismissed(),"function"==typeof this.onDismissed&&this.onDismissed(),this.queue.length>0&&(this.queue.splice(0,1),this.queue.length>0&&this.show4(this.queue[0].msg,this.queue[0].doneTitle,this.queue[0].onDismissed,!1,!1))}dismiss(){this.isAnimated&&super.dismiss()}};n([r(cc.Label)],u.prototype,"lblMessage",void 0),n([r(cc.Label)],u.prototype,"lblDone",void 0),u=n([c],u),i.default=u,cc._RF.pop()},{"./App":"App","./Common.AudioManager":"Common.AudioManager","./Dialog":"Dialog"}],AnimResizer:[function(t,e,i){"use strict";cc._RF.push(e,"a7753f6YUNB0Kql8ybfHtYe","AnimResizer");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.designResolution=new cc.Size(720,1280),this.isFullScene=!1,this.lastWitdh=720,this.lastHeight=1280}start(){this.updateSize()}update(t){cc.sys.isBrowser&&this.updateSize()}updateSize(){var t=cc.view.getFrameSize(),e=this.isFullScene?Math.max(t.width/this.lastWitdh,t.height/this.lastHeight):Math.min(t.width/this.lastWitdh,t.height/this.lastHeight);this.lastWitdh===t.width&&this.lastHeight===t.height||(this.lastWitdh=t.width,this.lastHeight=t.height,this.node.setScale(e))}};n([s],a.prototype,"designResolution",void 0),n([s(cc.Boolean)],a.prototype,"isFullScene",void 0),a=n([o],a),i.default=a,cc._RF.pop()},{}],AppearanceUtil:[function(t,e,i){"use strict";cc._RF.push(e,"15efdVqubpLnpG2/LvKNVZ0","AppearanceUtil");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.currentOrChildren=!1,this.listNodeRunAction=[],this.opacityFrom=255,this.opacityTo=255,this.timeOpacity=0,this.idEasingOpacity=0,this.scaleFrom=1,this.scaleTo=1,this.timeScale=0,this.idEasingScale=0,this.addPositionToStart=cc.v3(0,0,0),this.moveHorizontal=!0,this.addPositionToEnd=cc.v3(0,0,0),this.timeMoveToPostion=0,this.idEasingMove=0,this.factorDelayTime=.5}start(){this.node.active&&(this.currentOrChildren?this.listNodeRunAction.forEach((t,e)=>{t.active&&this.moveNode(t,e*this.factorDelayTime)}):this.moveNode(this.node,this.factorDelayTime))}checkModeAction(t){switch(t){case 0:return cc.easing.elasticInOut;case 1:return cc.easing.quartInOut;case 2:return cc.easing.bounceOut;case 3:return cc.easing.cubicOut;default:return cc.easing.elasticInOut}}getPosByScene(t){return cc.v3(t.x*=this.node.getContentSize().width/720,t.y*=this.node.getContentSize().height/1280)}getPosYByScene(t){return t*(this.node.getContentSize().height/1280)}getPosXByScene(t){return t*(this.node.getContentSize().width/720)}moveNode(t,e=0){cc.tween;let i=this.getPosByScene(t.position.add(this.addPositionToEnd));if(this.timeMoveToPostion){let n=this.checkModeAction(this.idEasingMove);0==this.addPositionToStart.x&&0==this.addPositionToStart.y?this.moveHorizontal?t.x=t.x<0?-this.getPosXByScene(this.node.getContentSize().width+t.width*t.anchorX):this.getPosXByScene(this.node.getContentSize().width+t.width*t.anchorX):t.y=this.getPosYByScene(this.node.getContentSize().height+t.height*t.anchorY):t.position=t.position.add(this.addPositionToStart),cc.tween(t).sequence(cc.tween().delay(e),cc.tween().to(this.timeMoveToPostion,{position:i},{easing:n})).start()}if(this.timeScale){let i=this.checkModeAction(this.idEasingScale);this.scaleFrom==this.scaleTo?t.scale=0:t.scale=this.scaleFrom,cc.tween(t).sequence(cc.tween().delay(e),cc.tween().to(this.timeScale,{scale:this.scaleTo},{easing:i})).start()}if(this.timeOpacity){let i=this.checkModeAction(this.idEasingOpacity);this.opacityFrom==this.opacityTo?t.opacity=0:t.opacity=this.opacityFrom,cc.tween(t).sequence(cc.tween().delay(e),cc.tween().to(this.timeOpacity,{opacity:this.opacityTo},{easing:i})).start()}}};n([s()],a.prototype,"currentOrChildren",void 0),n([s([cc.Node])],a.prototype,"listNodeRunAction",void 0),n([s()],a.prototype,"opacityFrom",void 0),n([s()],a.prototype,"opacityTo",void 0),n([s()],a.prototype,"timeOpacity",void 0),n([s()],a.prototype,"idEasingOpacity",void 0),n([s()],a.prototype,"scaleFrom",void 0),n([s()],a.prototype,"scaleTo",void 0),n([s()],a.prototype,"timeScale",void 0),n([s()],a.prototype,"idEasingScale",void 0),n([s()],a.prototype,"addPositionToStart",void 0),n([s()],a.prototype,"moveHorizontal",void 0),n([s()],a.prototype,"addPositionToEnd",void 0),n([s()],a.prototype,"timeMoveToPostion",void 0),n([s()],a.prototype,"idEasingMove",void 0),n([s()],a.prototype,"factorDelayTime",void 0),a=n([o],a),i.default=a,cc._RF.pop()},{}],App:[function(t,e,i){"use strict";cc._RF.push(e,"28249+WEXpPF7gjoWi2hRVw","App");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("./AlertDialog"),a=t("./ConfirmDialog"),c=t("./SubpackageDownloader"),r=t("../networks/MiniGameNetworkClient"),l=t("./Configs"),u=t("../../../Lobby/src/MiniGame"),h=t("../../../Lobby/src/ButtonMiniGame"),d=t("../../../Lobby/src/Lobby.LobbyController"),p=t("./Toast"),g=t("../networks/TXMD5NetworkClient"),m=t("../../../Lobby/src/Lobby.PopupShop"),f=t("./Constants"),D=t("./ActionDialog"),b=t("../../../Lobby/src/Vippoint/Lobby.PopupVippoint"),C=t("./BroadcastReceiver"),y=t("./Common.AudioManager"),v=t("./ErrorLogger"),{ccclass:w,property:A}=cc._decorator;let E=n=class extends cc.Component{constructor(){super(...arguments),this.designResolution=new cc.Size(720,1280),this.loading=null,this.loadingIcon=null,this.loadingLabel=null,this.alertDialog=null,this.actiontDialog=null,this.confirmDialog=null,this.sprFrameAvatars=new Array,this.buttonMiniGameNode=null,this.miniGame=null,this.popups=null,this.lobby=null,this.soundClick=null,this.soundWarning=null,this.toast=null,this.lastWitdh=0,this.lastHeight=0,this.timeOutLoading=null,this.isFisrtNetworkConnected=!1,this.subpackageLoaded={},this.taiXiu=null,this.taiXiuMD5=null,this.miniPoker=null,this.caoThap=null,this.bauCua=null,this.pokerGo=null,this.oanTuTi=null,this.pendingCmdIds=new Set}onLoad(){cc.game.addPersistRootNode(this.toast.node),null==n.instance?(n.instance=this,cc.game.addPersistRootNode(n.instance.node),this.buttonMiniGame=this.buttonMiniGameNode.getComponent(h.default)):this.node.destroy()}start(){C.default.register(C.default.SET_SOUND,t=>{this.checkBtn(t)},this),this.checkBtn(),this.updateSize()}showLoading(t,e=15,i=null){t&&i?this.pendingCmdIds.add(i):!t&&i&&this.pendingCmdIds.delete(i),!t&&this.pendingCmdIds.size>0||(this.loading.active=t,this.loadingLabel.string="\u0110ang t\u1ea3i...",null!=this.timeOutLoading&&this.unschedule(this.timeOutLoading),e>0&&(this.timeOutLoading=()=>{this.showLoading(!1,e,i)},this.scheduleOnce(this.timeOutLoading,e)))}showErrLoading(t){this.showLoading(!0,-1),this.loadingLabel.string=t||"M\u1ea5t k\u1ebft n\u1ed1i, \u0111ang th\u1eed l\u1ea1i..."}update(t){cc.sys.isNative||this.updateSize()}updateSize(){var t=cc.view.getFrameSize();if(this.lastWitdh!==t.width||this.lastHeight!==t.height){this.lastWitdh=t.width,this.lastHeight=t.height;var e=cc.Size.ZERO;e=this.designResolution.width/this.designResolution.height>t.width/t.height?cc.size(this.designResolution.width,this.designResolution.width*(t.height/t.width)):cc.size(this.designResolution.height*(t.width/t.height),this.designResolution.height),this.node.setContentSize(e),this.node.setPosition(cc.v2(e.width/2,e.height/2))}}getAvatarSpriteFrame(t){let e=parseInt(t);return isNaN(e)||e<0||e>=this.sprFrameAvatars.length?this.sprFrameAvatars[0]:this.sprFrameAvatars[e]}loadScene(t,e){t!==cc.director.getScene().name&&cc.director.preloadScene(t,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},()=>{this.showLoading(!1),cc.director.loadScene(t,()=>{e&&e()})})}loadSceneInSubpackage(t,e){this.subpackageLoaded.hasOwnProperty(t)&&this.subpackageLoaded[t]?cc.director.preloadScene(e,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},()=>{this.showLoading(!1),cc.director.loadScene(e)}):(this.showLoading(!0,-1),c.default.downloadSubpackage(t,(i,n)=>{"progress"!=i?i?this.alertDialog.showMsg(i):(this.subpackageLoaded[t]=!0,cc.director.preloadScene(e,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},()=>{this.showLoading(!1),cc.director.loadScene(e)})):this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+100*n)+"%")}))}loadPrefabInSubpackage(t,e,i){this.subpackageLoaded.hasOwnProperty(t)&&this.subpackageLoaded[t]?(this.showLoading(!0,-1),cc.loader.loadRes(e,cc.Prefab,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},(t,e)=>{this.showLoading(!1),i(null==t?null:t.message,e)})):(this.showLoading(!0,-1),c.default.downloadSubpackage(t,(n,o)=>{"progress"!=n?(this.showLoading(!1),n?this.alertDialog.showMsg(n):(this.subpackageLoaded[t]=!0,cc.loader.loadRes(e,cc.Prefab,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},(t,e)=>{this.showLoading(!1),i(null==t?null:t.message,e)}))):this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+100*o)+"%")}))}openGameBauCua(){n.instance.loadPrefabInBundle("baucua",l.default.App.UPDATE_INFO.baucua,!0,"res/prefabs/BauCua",(t,e)=>{r.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.bauCua){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.bauCua=t.getComponent(u.default)}this.bauCua.show()}else cc.log(t)})})}openGamePokerGo(){n.instance.loadPrefabInBundle("pokergo",l.default.App.UPDATE_INFO.pokergo,!0,"res/prefabs/PokerGo",(t,e)=>{r.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.pokerGo){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.pokerGo=t.getComponent(u.default)}this.pokerGo.show()}else cc.log(t)})})}openGameTaiXiuMini(){n.instance.loadPrefabInBundle("taixiu",l.default.App.UPDATE_INFO.taixiu,!0,"res/prefabs/TaiXiu",(t,e)=>{r.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.taiXiu){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.taiXiu=t.getComponent(u.default)}this.taiXiu.show()}else cc.log(t)})})}openGameTaiXiuMD5(){n.instance.loadPrefabInBundle("taixiumd5",l.default.App.UPDATE_INFO.taixiumd5,!0,"res/prefabs/TaiXiuMD5",(t,e)=>{t&&cc.log(t),g.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.taiXiuMD5){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.taiXiuMD5=t.getComponent(u.default)}this.taiXiuMD5.show()}else cc.log(t)})})}openGameMiniPoker(){n.instance.loadPrefabInBundle("minipoker",l.default.App.UPDATE_INFO.minipoker,!0,"res/prefabs/MiniPoker",(t,e)=>{r.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.miniPoker){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.miniPoker=t.getComponent(u.default)}this.miniPoker.show()}else cc.log(t)})})}openGameCaoThap(){n.instance.loadPrefabInBundle("caothap",l.default.App.UPDATE_INFO.caothap,!0,"res/prefabs/CaoThap",(t,e)=>{r.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.caoThap){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.caoThap=t.getComponent(u.default)}this.caoThap.show()}else cc.log(t)})})}openGameOanTuTi(){n.instance.loadPrefabInBundle("oantuti",l.default.App.UPDATE_INFO.oantuti,!0,"res/prefabs/OanTuTi",(t,e)=>{r.default.getInstance().checkConnect(()=>{if(null!=e){if(null==this.oanTuTi){let t=cc.instantiate(e);t.parent=this.miniGame,t.active=!1,this.oanTuTi=t.getComponent(u.default)}this.oanTuTi.show()}else cc.log(t)})})}openTelegram(t=null){if(!l.default.Login.IsLogin)return void n.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.");null==t&&(t=l.default.App.getLinkTelegram());let e="http://www.telegram.me/"+t+"?start="+l.default.Login.telegramAccessToken;cc.sys.isNative&&(e="tg://resolve?domain="+t+"&start="+l.default.Login.telegramAccessToken),cc.sys.openURL(e)}openShop(t){m.default.createAndShow(this.popups,null,t)}loadPrefab(t,e){this.showErrLoading("\u0110ang t\u1ea3i..."),cc.assetManager.getBundle(l.default.App.BUNDLE_NAME.MAIN).load(t,cc.Prefab,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},(t,i)=>{this.showLoading(!1),e(null==t?null:t.message,i)})}loadPrefabInBundle(t,e,i,n,o){this.showLoading(!0,-1);let s=(i=i&&cc.sys.isNative&&!0)?l.default.App.UPDATE_INFO.url+t:t,a=(i||cc.sys.isBrowser)&&e?e:"";cc.assetManager.loadBundle(s,{version:a},(t,e)=>{this.showLoading(!1),t?this.alertDialog.showMsg(t.message):e.load(n,cc.Prefab,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},(t,e)=>{this.showLoading(!1),o(null==t?null:t.message,e)})})}loadSceneInBundle(t,e,i,n){this.showLoading(!0,-1);let o=(i=i&&cc.sys.isNative&&!0)?l.default.App.UPDATE_INFO.url+t:t,s=(i||cc.sys.isBrowser)&&e?e:"";cc.assetManager.loadBundle(o,{version:s},(t,e)=>{if(t)return this.showLoading(!1),void v.ErrorLogger.sendLogError("Load bundle error",o,t.message);e.preloadScene(n,(t,e)=>{this.showErrLoading("\u0110ang t\u1ea3i..."+parseInt(""+t/e*100)+"%")},t=>{if(t)return this.showLoading(!1),void v.ErrorLogger.sendLogError("Preload scene error",n,t.message);e.loadScene(n,(t,e)=>{this.showLoading(!1),t?v.ErrorLogger.sendLogError("Load scene error",n,t.message):cc.director.runScene(e)})})})}getBundle(t){return cc.assetManager.getBundle(t)}navigateByAction(t){switch(t){case f.UserActions.ENUM.RECHARGE:case f.UserActions.ENUM.RECHARGE_CARD:this.openShop(0);break;case f.UserActions.ENUM.RECHARGE_MOMO:this.openShop(2);break;case f.UserActions.ENUM.RECHARGE_BANK:this.openShop(3);break;case f.UserActions.ENUM.PLAY_GAME:break;case f.UserActions.ENUM.PLAY_GAME_TAI_XIU:this.openGameTaiXiuMini();break;case f.UserActions.ENUM.PLAY_GAME_MINI_POKER:this.openGameMiniPoker();break;case f.UserActions.ENUM.PLAY_GAME_BAU_CUA:this.openGameBauCua();break;case f.UserActions.ENUM.PLAY_GAME_CAO_THAP:this.openGameCaoThap();break;case f.UserActions.ENUM.PLAY_GAME_POKE_GO:this.openGamePokerGo();break;case f.UserActions.ENUM.PLAY_GAME_VQMM:break;case f.UserActions.ENUM.VERIFY_TELEGRAM:this.openTelegram();break;case f.UserActions.ENUM.OPEN_VIPPOINT:b.default.createAndShow(this.popups);break;case f.UserActions.ENUM.TELE_SUPPORT:this.openTelegram(l.default.App.TELE_SUPPORT);break;case f.UserActions.ENUM.FB_MESSENGER:cc.sys.openURL(l.default.App.FB_MESSENGER)}}setStateAnimation(t=!1){var e;null===(e=this.lobby)||void 0===e||e.setStateAnimation(t)}playSoundClick(){y.default.getInstance().playEffect(this.soundClick,.7)}checkBtn(t=null){let e=t&&t.name?t:cc.find("Canvas"),i=(t,e)=>{try{let i=t.getComponent(cc.Button)||t.getComponent(cc.Toggle);if(i&&0==i.clickEvents.filter(t=>t&&"playSoundClick"==t.handler).length){let t=new cc.Component.EventHandler;t.target=this.node,t.component="App",t.handler="playSoundClick",t.customEventData="",i.clickEvents.push(t)}}catch(n){cc.warn(e,n)}t.children.forEach(t=>{i(t,e+"/"+t.name)})};i(e,"canvas"),t&&t.name&&i(this.node,"app")}};E.instance=null,o([A],E.prototype,"designResolution",void 0),o([A(cc.Node)],E.prototype,"loading",void 0),o([A(cc.Node)],E.prototype,"loadingIcon",void 0),o([A(cc.Label)],E.prototype,"loadingLabel",void 0),o([A(s.default)],E.prototype,"alertDialog",void 0),o([A(D.default)],E.prototype,"actiontDialog",void 0),o([A(a.default)],E.prototype,"confirmDialog",void 0),o([A([cc.SpriteFrame])],E.prototype,"sprFrameAvatars",void 0),o([A(cc.Node)],E.prototype,"buttonMiniGameNode",void 0),o([A(cc.Node)],E.prototype,"miniGame",void 0),o([A(cc.Node)],E.prototype,"popups",void 0),o([A(d.default)],E.prototype,"lobby",void 0),o([A(cc.AudioClip)],E.prototype,"soundClick",void 0),o([A(cc.AudioClip)],E.prototype,"soundWarning",void 0),o([A(p.default)],E.prototype,"toast",void 0),E=n=o([w],E),i.default=E,cc._RF.pop()},{"../../../Lobby/src/ButtonMiniGame":"ButtonMiniGame","../../../Lobby/src/Lobby.LobbyController":"Lobby.LobbyController","../../../Lobby/src/Lobby.PopupShop":"Lobby.PopupShop","../../../Lobby/src/MiniGame":"MiniGame","../../../Lobby/src/Vippoint/Lobby.PopupVippoint":"Lobby.PopupVippoint","../networks/MiniGameNetworkClient":"MiniGameNetworkClient","../networks/TXMD5NetworkClient":"TXMD5NetworkClient","./ActionDialog":"ActionDialog","./AlertDialog":"AlertDialog","./BroadcastReceiver":"BroadcastReceiver","./Common.AudioManager":"Common.AudioManager","./Configs":"Configs","./ConfirmDialog":"ConfirmDialog","./Constants":"Constants","./ErrorLogger":"ErrorLogger","./SubpackageDownloader":"SubpackageDownloader","./Toast":"Toast"}],AuthorizationController:[function(t,e,i){"use strict";cc._RF.push(e,"f2a7fgQCPBHzKbFiGxyZfpB","AuthorizationController"),Object.defineProperty(i,"__esModule",{value:!0}),i.AuthorizationController=i.LOGIN_SOURCE=void 0;const n=t("../../../Game/src/common/App"),o=t("../../../Game/src/common/BroadcastReceiver"),s=t("../../../Game/src/common/Configs"),a=t("../../../Game/src/common/ErrorLogger"),c=t("../../../Game/src/common/Http"),r=t("../../../Game/src/common/SPUtils"),l=t("../../../Game/src/common/Utils"),u=t("../../../Game/src/networks/MiniGameNetworkClient"),h=t("../../../Game/src/networks/SlotNetworkClient"),d=t("../Lobby.Cmd"),p=t("../Lobby.PopupUpdateNickname"),g=t("./AuthorizationResponseData"),m=t("./Lobby.PopupLogin");let f=window.FB;var D;(function(t){t.NORMAl="normal",t.PLAY_NOW="dev",t.FACEBOOK="fb",t.APPLE="apple",t.TELEGRAM="telegram"})(D=i.LOGIN_SOURCE||(i.LOGIN_SOURCE={}));class b{constructor(){this.username="",this.password="",this.source="",this.token="",this.telegramAuthData=null}static getInstance(){return null==this.instance&&(this.instance=new b),this.instance}initFacebookSdk(){cc.sys.isBrowser&&f.init({appId:"3430276357225209",autoLogAppEvents:!0,xfbml:!0,version:"v17.0"})}autoLogin(){!s.default.Login.IsLogin&&s.default.Login.IsAutoLogin&&r.default.getUserName().length>0&&r.default.getUserPass().length>0&&(n.default.instance.showLoading(!0),c.default.post(s.default.App.API+"?c=3",{un:r.default.getUserName(),pw:md5(r.default.getUserPass()),otp:"",app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version,vt:md5(r.default.getUserName()+"|"+s.default.App.PRIVATE_KEY)},(t,e)=>{if(t)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(t));let i=new g.LoginResponse(Object.assign(e,{error:t}));this.loginHandler(i,r.default.getUserName(),r.default.getUserPass(),D.NORMAl)}))}loginNormal(t,e,i=null){n.default.instance.showLoading(!0),this.onSuccess=i,c.default.post(s.default.App.API+"?c=3",{un:t,pw:md5(e),otp:"",app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version,vt:md5(t+"|"+s.default.App.PRIVATE_KEY)},(i,o)=>{if(i)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(i));let s=new g.LoginResponse(Object.assign(o,{error:i}));this.loginHandler(s,t,e,D.NORMAl)})}loginFacebook(t){if(this.onSuccess=t,cc.sys.isNative)l.default.loginFacebook();else{let t=this;f.getLoginStatus(function(e){if("connected"===e.status){e.authResponse.userID;var i=e.authResponse.accessToken;cc.log("accessToken : ",i),t.onLoginFacebook(i)}else f.login(function(e){e.authResponse?f.api("/me","get",{fields:"name,email,gender,verified,link"},function(e){cc.log("fbID : "+e.id);var i=f.getAuthResponse().accessToken;cc.log("accessToken : ",i),t.onLoginFacebook(i)}):cc.log("User cancelled login or did not fully authorize.")})})}}onLoginFacebook(t){t?(n.default.instance.showLoading(!0),c.default.post(s.default.App.API+"?c=3",{at:t,s:D.FACEBOOK,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version},(e,i)=>{if(e)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(e));let o=new g.LoginResponse(Object.assign(i,{error:e}));this.loginHandler(o,"","",D.FACEBOOK,t)})):n.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i.")}loginWithDeviceId(){let t=l.default.getDeviceId();if(t){for(;t.length<=10;)t+=t;n.default.instance.showLoading(!0),c.default.post(s.default.App.API+"?c=3",{at:t,s:D.PLAY_NOW,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version},(e,i)=>{if(e)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(e));let o=new g.LoginResponse(Object.assign(i,{error:e}));this.loginHandler(o,"","",D.PLAY_NOW,t)})}else n.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau - (id error)")}loginTelegram(t){n.default.instance.showLoading(!0),c.default.post(s.default.App.API+"?c=3",{s:D.TELEGRAM,telegramUser:t,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version},(e,i)=>{if(e)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(e));let o=new g.LoginResponse(Object.assign(i,{error:e}));this.loginHandler(o,"","",D.TELEGRAM,"",t)})}loginWithOtp(t,e=null){switch(n.default.instance.showLoading(!0),this.onSuccess=e,this.source){case D.NORMAl:c.default.post(s.default.App.API+"?c=3",{un:this.username,pw:md5(this.password),otp:t,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version,vt:md5(this.username+"|"+s.default.App.PRIVATE_KEY)},(t,e)=>{if(t)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(t));let i=new g.LoginResponse(Object.assign(e,{error:t}));this.loginHandler(i,this.username,this.password,D.NORMAl)});break;case D.FACEBOOK:c.default.post(s.default.App.API+"?c=3",{at:this.token,s:D.FACEBOOK,otp:t,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version},(t,e)=>{if(t)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(t));let i=new g.LoginResponse(Object.assign(e,{error:t}));this.loginHandler(i,this.username,this.password,D.FACEBOOK,this.token)});break;case D.PLAY_NOW:c.default.post(s.default.App.API+"?c=3",{at:this.token,s:D.PLAY_NOW,otp:t,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version},(t,e)=>{if(t)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(t));let i=new g.LoginResponse(Object.assign(e,{error:t}));this.loginHandler(i,this.username,this.password,D.PLAY_NOW,this.token)});break;case D.TELEGRAM:c.default.post(s.default.App.API+"?c=3",{s:D.TELEGRAM,telegramUser:this.telegramAuthData,otp:t,app_id:s.default.App.UPDATE_INFO.provider,c_v:s.default.App.UPDATE_INFO.version},(t,e)=>{if(t)return n.default.instance.showLoading(!1),void a.ErrorLogger.sendLogError("Http request error","Login",JSON.stringify(t));let i=new g.LoginResponse(Object.assign(e,{error:t}));this.loginHandler(i,this.username,this.password,D.TELEGRAM,this.token,this.telegramAuthData)})}}loginHandler(t,e,i=null,a,c=null,l=null){if(n.default.instance.showLoading(!1),this.username=e,this.password=i,this.source=a,this.token=c,this.telegramAuthData=l,null==t.error)switch(cc.log(JSON.stringify(t)),parseInt(t.errorCode)){case 0:switch(s.default.Login.initialize(t,a),s.default.Login.socialSource){case D.NORMAl:s.default.Login.Password=i;break;default:s.default.Login.Password=""}u.default.getInstance().sendCheck(new d.default.ReqSubcribeJackpots),h.default.getInstance().sendCheck(new d.default.ReqSubcribeHallSlot),o.default.send(o.default.USER_INFO_UPDATED),r.default.setUserName(s.default.Login.Username),r.default.setUserPass(s.default.Login.Password),n.default.instance.buttonMiniGame.show(),n.default.instance.lobby.loginCallback(),this.onSuccess&&this.onSuccess();break;case 1012:m.default.createAndShow(n.default.instance.popups,!0);break;case 2001:switch(a){case D.NORMAl:p.default.createAndShow(n.default.instance.popups,e,i,a);break;case D.FACEBOOK:case D.PLAY_NOW:case D.TELEGRAM:p.default.createAndShow(n.default.instance.popups,"","",a,c,l)}break;default:n.default.instance.alertDialog.showMsg(t.desc||"\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau.")}else n.default.instance.alertDialog.showMsg("\u0110\u0103ng nh\u1eadp kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng ki\u1ec3m tra l\u1ea1i k\u1ebft n\u1ed1i.")}onUpdateNicknameSuccess(t,e,i=null,n=null,o=null){switch(i){case D.NORMAl:this.loginNormal(t,e);break;case D.FACEBOOK:this.onLoginFacebook(n);break;case D.PLAY_NOW:this.loginWithDeviceId();break;case D.TELEGRAM:this.loginTelegram(o)}}}i.AuthorizationController=b,b.instance=null,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/ErrorLogger":"ErrorLogger","../../../Game/src/common/Http":"Http","../../../Game/src/common/SPUtils":"SPUtils","../../../Game/src/common/Utils":"Utils","../../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../../Game/src/networks/SlotNetworkClient":"SlotNetworkClient","../Lobby.Cmd":"Lobby.Cmd","../Lobby.PopupUpdateNickname":"Lobby.PopupUpdateNickname","./AuthorizationResponseData":"AuthorizationResponseData","./Lobby.PopupLogin":"Lobby.PopupLogin"}],AuthorizationResponseData:[function(t,e,i){"use strict";cc._RF.push(e,"0b8a35DGf9C7pUbwB/b0mZE","AuthorizationResponseData"),Object.defineProperty(i,"__esModule",{value:!0}),i.LoginResponse=i.UserVippointRewards=i.SecurityPublicAttributes=i.SecurityUserSettings=i.UserInfoResponse=void 0,i.UserInfoResponse=class{constructor(t){var e;this.success=null==t?void 0:t.success,this.errorCode=null==t?void 0:t.errorCode,this.desc=null==t?void 0:t.desc,this.appSecure=null==t?void 0:t.appSecure,this.cmt=null==t?void 0:t.cmt,this.configGame=null==t?void 0:t.configGame,this.email=null==t?void 0:t.email,this.emailSecure=null==t?void 0:t.emailSecure,this.loginSecure=null==t?void 0:t.loginSecure,this.mobile=null==t?void 0:t.mobile,this.mobileSecure=null==t?void 0:t.mobileSecure,this.moneyLoginotp=null==t?void 0:t.moneyLoginotp,this.moneyUse=null==t?void 0:t.moneyUse,this.safe=null==t?void 0:t.safe,this.username=null==t?void 0:t.username,this.userSettings=new n(null==t?void 0:t.userSettings),this.userVippointRewards=[],null===(e=null==t?void 0:t.userVippointRewards)||void 0===e||e.forEach(t=>this.userVippointRewards.push(new s(t)))}};class n{constructor(t){this.publicAttributes=new o(null==t?void 0:t.publicAttributes)}}i.SecurityUserSettings=n;class o{constructor(t){this.autoApproveCashout=null==t?void 0:t.AUTO_APPROVE_CASHOUT,this.isLoginOtp=null==t?void 0:t.IS_LOGIN_OTP}}i.SecurityPublicAttributes=o;class s{constructor(t){this.createTime=null==t?void 0:t.createTime,this.id=null==t?void 0:t.id,this.nickName=null==t?void 0:t.nickName,this.rewardName=null==t?void 0:t.rewardName,this.rewardDesc=null==t?void 0:t.rewardDesc,this.rewardValue=null==t?void 0:t.rewardValue}}i.UserVippointRewards=s,i.LoginResponse=class{constructor(t){this.error=null==t?void 0:t.error,this.accessToken=null==t?void 0:t.accessToken,this.avatar=null==t?void 0:t.avatar,this.desc=null==t?void 0:t.desc,this.errorCode=null==t?void 0:t.errorCode,this.sessionKey=null==t?void 0:t.sessionKey,this.success=null==t?void 0:t.success,this.username=null==t?void 0:t.username}},cc._RF.pop()},{}],BgResizer:[function(t,e,i){"use strict";cc._RF.push(e,"cbf1dlYiXRG35Ei6K+I4cFm","BgResizer");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.designResolution=new cc.Size(720,1280),this.lastWitdh=0,this.lastHeight=0}start(){this.updateSize()}update(t){cc.sys.isBrowser&&this.updateSize()}updateSize(){var t=cc.view.getFrameSize();if(this.lastWitdh!==t.width||this.lastHeight!==t.height)if(this.lastWitdh=t.width,this.lastHeight=t.height,this.designResolution.width/this.designResolution.height>t.width/t.height){var e=(n=this.designResolution.width*t.height/t.width)*this.designResolution.width/this.designResolution.height,i=cc.size(e,n);this.node.setContentSize(i)}else{var n=(e=this.designResolution.height*t.width/t.height)*this.designResolution.height/this.designResolution.width;i=cc.size(e,n),i=cc.size(e,n),this.node.setContentSize(i)}}};n([s],a.prototype,"designResolution",void 0),a=n([o],a),i.default=a,cc._RF.pop()},{}],BroadcastReceiver:[function(t,e,i){"use strict";cc._RF.push(e,"8831e6G+6NKPKJ3bcB/6OEn","BroadcastReceiver"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./ErrorLogger");var o;(function(t){class e{constructor(t,e,i){this.action=t,this.target=i,this.callback=e}}t.BroadcastListener=e;class i{static register(t,i,n){this.listeners.push(new e(t,i,n))}static unRegisterByAction(t){for(var e=0;e<this.listeners.length;e++)this.listeners[e].action==t&&this.listeners.splice(e--,1)}static unRegisterByTarget(t){for(var e=0;e<this.listeners.length;e++)this.listeners[e].target==t&&this.listeners.splice(e--,1)}static send(t,e=null){try{for(var i=0;i<this.listeners.length;i++){let n=this.listeners[i];n.action==t&&(n.target&&n.target instanceof Object&&n.target.node?n.callback(e):this.listeners.splice(i--,1))}}catch(o){n.ErrorLogger.sendLogError("Object error","BroadcastReceiver",t+"\n"+JSON.stringify(o.stack))}}}i.UPDATE_NICKNAME_SUCCESS="UPDATE_NICKNAME_SUCCESS",i.LOGINED="LOGINED",i.USER_INFO_UPDATED="USER_INFO_UPDATED",i.USER_LOGOUT="USER_LOGOUT",i.USER_UPDATE_COIN="USER_UPDATE_COIN",i.ON_AUDIO_CHANGED="ON_AUDIO_CHANGED",i.ON_SHOW_ANIM_CHANGED="ON_SHOW_ANIM_CHANGED",i.SET_SOUND="SET_SOUND",i.UPDATE_MAIL_COUNT="UPDATE_MAIL_COUNT",i.USER_VIP_UPDATED="USER_VIP_UPDATED",i.USER_DISCONNECTED="USER_DISCONNECTED",i.SLOT_WS_SEND="SLOT_WS_SEND",i.X3_DEPOSIT="X3_DEPOSIT",i.listeners=new Array,t.BroadcastReceiver=i})(o||(o={})),i.default=o.BroadcastReceiver,cc._RF.pop()},{"./ErrorLogger":"ErrorLogger"}],ButtonMiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"43933Wy759F+qsbqvxc3BMb","ButtonMiniGame");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/networks/MiniGameNetworkClient"),s=t("../../Game/src/networks/Network.InPacket"),a=t("../../Game/src/common/App"),c=t("./Lobby.Cmd"),r=t("../../Game/src/networks/Network.Cmd"),l=t("../../Game/src/networks/TXMD5NetworkClient"),u=t("../../Game/src/common/BroadcastReceiver"),h=t("../../Game/src/common/Constants"),d=t("../../Game/src/common/Configs"),p=t("./Authorization/AuthorizationController"),{ccclass:g,property:m}=cc._decorator;let f=class extends cc.Component{constructor(){super(...arguments),this.labelTime=null,this.button=null,this.panel=null,this.taiNode=null,this.xiuNode=null,this.buttonClicked=!0,this.buttonMoved=cc.Vec2.ZERO}start(){this.panel.parent.active=!1,this.button.active=!1,this.labelTime.string="00",this.button.on(cc.Node.EventType.TOUCH_START,()=>{this.buttonClicked=!0,this.buttonMoved=cc.Vec2.ZERO},this),this.button.on(cc.Node.EventType.TOUCH_MOVE,t=>{if(this.buttonMoved=this.buttonMoved.add(t.getDelta()),this.buttonClicked){if(Math.abs(this.buttonMoved.x)>30||Math.abs(this.buttonMoved.y)>30){let t=this.button.position;t.x+=this.buttonMoved.x,t.y+=this.buttonMoved.y,this.button.position=t,this.buttonClicked=!1}}else{let e=this.button.position;e.x+=t.getDeltaX(),e.y+=t.getDeltaY(),this.button.position=e}},this),this.button.on(cc.Node.EventType.TOUCH_END,()=>{this.buttonClicked&&this.actButton()},this),o.default.getInstance().addListener(t=>{switch(new s.default(t).getCmdId()){case c.default.TxCode.UPDATE_TIME:{let e=new c.default.ReceiveUpdateTime(t);this.labelTime.string=e.remainTime>9?e.remainTime.toString():"0"+e.remainTime,e.bettingState&&(this.xiuNode.stopAllActions(),this.taiNode.active=!1,this.taiNode.stopAllActions(),this.xiuNode.active=!1)}break;case c.default.TxCode.DICES_RESULT:{let e=new c.default.ReceiveDicesResult(t);e.dice1+e.dice2+e.dice3<11?(this.xiuNode.active=!0,this.xiuNode.stopAllActions(),this.xiuNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,1.1),cc.scaleTo(.2,.9)))),this.taiNode.active=!1):(this.taiNode.active=!0,this.taiNode.stopAllActions(),this.taiNode.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,1.1),cc.scaleTo(.2,.9)))),this.xiuNode.active=!1)}break;case r.default.Code.NOTIFY_DISCONNECT:{let e=new r.default.ReceivedNotifyDisconnect(t);cc.log(e),d.default.Login.clear(!0),a.default.instance.actiontDialog.forceDismiss(),a.default.instance.alertDialog.dismiss(),a.default.instance.confirmDialog.dismiss(),a.default.instance.popups.children.forEach(t=>t.active=!1),u.default.send(u.default.USER_DISCONNECTED),this.scheduleOnce(()=>{switch(e.reason){case h.Network.DisconnectReason.IDLE:case h.Network.DisconnectReason.UNKNOWN:case h.Network.DisconnectReason.HANDSHAKE:{let t="T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n b\u1ecb ng\u1eaft k\u1ebft n\u1ed1i!";a.default.instance.actiontDialog.showMsgWithAction(t,"Th\u1eed l\u1ea1i",()=>{p.AuthorizationController.getInstance().autoLogin()})}break;case h.Network.DisconnectReason.KICK:{let t="T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n b\u1ecb kick ra ngo\xe0i! Vui l\xf2ng li\xean h\u1ec7 CSKH.";d.default.App.TELE_SUPPORT?a.default.instance.actiontDialog.showMsgWithAction(t,h.UserActions.toName(h.UserActions.ENUM.TELE_SUPPORT),()=>{a.default.instance.navigateByAction(h.UserActions.ENUM.TELE_SUPPORT)}):a.default.instance.alertDialog.showMsg(t)}break;case h.Network.DisconnectReason.BAN:{let t="T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n b\u1ecb kh\xf3a! Vui l\xf2ng li\xean h\u1ec7 CSKH.";d.default.App.TELE_SUPPORT?a.default.instance.actiontDialog.showMsgWithAction(t,h.UserActions.toName(h.UserActions.ENUM.TELE_SUPPORT),()=>{a.default.instance.navigateByAction(h.UserActions.ENUM.TELE_SUPPORT)}):a.default.instance.alertDialog.showMsg(t)}break;case h.Network.DisconnectReason.LOGIN:{let t="T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n \u0111\u01b0\u1ee3c \u0111\u0103ng nh\u1eadp tr\xean m\u1ed9t thi\u1ebft b\u1ecb kh\xe1c!";a.default.instance.alertDialog.showMsg(t)}}},2)}}},this),o.default.getInstance().send(new c.default.SendScribe),l.default.getInstance().send(new c.default.SendScribe);for(let t=0;t<this.panel.childrenCount;t++){let e=this.panel.children[t];e.stopAllActions(),e.active&&e.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.2,1),cc.scaleTo(.2,.9))))}}show(){this.panel.parent.active=!1,this.button.active=!0,this.labelTime.string="00"}hidden(){this.panel.parent.active=!1,this.button.active=!1}actButton(){this.panel.parent.active=!0,this.panel.stopAllActions(),this.panel.setScale(1,0),this.panel.runAction(cc.sequence(cc.callFunc(()=>{this.button.getComponent(cc.Sprite).enabled=!1}),cc.scaleTo(.3,1,1).easing(cc.easeBackOut())))}actHidden(){this.panel.stopAllActions(),this.panel.runAction(cc.sequence(cc.callFunc(()=>{}),cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this.button.getComponent(cc.Sprite).enabled=!0,this.panel.parent.active=!1})))}actTaiXiu(){a.default.instance.openGameTaiXiuMini(),this.actHidden()}actTaiXiuMD5(){a.default.instance.openGameTaiXiuMD5(),this.actHidden()}actMiniPoker(){a.default.instance.openGameMiniPoker(),this.actHidden()}actPokerGo(){a.default.instance.openGamePokerGo(),this.actHidden()}actCaoThap(){a.default.instance.openGameCaoThap(),this.actHidden()}actBauCua(){a.default.instance.openGameBauCua(),this.actHidden()}actChimDien(){a.default.instance.alertDialog.showMsg("Game s\u1eafp ra m\u1eaft."),this.actHidden()}actOanTuTi(){a.default.instance.openGameOanTuTi(),this.actHidden()}};n([m(cc.Label)],f.prototype,"labelTime",void 0),n([m(cc.Node)],f.prototype,"button",void 0),n([m(cc.Node)],f.prototype,"panel",void 0),n([m(cc.Node)],f.prototype,"taiNode",void 0),n([m(cc.Node)],f.prototype,"xiuNode",void 0),f=n([g],f),i.default=f,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Constants":"Constants","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.Cmd":"Network.Cmd","../../Game/src/networks/Network.InPacket":"Network.InPacket","../../Game/src/networks/TXMD5NetworkClient":"TXMD5NetworkClient","./Authorization/AuthorizationController":"AuthorizationController","./Lobby.Cmd":"Lobby.Cmd"}],CanvasResizer:[function(t,e,i){"use strict";cc._RF.push(e,"2a33dcxF+NBW6IzkrkZ/0RB","CanvasResizer");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s,requireComponent:a}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.designResolution=new cc.Size(720,1280),this.lastWitdh=0,this.lastHeight=0}onLoad(){this.canvas=this.node.getComponent(cc.Canvas),this.updateCanvas()}update(t){cc.sys.isBrowser&&this.updateCanvas()}updateCanvas(){var t=cc.view.getFrameSize();if(this.lastWitdh!==t.width||this.lastHeight!==t.height)if(this.lastWitdh=t.width,this.lastHeight=t.height,this.designResolution.width/this.designResolution.height>t.width/t.height){var e=cc.size(this.designResolution.width,this.designResolution.width*(t.height/t.width));this.canvas.designResolution=e}else e=cc.size(this.designResolution.height*(t.width/t.height),this.designResolution.height),this.canvas.designResolution=e}};n([s],c.prototype,"designResolution",void 0),c=n([o,a(cc.Canvas)],c),i.default=c,cc._RF.pop()},{}],"CardGame.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"a7c6afh+XBMeoI7bhZgC4XY","CardGame.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.CardGameCmd=void 0;const n=t("./Network.OutPacket"),o=t("./Network.InPacket"),{ccclass:s}=cc._decorator;var a;(function(t){class e{}e.LOGIN=1,e.NOTIFY_DISCONNECT=37,e.PING_PONG=50,e.TOP_SERVER=1001,e.PING_TEST=1050,e.JOIN_ROOM=3001,e.RECONNECT_GAME_ROOM=3002,e.MONEY_BET_CONFIG=3003,e.JOIN_ROOM_FAIL=3004,e.NO_HU_VANG=3007,e.CHAT_ROOM=3008,e.THONG_TIN_HU_VANG=3009,e.REQUEST_INFO_MOI_CHOI=3010,e.MOI_CHOI=3011,e.ACCEPT_MOI_CHOI=3012,e.CREATE_ROOM=3013,e.GET_LIST_ROOM=3014,e.JOIN_GAME_ROOM_BY_ID=3015,e.FIND_ROOM_LOBBY=3016,e.GET_XOCDIA_CONFIG=3017,e.CREATE_ROOM_FAIL=3018,e.CHEAT_CARDS=3115,e.HOLD=3116,t.Code=e,t.CardDefination=class{constructor(t){this.id=null==t?void 0:t.ID,this.name=null==t?void 0:t.name,this.number=null==t?void 0:t.SO,this.suit=null==t?void 0:t.CHAT}},t.SendMoneyBetConfig=class extends n.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.MONEY_BET_CONFIG),this.packHeader(),this.updateSize()}},t.ResMoneyBetConfig=class extends o.default{constructor(t){super(t),this.list=[],this.rules=[];let e=this.getShort();for(var i=0;i<e;i++){var n={maxUserPerRoom:this.getInt(),moneyType:this.getByte(),moneyBet:this.getLong(),moneyRequire:this.getLong(),nPersion:this.getInt()};this.list.push(n)}for(i=0;i<e;i++)this.rules.push(this.getByte())}},t.SendGetListRoom=class extends n.default{constructor(t,i,n,o,s,a){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.GET_LIST_ROOM),this.packHeader(),this.putByte(t),this.putByte(i),this.putByte(n),this.putByte(o),this.putByte(s),this.putByte(a),this.updateSize()}},t.SendJoinRoom=class extends n.default{constructor(t,i,n,o){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.JOIN_ROOM),this.packHeader(),this.putInt(t),this.putInt(i),this.putLong(n),this.putInt(o),this.updateSize()}},t.ReceivedJoinRoomFail=class extends o.default{constructor(t){super(t),this.error=0,this.error=this.getError()}}})(a=i.CardGameCmd||(i.CardGameCmd={})),i.default=a,cc._RF.pop()},{"./Network.InPacket":"Network.InPacket","./Network.OutPacket":"Network.OutPacket"}],CardGameNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"bb718MKBZ5MFrCvutTYb1Eh","CardGameNetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./Network.NetworkClient"),o=t("./Network.NetworkListener"),s=t("../common/Configs"),a=t("./Network.InPacket"),c=t("./Network.Cmd");class r extends n.default{constructor(){super(),this.listeners=new Array,this.isLogin=!1,this.autoReconnectCount=0,this.onLogined=null,this.isUseWSS=s.default.App.USE_WSS,this.isAutoReconnect=s.default.App.AUTO_RECONNECT}static getInstance(){return null==this.instance&&(this.instance=new r),this.instance}checkConnect(t){this.onLogined=t,null!=this.ws&&this.ws.readyState==WebSocket.CONNECTING||(this.isConnected()?this.isLogin&&null!=this.onLogined&&this.onLogined():this._connect())}_connect(){cc.log("start connect card game")}onOpen(t){super.onOpen(t),this.send(new c.default.SendLogin(s.default.Login.Nickname,s.default.Login.AccessToken)),this.autoReconnectCount=0}onMessage(t){for(var e=new Uint8Array(t.data),i=0;i<this.listeners.length;i++){var n=this.listeners[i];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(i,1),i--)}switch(new a.default(e).getCmdId()){case c.default.Code.LOGIN:this.isLogin=!0,null!=this.onLogined&&(this.onLogined(),this.onLogined=null)}}addListener(t,e){this.listeners.push(new o.default(e,t))}send(t){if(0!==t._cmdId){for(var e=new Int8Array(t._length),i=0;i<t._length;i++)e[i]=t._data[i];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)}}sendCheck(t){this.checkConnect(()=>{this.send(t)})}setLoginCallback(t){this.onLogined=t,this.autoReconnectCount++}setForceClose(t){this.isForceClose=t,this.autoReconnectCount=0}shouldAutoReconnect(){return this.autoReconnectCount<5}}i.default=r,cc._RF.pop()},{"../common/Configs":"Configs","./Network.Cmd":"Network.Cmd","./Network.InPacket":"Network.InPacket","./Network.NetworkClient":"Network.NetworkClient","./Network.NetworkListener":"Network.NetworkListener"}],CardGameUtils:[function(t,e,i){"use strict";cc._RF.push(e,"aaee5+Mi4xE4pZz1s/+rF3h","CardGameUtils"),Object.defineProperty(i,"__esModule",{value:!0}),i.CardGameUtils=void 0;class n{static getCardCheatIdsFromChat(t,e){let i=e.toLowerCase().replace(/\s/g,"");if(!i.includes("##cheat")||!t)return null;let n=[],o="",s=i.replace("##cheat","");for(let a=0;a<s.length;a++){let e=s[a];o+=e,this.SUITS.indexOf(e)>-1&&(cc.log(o),n.push(t.find(t=>t.name.toLowerCase()===o).id),o="")}return cc.log(n),n}}i.CardGameUtils=n,n.SUITS=["c","r","t","b"],i.default=n,cc._RF.pop()},{}],"Common.AudioManager":[function(t,e,i){"use strict";cc._RF.push(e,"dd656ny0zpC6q+M7t8zKmpW","Common.AudioManager");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("./BroadcastReceiver"),a=t("./SPUtils"),{ccclass:c,property:r}=cc._decorator;let l=n=class extends cc.Component{constructor(){super(...arguments),this.audioSource=null,this.isOnMusic=!0,this.isOnSound=!0}static getInstance(){if(null==this.instance){let t=new cc.Node("AudioManager");this.instance=t.addComponent(n),this.instance.audioSource=t.addComponent(cc.AudioSource),cc.game.addPersistRootNode(t)}return this.instance}start(){s.default.register(s.default.ON_AUDIO_CHANGED,t=>{this.isOnMusic=a.default.getMusicVolumn()>0,this.isOnSound=a.default.getSoundVolumn()>0,this.audioSource.mute=!(this.isOnMusic&&a.default.getMusicVolumnByGame(t)>0)},this),this.isOnMusic=a.default.getMusicVolumn()>0,this.isOnSound=a.default.getSoundVolumn()>0,this.audioSource.mute=!this.isOnMusic}playEffect(t,e=1){null!=t?this.isOnSound&&e>0&&cc.audioEngine.play(t,!1,e):cc.warn("AudioManager playEffect audioClip is null")}playBackgroundMusic(t,e=!0,i=1){null!=t?(this.audioSource.stop(),this.audioSource.clip=t,this.audioSource.volume=i,this.audioSource.mute=!this.isOnMusic,this.audioSource.loop=e,this.audioSource.play()):cc.warn("AudioManager playBackgroundMusic audioClip is null")}playEffectByGame(t,e,i=1){if(null!=e)return a.default.getSoundVolumnByGame(t)>0&&i>0?cc.audioEngine.play(e,!1,i):void 0;cc.warn("AudioManager playEffect audioClip is null")}playBackgroundMusicByGame(t,e,i=!0,n=1){null!=e?(this.audioSource.stop(),this.audioSource.clip=e,this.audioSource.volume=n,this.audioSource.mute=!(a.default.getMusicVolumnByGame(t)>0),this.audioSource.loop=i,this.audioSource.play()):cc.warn("AudioManager playBackgroundMusic audioClip is null")}pauseAudio(){this.audioSource.stop(),cc.audioEngine.pauseMusic(),cc.audioEngine.pauseAllEffects()}resumeAudio(){this.audioSource.play(),cc.audioEngine.resumeMusic(),cc.audioEngine.resumeAllEffects()}};l.instance=null,l=n=o([c],l),i.default=l,cc._RF.pop()},{"./BroadcastReceiver":"BroadcastReceiver","./SPUtils":"SPUtils"}],Configs:[function(t,e,i){"use strict";cc._RF.push(e,"a8b148ShhNECLRCMfJf61sO","Configs"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./SPUtils"),o=t("./Http"),s=t("../../../Lobby/src/Vippoint/VippointDTO"),a=t("./BroadcastReceiver"),c=t("./ErrorLogger");var r;if(function(t){class e{static initialize(e,i=null){try{t.Login.AccessToken=e.accessToken,t.Login.SessionKey=e.sessionKey,t.Login.Username=e.username,t.Login.IsLogin=!0;let o=base64.decode(t.Login.SessionKey);cc.log(o);let s=JSON.parse(o);t.Login.Nickname=s.nickname,t.Login.Avatar=s.avatar,t.Login.Coin=s.vinTotal,t.Login.LuckyWheel=s.luckyRotate,t.Login.IpAddress=s.ipAddress,t.Login.CreateTime=s.createTime,t.Login.Birthday=s.birthday,t.Login.isSocialLogin=!1,t.Login.socialToken="",t.Login.socialSource=i,t.Login.telegramAccessToken=base64.encode(t.Login.AccessToken+"|"+Number(t.Login.isEnableLoginOtpSetting))}catch(n){c.ErrorLogger.sendLogError("Error","Login initialize "+i,JSON.stringify(e)+"\n"+JSON.stringify(n.stack))}}static clear(t=!1){this.UserId=0,this.Username="",this.Password="",this.Nickname="",this.Avatar="",this.Coin=0,this.IsLogin=!1,this.IsAutoLogin=!t,this.AccessToken="",this.SessionKey="",this.CreateTime="",this.Birthday="",this.IpAddress="",this.MailCount=0,this.CoinFish=0,this.UserIdFish=0,this.UsernameFish="",this.PasswordFish="",this.BitcoinToken="",t||n.default.setUserPass(""),this.isSocialLogin=!1,this.socialToken="",this.socialSource=""}static getVipPointInfo(e=null){o.default.get(t.App.API,{c:126},(i,n)=>{null==i&&n.success&&(cc.log(n),t.Login.VipPoint=s.VippointDTO.toVippointDTO(n),a.default.send(a.default.USER_VIP_UPDATED),e&&e())})}static getCurrentVipPoint(){return t.Login.VipPoint.vippoint}static getCurrentVipPointName(){return t.Login.VipPoint.vippointRankDetail[t.Login.VipPoint.currentVippointRank].name}static getCurrentVipPointRank(){return t.Login.VipPoint.currentVippointRank}static getMinVipPointCurrentRank(){return t.Login.VipPoint.vippointRankDetail[t.Login.VipPoint.currentVippointRank].minVippoint}static haveVipPointNextRank(){return!(t.Login.VipPoint.currentVippointRank>=t.Login.VipPoint.vippointRankDetail.length-1)}static getMinVipPointNextRank(){return t.Login.VipPoint.vippointRankDetail[t.Login.VipPoint.currentVippointRank+1].minVippoint}static getVipPointNameNextRank(){return t.Login.VipPoint.vippointRankDetail[t.Login.VipPoint.currentVippointRank+1].name}static getX3DepositInfo(){o.default.get(t.App.API,{c:6013,nn:t.Login.Nickname},(e,i)=>{null==e&&i.is_success&&(cc.log(i),t.Login.X3Deposit=i.data,a.default.send(a.default.X3_DEPOSIT))})}}e.UserId=0,e.Username="",e.Password="",e.Nickname="",e.Avatar="",e.Coin=0,e.IsLogin=!1,e.IsAutoLogin=!0,e.AccessToken="",e.SessionKey="",e.LuckyWheel=0,e.CreateTime="",e.Birthday="",e.IpAddress="",e.VipPoint=null,e.MailCount=0,e.isEnableLoginOtpSetting=!0,e.telegramAccessToken="",e.CoinFish=0,e.UserIdFish=0,e.UsernameFish="",e.PasswordFish="",e.FishConfigs=null,e.BitcoinToken="",e.isSocialLogin=!1,e.socialToken="",e.socialSource="",e.X3Deposit=null,t.Login=e;class i{static getServerConfig(){o.default.get(t.App.API,{c:130},(t,e)=>{null==t&&(i.SERVER_CONFIG.ratioNapThe=e.ratio_nap_the,i.SERVER_CONFIG.ratioTransfer=e.ratio_chuyen,i.SERVER_CONFIG.ratioTransferDL=e.ratio_transfer_dl_1)})}static getPlatformName(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?"ad":cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS?"ios":"web"}static getLinkFanpage(){return this.FANPAGE}static getLinkTelegram(){return this.TELE_BOT}static getLinkTelegramGroup(){return this.TELE_GROUP}}i.BASE_URL="banhtest.top",i.USE_WSS=!0,i.AUTO_RECONNECT=!0,i.HOT_UPDATE_URL="",i.SUBPACKAGE_URL="",i.DOMAIN="https://"+i.BASE_URL+"/web/",i.API="https://portal."+i.BASE_URL+"/api",i.API_BK="https://portal.nhanhtaylen.top/api",i.MONEY_TYPE=1,i.LINK_DOWNLOAD="",i.LINK_EVENT="",i.LINK_SUPPORT="",i.GAME_INFO_URL="https://3h172fkule.execute-api.ap-southeast-1.amazonaws.com/info/",i.HOST_MINIGAME={host:"minigame."+i.BASE_URL,port:443},i.HOST_TAI_XIU_MD5={host:"txmd5."+i.BASE_URL,port:443},i.HOST_SLOT={host:"slot."+i.BASE_URL,port:443},i.HOST_TLMN={host:"tlmn."+i.BASE_URL,port:443},i.HOST_SHOOT_FISH={host:"banca."+i.BASE_URL,port:443},i.HOST_SAM={host:"sam."+i.BASE_URL,port:443},i.HOST_XOCDIA={host:"xocdia."+i.BASE_URL,port:443},i.HOST_BACAY={host:"bacay."+i.BASE_URL,port:443},i.HOST_BAICAO={host:"baicao."+i.BASE_URL,port:443},i.HOST_POKER={host:"poker."+i.BASE_URL,port:443},i.HOST_MAUBINH={host:"binh."+i.BASE_URL,port:443},i.HOST_LIENG={host:"lieng."+i.BASE_URL,port:443},i.HOST_XIDZACH={host:"xzdzach."+i.BASE_URL,port:443},i.API_LODE="https://gameapi."+i.BASE_URL+"/game/lottery/",i.TELE_GROUP="",i.TELE_BOT="",i.TELE_OTP="",i.FANPAGE="https://facebook.com",i.CSKH_PHONE="",i.TELE_SUPPORT="",i.TELE_NEWS="",i.FB_GROUP="",i.FB_MESSENGER="",i.LANDING_PAGE="",i.SERVER_CONFIG={ratioNapThe:1,ratioTransfer:.98,ratioTransferDL:1,ratioMuaThe:1.25,ratioRutNH:1.1,listTenNhaMang:["Viettel","Vinaphone","Mobifone"],listIdNhaMang:[0,1,2,3],listMenhGiaNapThe:[1e4,2e4,5e4,1e5,2e5,5e5],listMenhGiaMuaThe:[1e4,2e4,5e4,1e5,2e5,5e5],listIdMenhGiaMuaThe:[0,1,2,3,4,5,6,7,8]},i.REWARD_TYPE={CARD:0,REWARD:1,MOMO:2,BANK:3,VIETTELPAY:4,ZALOPAY:5},i.TELCO_NAME={VTT:"Viettel",VNP:"Vinaphone",VMS:"Mobifone"},i.UPDATE_INFO={version:"2.2.8",provider:"win365"},i.BUNDLE_NAME={BACAY:"bacay",BAICAO:"baicao",BANCA:"banca",BAUCUA:"baucua",CAOTHAP:"caothap",KHOBAU:"khobau",LIENG:"lieng",LOTO:"loto",MAIN:"maingame",MAUBINH:"maubinh",MINIPOKER:"minipoker",NUDIEPVIEN:"nudiepvien",OANTUTI:"oantuti",POKER:"poker",POKERGO:"pokergo",SAM:"sam",SIEUANHHUNG:"sieuanhhung",CAYKHE:"caykhe",TAIXIU:"taixiu",TAIXIUMD5:"taixiumd5",TIENLEN:"tienlen",VUONGQUOCVIN:"vuongquocvin",XIDZACH:"xidzach",XOCDIA:"xocdia"},i.NATIVE_FUNC={},i.NATIVE_CLASS={},i.CLIENT_NAME="WIN365",i.RICH_MAN=1e5,i.PRIVATE_KEY="yr75Uf6vwaxR",t.App=i;class r{static getGameName(t){switch(t){case this.MiniPoker:return"MiniPoker";case this.TaiXiu:return"T\xe0i x\u1ec9u";case this.BauCua:return"B\u1ea7u cua";case this.CaoThap:return"Cao th\u1ea5p";case this.PokerGo:return"Mario";case this.VQMM:return"VQMM";case this.Sam:return"S\xe2m";case this.MauBinh:return"M\u1eadu binh";case this.TLMN:return"TLMN";case this.TaLa:return"T\xe1 l\u1ea3";case this.Lieng:return"Li\xeang";case this.XiTo:return"X\xec t\u1ed1";case this.XocXoc:return"X\xf3c x\xf3c";case this.BaiCao:return"B\xe0i c\xe0o";case this.Poker:return"Poker";case this.Bentley:return"Bentley";case this.RangeRover:return"Range Rover";case this.MayBach:return"May Bach";case this.RollsRoyce:return"Rolls Royce"}return"Unknow"}}r.MiniPoker=1,r.TaiXiu=2,r.BauCua=3,r.CaoThap=4,r.PokerGo=5,r.VQMM=7,r.Sam=8,r.BaCay=9,r.MauBinh=10,r.TLMN=11,r.TaLa=12,r.Lieng=13,r.XiTo=14,r.XocXoc=15,r.BaiCao=16,r.Poker=17,r.Bentley=19,r.RangeRover=20,r.MayBach=21,r.RollsRoyce=22,r.TaiXiuMD5=31,t.GameId=r,t.Payment=class{static getBankCode(t){switch(t){case"ABB":return"ABB";case"ACB":return"ACB";case"AGR":case"VBA":return"AGR";case"BAB":return"BAB";case"BIDV":return"BIDV";case"BVB":return"BVB";case"CIMB":return"CIMB";case"COB":return"COB";case"DAB":case"DOB":return"DAB";case"EIB":return"EIB";case"GPB":return"GPB";case"HDB":return"HDB";case"HLB":return"HLB";case"IBK":return"IBK";case"IDB":case"IVB":return"IDB";case"KLB":return"KLB";case"LVPB":case"LPB":return"LVPB";case"MBB":case"MB":return"MBB";case"MSB":return"MSB";case"NAB":return"NAB";case"NCB":return"NCB";case"OCB":return"OCB";case"OJB":return"OJB";case"PB":case"PBVN":return"PB";case"PGB":return"PGB";case"PVB":case"PVCB":return"PVB";case"SAB":case"SEAB":return"SAB";case"SCB":return"SCB";case"SGB":return"SGB";case"SHB":return"SHB";case"SHIB":case"SHBVN":return"SHIB";case"STB":return"STB";case"TCB":return"TCB";case"TPB":return"TPB";case"UOB":return"UOB";case"VAB":return"VAB";case"VB":return"VB";case"VCB":return"VCB";case"VCCB":return"VCCB";case"VIB":return"VIB";case"VPB":return"VPB";case"VRB":return"VRB";case"VTB":case"CTG":return"VTB";case"WRB":case"WVN":return"WRB"}return""}static getTelcoProvider(t){switch(t){case"MOBI":case"MOBIFONE":case"VMS":return"VMS";case"VINA":case"VINAPHONE":case"VNP":return"VNP";case"VT":case"VTT":case"VTE":case"VIETTEL":return"VTT";default:return t.toUpperCase()}}}}(r||(r={})),i.default=r,cc.sys.isNative&&cc.sys.os!==cc.sys.OS_OSX&&cc.sys.os!==cc.sys.OS_WINDOWS)r.App.UPDATE_INFO=JSON.parse(cc.sys.localStorage.getItem("version"));else{let t=window.location.pathname.match(/\d+/);t&&(r.App.UPDATE_INFO.version=t[0].split("").join("."))}cc._RF.pop()},{"../../../Lobby/src/Vippoint/VippointDTO":"VippointDTO","./BroadcastReceiver":"BroadcastReceiver","./ErrorLogger":"ErrorLogger","./Http":"Http","./SPUtils":"SPUtils"}],ConfirmDialog:[function(t,e,i){"use strict";cc._RF.push(e,"d2ba1FAR7NFVK4X4KMOiW6z","ConfirmDialog");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./Dialog"),{ccclass:s,property:a}=cc._decorator;let c=class extends o.default{constructor(){super(...arguments),this.lblMessage=null,this.lblDone=null,this.lblConfirm=null,this.onDismissed=null,this.onConfirmClicked=null,this.isClickdConfirm=!1}show1(t){this.show4(t)}show2(t,e){this.show4(t,null,null,e)}show3(t,e,i){this.show4(t,null,e,i)}show4(t,e,i,n){this.isClickdConfirm=!1,this.lblDone.string=e||"H\u1ee7y",this.lblConfirm.string=i||"\u0110\u1ed3ng \xfd",this.onDismissed=n,this.lblMessage.string=t,super.show()}actConfirm(){this.isClickdConfirm=!0,this.dismiss()}_onShowed(){o.default.prototype._onShowed.call(this)}_onDismissed(){o.default.prototype._onDismissed.call(this),"function"==typeof this.onDismissed&&this.onDismissed(this.isClickdConfirm)}};n([a(cc.Label)],c.prototype,"lblMessage",void 0),n([a(cc.Label)],c.prototype,"lblDone",void 0),n([a(cc.Label)],c.prototype,"lblConfirm",void 0),c=n([s],c),i.default=c,cc._RF.pop()},{"./Dialog":"Dialog"}],Constants:[function(t,e,i){"use strict";cc._RF.push(e,"26f0bOVnwZFNKtmYzYyUOx2","Constants"),Object.defineProperty(i,"__esModule",{value:!0}),i.ChatChannel=i.Network=i.UserActions=void 0,function(t){let e;function i(t){return e[e[t]]}(function(t){t.RECHARGE="RECHARGE",t.RECHARGE_CARD="RECHARGE_CARD",t.RECHARGE_MOMO="RECHARGE_MOMO",t.RECHARGE_BANK="RECHARGE_BANK",t.PLAY_GAME="PLAY_GAME",t.PLAY_GAME_TAI_XIU="PLAY_GAME_TAI_XIU",t.PLAY_GAME_MINI_POKER="PLAY_GAME_MINI_POKER",t.PLAY_GAME_BAU_CUA="PLAY_GAME_BAU_CUA",t.PLAY_GAME_CAO_THAP="PLAY_GAME_CAO_THAP",t.PLAY_GAME_POKE_GO="PLAY_GAME_POKE_GO",t.PLAY_GAME_VQMM="PLAY_GAME_VQMM",t.GET_REWARD="GET_REWARD",t.VERIFY_TELEGRAM="VERIFY_TELEGRAM",t.OPEN_VIPPOINT="OPEN_VIPPOINT",t.UP_LEVEL_VIPPOINT="UP_LEVEL_VIPPOINT",t.TELE_SUPPORT="TELE_SUPPORT",t.FB_MESSENGER="FB_MESSENGER"})(e=t.ENUM||(t.ENUM={})),t.toEnum=i,t.toEnums=function(t){let e=[];return t.forEach(t=>e.push(i(t))),e},t.toName=function(e){switch(e){case t.ENUM.RECHARGE:case t.ENUM.RECHARGE_CARD:case t.ENUM.RECHARGE_MOMO:case t.ENUM.RECHARGE_BANK:return"N\u1ea1p ngay";case t.ENUM.PLAY_GAME:case t.ENUM.PLAY_GAME_TAI_XIU:case t.ENUM.PLAY_GAME_MINI_POKER:case t.ENUM.PLAY_GAME_BAU_CUA:case t.ENUM.PLAY_GAME_CAO_THAP:case t.ENUM.PLAY_GAME_POKE_GO:case t.ENUM.PLAY_GAME_VQMM:return"Ch\u01a1i ngay";case t.ENUM.GET_REWARD:return"Nh\u1eadn";case t.ENUM.VERIFY_TELEGRAM:return"K\xedch ho\u1ea1t ngay";case t.ENUM.OPEN_VIPPOINT:return"L\xean VIP";case t.ENUM.TELE_SUPPORT:case t.ENUM.FB_MESSENGER:return"Li\xean h\u1ec7 ngay";default:return""}}}(i.UserActions||(i.UserActions={})),function(t){let e;(function(t){t[t.IDLE=0]="IDLE",t[t.KICK=1]="KICK",t[t.BAN=2]="BAN",t[t.LOGIN=3]="LOGIN",t[t.UNKNOWN=4]="UNKNOWN",t[t.HANDSHAKE=5]="HANDSHAKE"})(e=t.DisconnectReason||(t.DisconnectReason={}))}(i.Network||(i.Network={})),function(t){t.TAIXIU="TAIXIU",t.TAI_XIU_MD5="TAI_XIU_MD5",t.XOC_DIA="XOC_DIA",t.BAU_CUA="BAU_CUA",t.LO_DE="LO_DE"}(i.ChatChannel||(i.ChatChannel={})),cc._RF.pop()},{}],"CustomUI.Dropdown":[function(t,e,i){"use strict";cc._RF.push(e,"eaff29gewpDKbOiuEOJSkNB","CustomUI.Dropdown");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../common/BroadcastReceiver"),{ccclass:s,property:a,requireComponent:c}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.label=null,this.template=null,this.options=[],this.value=0,this.blocker=null,this.dropdownList=null,this.animating=!1}start(){o.default.send(o.default.SET_SOUND,this.node),this.template.active=!1;let t=this.findParent();this.node.on("click",()=>{if(this.animating)return;this.animating=!0,this.blocker=this.addBlocker(t),this.dropdownList=cc.instantiate(this.template),this.dropdownList.getComponent(cc.Widget).enabled=!1,this.dropdownList.parent=this.blocker,this.dropdownList.name="dropdownList";let e=this.template.convertToWorldSpaceAR(this.template.position);this.dropdownList.position=this.dropdownList.convertToNodeSpaceAR(e),this.dropdownList.active=!0,this.dropdownList.scaleY=0,this.dropdownList.opacity=0,this.dropdownList.stopAllActions(),this.dropdownList.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1,1).easing(cc.easeBackOut()),cc.fadeIn(.15)),cc.callFunc(()=>{this.animating=!1})));let i=this.dropdownList.getComponent(cc.ScrollView).content,n=i.children[0];n.active=!1;for(let t=0;t<this.options.length;t++){let e=cc.instantiate(n);if(e.parent=n.parent,e.active=!0,e.getComponentInChildren(cc.Label).string=this.options[t],e.getComponentInChildren(cc.Sprite).node.active=t==this.value,e.on("click",()=>{this.setValue(t),null!=this.onValueChanged&&this.onValueChanged(t),this.dismiss()}),t==this.value){let e=i.position;e.y=n.height*t-n.height/2,i.position=e}}})}onEnable(){null!=this.blocker&&this.blocker.destroy()}onDestroy(){null!=this.blocker&&this.blocker.destroy()}addBlocker(t){let e=new cc.Node("blocker");e.parent=t,e.addComponent(cc.Button),e.zIndex=3e4;let i=e.addComponent(cc.Widget);return i.isAlignTop=!0,i.top=0,i.isAlignBottom=!0,i.bottom=0,i.isAlignLeft=!0,i.left=0,i.isAlignRight=!0,i.right=0,e.on("click",()=>{this.dismiss()}),cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LOADING,()=>{this.onDestroy()}),e}findParent(t=null){return null==t&&(t=this.node),null==t.parent||t.parent instanceof cc.Scene?t:this.findParent(t.parent)}dismiss(){this.animating||(this.animating=!0,this.dropdownList.stopAllActions(),this.dropdownList.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1,0).easing(cc.easeBackIn()),cc.sequence(cc.delayTime(.15),cc.fadeOut(.15))),cc.callFunc(()=>{this.blocker.destroy(),this.blocker=null,this.animating=!1}))))}setOptions(t){this.options=t}setValue(t){this.value=t,this.label.string=this.options[this.value]}getValue(){return this.value}getLabelString(){return this.label.string}setOnValueChange(t){this.onValueChanged=t}clickValue(t){this.onValueChanged&&this.onValueChanged(t)}};n([a(cc.Label)],r.prototype,"label",void 0),n([a(cc.Node)],r.prototype,"template",void 0),r=n([s,c(cc.Button)],r),i.default=r,cc._RF.pop()},{"../common/BroadcastReceiver":"BroadcastReceiver"}],"CustomUI.PageView":[function(t,e,i){"use strict";cc._RF.push(e,"b8b03D8L7xOCZOmmU9GVkvc","CustomUI.PageView");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.autoInit=!0,this.infinity=!0,this.cancelInnerEvents=!0,this.spacing=30,this.moveOffset=30,this.content=null,this.items=null,this.pages=null,this.indicator=null,this.index=0,this.pageCount=0,this.left=null,this.center=null,this.right=null,this.pageItems=[],this.touchMoved=!1,this.onTouchStart=null,this.onTouchMove=null,this.onTouchEndOrCancel=null,this.onPageChanged=null}start(){this.node.on(cc.Node.EventType.TOUCH_START,()=>{this.touchMoved=!1,null!=this.onTouchStart&&this.onTouchStart()},this.node,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,t=>{if(this.cancelInnerEvents){if(this.touchMoved){let e=this.items.position;e.x+=t.getDeltaX();let i=this.content.width+this.spacing;this.infinity||(this.items.position.x>0&&0==this.index?i=this.moveOffset:this.items.position.x<0&&this.index==this.pageCount-1&&(i=this.moveOffset)),Math.abs(e.x)>i&&(e.x=e.x>0?i:-i),this.items.position=e,null!=this.onTouchMove&&this.onTouchMove()}if(t.touch.getLocation().sub(t.touch.getStartLocation()).mag()>7&&!this.touchMoved&&t.target!=this.node){var e=new cc.Event.EventTouch(t.getTouches(),t.bubbles);e.type=cc.Node.EventType.TOUCH_CANCEL,e.touch=t.touch,t.target.dispatchEvent(e),this.touchMoved=!0}}},this.node,!0);let t=()=>{if(this.touchMoved){if(Math.abs(this.items.position.x)>this.content.width/4){let t=this.index,e=cc.Vec2.ZERO;this.infinity?this.items.position.x<0?(++t>this.pageCount-1&&(t=0),e=cc.v2(-this.content.width-this.spacing,0)):(--t<0&&(t=this.pageCount-1),e=cc.v2(this.content.width+this.spacing,0)):(this.items.position.x<0&&t<this.pageItems.length-1?t++:this.items.position.x>0&&t>=1&&t--,e=this.index>t?cc.v2(this.content.width+this.spacing,0):cc.v2(-this.content.width-this.spacing,0)),this.index!=t?(this.items.stopAllActions(),this.items.runAction(cc.sequence(cc.moveTo((this.content.width+this.spacing-Math.abs(this.items.position.x))/(this.content.width+this.spacing)*.5,e),cc.callFunc(()=>{this.setPageIndex(t),null!=this.onPageChanged&&this.onPageChanged()})))):(this.items.stopAllActions(),this.items.runAction(cc.sequence(cc.moveTo(.3,cc.Vec2.ZERO),cc.callFunc(()=>{}))))}else this.items.stopAllActions(),this.items.runAction(cc.sequence(cc.moveTo(.3,cc.Vec2.ZERO),cc.callFunc(()=>{})));null!=this.onTouchEndOrCancel&&this.onTouchEndOrCancel()}};this.node.on(cc.Node.EventType.TOUCH_END,t,this.node,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,t,this.node,!0);for(let e=0;e<this.pages.childrenCount;e++)this.pages.children[e].active=!1;this.left=new cc.Node,this.left.parent=this.items,this.left.setPosition(cc.v2(-this.content.width-this.spacing,0)),this.left.active=!0,this.center=new cc.Node,this.center.parent=this.items,this.center.setPosition(cc.v2(0,0)),this.center.active=!0,this.right=new cc.Node,this.right.parent=this.items,this.right.setPosition(cc.v2(this.content.width+this.spacing,0)),this.right.active=!0,this.autoInit&&this.init()}init(){for(let t=1;t<this.indicator.childrenCount;t++)this.indicator.children[t].destroy(),t--;this.indicator.children[0].active=!1,this.pageCount=this.pages.childrenCount;for(let t=0;t<this.pages.childrenCount;t++){this.pageItems.push(this.pages.children[t]);let e=cc.instantiate(this.indicator.children[0]);e.parent=this.indicator,e.active=!0}this.setPageIndex(0)}scrollToIndex(t,e=!1){if(this.index!=t){let i=cc.Vec2.ZERO;i=this.infinity?e?cc.v2(this.content.width+this.spacing,0):cc.v2(-this.content.width-this.spacing,0):this.index>t?cc.v2(this.content.width+this.spacing,0):cc.v2(-this.content.width-this.spacing,0),this.items.stopAllActions(),this.infinity||1==Math.abs(this.index-t)||Math.abs(this.index-t)!=this.pageCount-1?this.items.runAction(cc.sequence(cc.moveTo(.5,i),cc.callFunc(()=>{this.setPageIndex(t)}))):this.setPageIndex(t)}}scrollToNextIndex(){let t=this.index+1;t>=this.pageCount&&(t=0),this.scrollToIndex(t,!1)}setPageIndex(t){this.index=t;for(let e=0;e<this.pageItems.length;e++)this.pageItems[e].active=!1;if(this.infinity){let t=this.index-1;t<0&&(t=this.pageCount-1),this.pageItems[t].active=!0,this.pageItems[t].parent=this.left,t=this.index,this.pageItems[t].active=!0,this.pageItems[t].parent=this.center,(t=this.index+1)>this.pageCount-1&&(t=0),this.pageItems[t].active=!0,this.pageItems[t].parent=this.right}else this.pageCount>=3&&this.index>=1&&(this.pageItems[this.index-1].active=!0,this.pageItems[this.index-1].parent=this.left),this.pageCount>=this.index+1&&(this.pageItems[this.index].active=!0,this.pageItems[this.index].parent=this.center),this.pageCount>=2&&this.index<this.pageCount-1&&(this.pageItems[this.index+1].active=!0,this.pageItems[this.index+1].parent=this.right);this.items.setPosition(cc.Vec2.ZERO),this.updateIndicator()}updateIndicator(){for(let t=1;t<this.indicator.childrenCount;t++){let e=this.indicator.children[t];e.parent=this.indicator;let i=t-1==this.index;e.getChildByName("active").active=i,e.getChildByName("inactive").active=!i}}};n([s],a.prototype,"autoInit",void 0),n([s],a.prototype,"infinity",void 0),n([s],a.prototype,"cancelInnerEvents",void 0),n([s],a.prototype,"spacing",void 0),n([s],a.prototype,"moveOffset",void 0),n([s(cc.Node)],a.prototype,"content",void 0),n([s(cc.Node)],a.prototype,"items",void 0),n([s(cc.Node)],a.prototype,"pages",void 0),n([s(cc.Node)],a.prototype,"indicator",void 0),a=n([o],a),i.default=a,cc._RF.pop()},{}],"CustomUI.SliderBet":[function(t,e,i){"use strict";cc._RF.push(e,"b662fry271EGIid1dGpRvQ3","CustomUI.SliderBet");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../common/Utils"),{ccclass:s,property:a}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.slider=null,this.label_bet=null,this.sp_bkg=null,this.current_raise=0,this.min_raise=0,this.max_raise=0,this.onChangeValue=null,this.list_step=[]}start(){this.sp_bkg.type=cc.Sprite.Type.FILLED}initValue(t,e,i,n=null){this.node.active=!0,this.node.parent.getChildByName("btnAll-In")&&(this.node.parent.getChildByName("btnAll-In").active=!0),this.min_raise=t,this.max_raise=i,this.onChangeValue=n,this.current_raise=t,this.slider.progress=0,this.sp_bkg.fillRange=0,this.list_step=[t];let o=t;for(;o<i;){if((o+=e)>=i){this.list_step.push(i);break}this.list_step.push(o)}this.slider.enabled=t<=i,this.slider.handle.interactable=t<=i,this.setCurrentRaise()}setCurrentRaise(){this.label_bet.string=o.default.formatMoney(this.current_raise)}onValueChange(t,e){let i=this.list_step.length,n=1/i;for(let o=0;o<i;o++){let t=n*(o+1);if(this.slider.progress<=t){this.current_raise=this.list_step[o];break}}this.sp_bkg.fillRange=this.slider.progress,this.current_raise<=this.min_raise&&(this.current_raise=this.min_raise),this.current_raise>=this.max_raise&&(this.current_raise=this.max_raise),this.setCurrentRaise(),this.onChangeValue&&this.onChangeValue(this.current_raise)}};n([a(cc.Slider)],c.prototype,"slider",void 0),n([a(cc.Label)],c.prototype,"label_bet",void 0),n([a(cc.Sprite)],c.prototype,"sp_bkg",void 0),c=n([s],c),i.default=c,cc._RF.pop()},{"../common/Utils":"Utils"}],Dialog:[function(t,e,i){"use strict";cc._RF.push(e,"89938zvBc1CAaNyePwL3b4R","Dialog");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./BroadcastReceiver"),s=t("./Common.AudioManager"),a=t("./Configs"),c=t("./ErrorLogger"),{ccclass:r,property:l}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.isAnimated=!0,this.bg=null,this.soundClosePopup=null,this.container=null,this.showScale=1.1,this.startScale=.7}show(){this.bg||(this.bg=this.node.getChildByName("Bg")),this.container||(this.container=this.node.getChildByName("Container")),this.soundClosePopup||cc.assetManager.getBundle(a.default.App.BUNDLE_NAME.MAIN).load("/Lobby/res/sounds/close_popup",cc.AudioClip,(t,e)=>{t&&c.ErrorLogger.sendLogError("Bundle load resource","Dialog close sound",JSON.stringify(t)),this.soundClosePopup=e}),this.node.active=!0,this.isAnimated=!1,this.bg.stopAllActions(),this.bg.opacity=0,this.bg.runAction(cc.fadeTo(.2,128)),this.container.stopAllActions(),this.container.opacity=0,this.container.scale=this.startScale,this.container.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,this.showScale),cc.fadeIn(.2)),cc.scaleTo(.1,1),cc.callFunc(this._onShowed.bind(this))))}start(){o.default.send(o.default.SET_SOUND,this.node)}dismiss(){this.bg||(this.bg=this.node.getChildByName("Bg")),this.container||(this.container=this.node.getChildByName("Container")),this.isAnimated=!1,this.bg.stopAllActions(),this.bg.opacity=128,this.bg.runAction(cc.fadeOut(.2)),this.container.stopAllActions(),this.container.opacity=255,this.container.scale=1,this.container.runAction(cc.sequence(cc.scaleTo(.1,this.showScale),cc.spawn(cc.scaleTo(.2,this.startScale),cc.fadeOut(.2)),cc.callFunc(this._onDismissed.bind(this))))}_onShowed(){this.isAnimated=!0}_onDismissed(){s.default.getInstance().playEffect(this.soundClosePopup),this.node.active=!1,this.isAnimated=!0}};u=n([r],u),i.default=u,cc._RF.pop()},{"./BroadcastReceiver":"BroadcastReceiver","./Common.AudioManager":"Common.AudioManager","./Configs":"Configs","./ErrorLogger":"ErrorLogger"}],DropdownItem:[function(t,e,i){"use strict";cc._RF.push(e,"b6228P9oQ9IlaVaTiX2V4va","DropdownItem");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./BroadcastReceiver"),{ccclass:s,property:a,requireComponent:c}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.checkMark=null,this.label=null,this.idx=-1}start(){o.default.send(o.default.SET_SOUND,this.node)}};n([a(cc.Node)],r.prototype,"checkMark",void 0),n([a(cc.Label)],r.prototype,"label",void 0),r=n([s,c(cc.Button)],r),i.default=r,cc._RF.pop()},{"./BroadcastReceiver":"BroadcastReceiver"}],Dropdown:[function(t,e,i){"use strict";cc._RF.push(e,"ff7afpi+zdIq7WTcDLQtlsb","Dropdown");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./BroadcastReceiver"),s=t("./DropdownItem"),{ccclass:a,property:c,requireComponent:r}=cc._decorator;let l=class extends cc.Component{constructor(){super(...arguments),this.label=null,this.itemTemplate=null,this.value=-1,this.data=[],this.items=[]}start(){o.default.send(o.default.SET_SOUND,this.node),this.itemTemplate.node.active=!1}show(){this.node.active=!0,this.node.opacity=0,this.node.runAction(cc.fadeIn(.2));for(var t=0;t<this.items.length;t++)this.items[t].checkMark.active=this.items[t].idx==this.value}setOptions(t=[]){this.data=t;for(var e=this.itemTemplate.node.parent.children,i=0;i<e.length;i++)e[i].active=!1;for(this.items=[],i=0;i<t.length;i++){var n=this.getItem();n.idx=i,n.label.string=t[i],n.checkMark.active=i==this.value,this.items.push(n)}}dismiss(){var t=this;this.node.runAction(cc.sequence(cc.fadeOut(.2),cc.callFunc(()=>{t.node.active=!1})))}setOnValueChange(t){this.onValueChange=t}setValue(t){t<this.data.length?(this.value=t,this.label.string=this.data[this.value]):this.value=0}getValue(){return this.value}getItem(){for(var t=null,e=this.itemTemplate.node.parent.children,i=0;i<e.length;i++)e[i].active||e[i]==this.itemTemplate.node||(t=e[i]);return null==t&&((t=cc.instantiate(this.itemTemplate.node)).parent=this.itemTemplate.node.parent,t.on("click",t=>{this.value=t.getComponent(s.default).idx,this.label.string=this.data[this.value],this.onValueChange&&this.onValueChange(this.value),this.dismiss()},this)),t.active=!0,t.zIndex=this.getLastZIndex(),t.getComponent(s.default)}getLastZIndex(){for(var t=0,e=this.itemTemplate.node.parent.children,i=1;i<e.length;i++)e[i].active&&t++;return t}};n([c(cc.Label)],l.prototype,"label",void 0),n([c(s.default)],l.prototype,"itemTemplate",void 0),l=n([a,r(cc.Button)],l),i.default=l,cc._RF.pop()},{"./BroadcastReceiver":"BroadcastReceiver","./DropdownItem":"DropdownItem"}],ErrorLogger:[function(t,e,i){"use strict";cc._RF.push(e,"6daa9/z5S1MSLVF+F5eNo6Q","ErrorLogger"),Object.defineProperty(i,"__esModule",{value:!0}),i.ErrorLogger=void 0;const n=t("./Configs"),o=t("./Http");cc.sys.isNative?window.__errorHandler=function(t,e,i,n){console.log(t,e,i,n),s.sendLogError("Error","Js error",i&&n?i+"\n"+n:i||"unknown error")}:window.onerror=function(t,e,i,n,o){console.log(t,e,i,n,o),s.sendLogError("Error","Js error",o&&o.stack?o.stack:o||"unknown error")};class s{static sendLogError(t,e,i){cc.sys.isNative;var s={c:6017,name:t,service:e,message:i,scene:cc.director.getScene().name||"unknown",os:cc.sys.os==cc.sys.OS_IOS?"ios":cc.sys.os==cc.sys.OS_ANDROID?"android":"web",osVersion:cc.sys.osVersion,client:n.default.App.UPDATE_INFO.provider||"unknown",version:n.default.App.UPDATE_INFO.version||"unknown",nn:n.default.Login.Nickname,requireLogin:!1};o.default.get(n.default.App.API,s,(t,e)=>{null==t?console.log(e):console.log("sendLogError",t)})}}i.ErrorLogger=s,cc._RF.pop()},{"./Configs":"Configs","./Http":"Http"}],Http:[function(t,e,i){"use strict";cc._RF.push(e,"2cd84ecMG9CWL/aifwSEhhY","Http");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("./Configs"),{ccclass:a,property:c}=cc._decorator;let r=n=class{static post(t,e,i){(e=e||{}).pf=s.default.App.getPlatformName(),e.at||(e.at=s.default.Login.AccessToken);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var t=null,e=null;try{t=JSON.parse(n.responseText)}catch(o){e=o}i(e,t)}else i(n.status,null)},n.open("POST",t,!0),n.setRequestHeader("Content-type","application/json; charset=UTF-8"),n.send(JSON.stringify(e))}static get(t,e,i){var o=new XMLHttpRequest,a="";if((e=e||{}).hasOwnProperty("cp")||1==e.c||(e.cp="H"),e.cl="H",cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?e.pf="ad":cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS?e.pf="ios":cc.sys.isNative?e.pf="other":e.pf="web",e.hasOwnProperty("requireLogin")||(e.requireLogin=!0),!e.at&&e.requireLogin){if(!s.default.Login.AccessToken)return;e.at=s.default.Login.AccessToken}delete e.requireLogin,null!==e&&(a=n.serialize(e)),o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){var e=null,n=null;try{e=JSON.parse(o.responseText)}catch(l){n=l}i(n,e)}else t!==s.default.App.API?i(o.status,null):(c=new XMLHttpRequest,r=s.default.App.API_BK,c.onreadystatechange=function(){if(4===c.readyState)if(200===c.status){var t=null,e=null;try{t=JSON.parse(c.responseText)}catch(l){e=l}i(e,t)}else i(c.status,null)},c.open("GET",r+"?"+a,!0),c.send());var c,r},o.open("GET",t+"?"+a,!0),o.send()}static serialize(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e.join("&")}};r=n=o([a],r),i.default=r,cc._RF.pop()},{"./Configs":"Configs"}],ItemRoom:[function(t,e,i){"use strict";cc._RF.push(e,"d5a03ey+QJIgbAT183oAXfT","ItemRoom");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.RoomItemInfo=void 0;const o=t("../../common/BroadcastReceiver"),s=t("../../common/Utils");i.RoomItemInfo=class{constructor(t,e,i,n,o){this.id=t,this.moneyBet=e,this.requiredMoney=i,this.userCount=n,this.maxUserPerRoom=o}};const{ccclass:a,property:c}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.labelBet=null,this.labelBetMin=null,this.labelNumPlayers=null,this.labelMaxPlayers=null,this.labelStatus=null,this.background=null,this.backgroundFrames=[],this.roomInfo=null}onLoad(){o.default.send(o.default.SET_SOUND,this.node)}initItem(t){this.roomInfo=t,this.labelBet.string=s.default.formatNumber(t.moneyBet),this.labelBetMin.string=s.default.formatNumber(t.requiredMoney),this.labelNumPlayers.string=t.userCount.toString(),this.labelMaxPlayers.string=t.maxUserPerRoom.toString(),this.background.spriteFrame=this.backgroundFrames[2===t.maxUserPerRoom?0:1]}getRoomInfo(){return this.roomInfo}isFull(){return this.roomInfo.userCount===this.roomInfo.maxUserPerRoom}};n([c(cc.Label)],r.prototype,"labelBet",void 0),n([c(cc.Label)],r.prototype,"labelBetMin",void 0),n([c(cc.Label)],r.prototype,"labelNumPlayers",void 0),n([c(cc.Label)],r.prototype,"labelMaxPlayers",void 0),n([c(cc.Label)],r.prototype,"labelStatus",void 0),n([c(cc.Sprite)],r.prototype,"background",void 0),n([c([cc.SpriteFrame])],r.prototype,"backgroundFrames",void 0),r=n([a],r),i.default=r,cc._RF.pop()},{"../../common/BroadcastReceiver":"BroadcastReceiver","../../common/Utils":"Utils"}],"Language.Label":[function(t,e,i){"use strict";cc._RF.push(e,"47fcfrB4HZCEqoTqVimESy9","Language.Label");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s,requireComponent:a}=cc._decorator,c=t("./Language.LanguageManager");var r;(function(t){let e=class extends cc.Component{constructor(){super(...arguments),this.id=""}start(){c.default.instance.addListener(()=>{this.updateText()},this),this.updateText()}updateText(){let t=c.default.instance.getString(this.id);null!=t&&0==t.trim().length||(this.getComponent(cc.Label).string=t)}};n([s],e.prototype,"id",void 0),e=n([o,a(cc.Label)],e),t.Label=e})(r||(r={})),i.default=r.Label,cc._RF.pop()},{"./Language.LanguageManager":"Language.LanguageManager"}],"Language.LanguageManager":[function(t,e,i){"use strict";cc._RF.push(e,"9056c078b9CooLKGcYr/Ajy","Language.LanguageManager");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;var a;(function(t){var e;let i=e=class extends cc.Component{constructor(){super(...arguments),this.json=null,this.languageCode="vi",this.texts={},this.listeners=[]}onLoad(){e.instance=this,this.texts=JSON.parse(this.json.text)}setLanguage(t){this.languageCode=t;for(var e=0;e<this.listeners.length;e++){var i=this.listeners[e];i.target&&i.target instanceof Object&&i.target.node?i.callback(t):(this.listeners.splice(e,1),e--)}}addListener(t,e){this.listeners.push({callback:t,target:e})}getString(t){return this.texts.hasOwnProperty(t)&&this.texts[t].hasOwnProperty(this.languageCode)?this.texts[t][this.languageCode]:t}};i.instance=null,n([s(cc.TextAsset)],i.prototype,"json",void 0),i=e=n([o],i),t.LanguageMananger=i})(a||(a={})),i.default=a.LanguageMananger,cc._RF.pop()},{}],"Language.Sprite":[function(t,e,i){"use strict";cc._RF.push(e,"d12e0gfdzJKtpZd8H4K9/SU","Language.Sprite");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s,requireComponent:a}=cc._decorator,c=t("./Language.LanguageManager");var r;(function(t){let e=class extends cc.Component{constructor(){super(...arguments),this.sprFrameVi=null,this.sprFrameEn=null}start(){c.default.instance.addListener(()=>{this.updateSpriteFrame()},this),this.updateSpriteFrame()}updateSpriteFrame(){switch(c.default.instance.languageCode){case"en":this.getComponent(cc.Sprite).spriteFrame=this.sprFrameEn;break;default:this.getComponent(cc.Sprite).spriteFrame=this.sprFrameVi}}};n([s(cc.SpriteFrame)],e.prototype,"sprFrameVi",void 0),n([s(cc.SpriteFrame)],e.prototype,"sprFrameEn",void 0),e=n([o,a(cc.Sprite)],e),t.Sprite=e})(r||(r={})),i.default=r.Sprite,cc._RF.pop()},{"./Language.LanguageManager":"Language.LanguageManager"}],"Lobby.Banner":[function(t,e,i){"use strict";cc._RF.push(e,"0e13fYP/XVNipyuLH/W7XkG","Lobby.Banner");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/common/App"),s=t("../../Game/src/common/BroadcastReceiver"),a=t("../../Game/src/common/Configs"),c=t("./Lobby.PopupMission"),{ccclass:r,property:l}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.bannerPageView=null,this.bannerItem=null}start(){s.default.send(s.default.SET_SOUND,this.node),cc.assetManager.getBundle(a.default.App.BUNDLE_NAME.MAIN).loadDir("Lobby/res/sprites/banners",cc.SpriteFrame,(t,e)=>{t?cc.log(JSON.stringify(t)):(e.sort().forEach((t,e)=>{let i=cc.instantiate(this.bannerItem);switch(i.getComponent(cc.Sprite).spriteFrame=t,this.bannerPageView.addPage(i),e){case 0:i.on(cc.Node.EventType.TOUCH_END,()=>{this.showMission()});break;case 1:i.on(cc.Node.EventType.TOUCH_END,()=>{this.openLandingPage()})}}),this.schedule(()=>{let t=this.bannerPageView.getCurrentPageIndex();++t>=this.bannerPageView.getPages().length&&(t=0),this.bannerPageView.scrollToPage(t,.5)},5))})}showMission(){var t;a.default.Login.IsLogin?(c.default.createAndShow(o.default.instance.popups,"x3"),null===(t=o.default.instance.taiXiu)||void 0===t||t.dismiss()):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}openLandingPage(){a.default.App.LANDING_PAGE&&cc.sys.openURL(a.default.App.LANDING_PAGE)}};n([l(cc.PageView)],u.prototype,"bannerPageView",void 0),n([l(cc.Node)],u.prototype,"bannerItem",void 0),u=n([r],u),i.default=u,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","./Lobby.PopupMission":"Lobby.PopupMission"}],"Lobby.ButtonListJackpot":[function(t,e,i){"use strict";cc._RF.push(e,"8e015r6u01LKrMj/o90xAyW","Lobby.ButtonListJackpot");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Tween"),a=t("../../Game/src/common/BroadcastReceiver"),{ccclass:c,property:r}=cc._decorator;let l=n=class extends cc.Component{constructor(){super(...arguments),this.button=null,this.container=null,this.togglesBlind=null,this.labelsSlot1=null,this.labelsSlot2=null,this.labelsSlot3=null,this.labelsSlot4=null,this.labelsSlot5=null,this.labelsSlot6=null,this.labelsMiniPoker=null,this.labelsCaoThap=null,this.labelsSlot3x3=null,this.buttonClicked=!0,this.buttonMoved=cc.Vec2.ZERO,this.animate=!1,this.selectedIdx=0}start(){a.default.send(a.default.SET_SOUND,this.node),this.container.active=!1,this.button.on(cc.Node.EventType.TOUCH_START,()=>{this.buttonClicked=!0,this.buttonMoved=cc.Vec2.ZERO},this),this.button.on(cc.Node.EventType.TOUCH_MOVE,t=>{if(this.buttonMoved=this.buttonMoved.add(t.getDelta()),this.buttonClicked){if(Math.abs(this.buttonMoved.x)>30||Math.abs(this.buttonMoved.y)>30){let t=this.node.position;t.x+=this.buttonMoved.x,t.y+=this.buttonMoved.y,this.node.position=t,this.buttonClicked=!1}}else{let e=this.node.position;e.x+=t.getDeltaX(),e.y+=t.getDeltaY(),this.node.position=e}},this),this.button.on(cc.Node.EventType.TOUCH_END,()=>{this.buttonClicked&&this.toggleShowPanel()},this);for(let t=0;t<this.togglesBlind.toggleItems.length;t++)this.togglesBlind.toggleItems[t].node.on("toggle",()=>{this.selectedIdx=t,this.updateJackpot(.3)})}toggleShowPanel(){this.animate||(this.animate=!0,this.container.active?(this.container.stopAllActions(),this.container.runAction(cc.sequence(cc.scaleTo(.2,1,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this.container.active=!1,this.animate=!1})))):(this.container.stopAllActions(),this.container.active=!0,this.container.scaleY=0,this.container.runAction(cc.sequence(cc.scaleTo(.2,1).easing(cc.easeBackOut()),cc.callFunc(()=>{this.animate=!1})))))}setData(t){n.lastRes=t,this.updateJackpot()}updateJackpot(t=4){if(null!=n.lastRes){var e=JSON.parse(n.lastRes.pots);switch(this.selectedIdx){case 0:s.default.numberTo(this.labelsSlot2,e.ndv[100].p,t),s.default.numberTo(this.labelsSlot4,e.vqv[100].p,t),s.default.numberTo(this.labelsSlot5,e.kb[100].p,t),s.default.numberTo(this.labelsSlot6,e.sah[100].p,t),s.default.numberTo(this.labelsCaoThap,e.caothap[1e3].p,t),s.default.numberTo(this.labelsSlot3x3,e.football[100].p,t);break;case 1:s.default.numberTo(this.labelsSlot2,e.ndv[1e3].p,t),s.default.numberTo(this.labelsSlot4,e.vqv[1e3].p,t),s.default.numberTo(this.labelsSlot5,e.kb[1e3].p,t),s.default.numberTo(this.labelsSlot6,e.sah[1e3].p,t),s.default.numberTo(this.labelsCaoThap,e.caothap[1e4].p,t),s.default.numberTo(this.labelsSlot3x3,e.football[1e3].p,t);break;case 2:s.default.numberTo(this.labelsSlot2,e.ndv[1e4].p,t),s.default.numberTo(this.labelsSlot4,e.vqv[1e4].p,t),s.default.numberTo(this.labelsSlot5,e.kb[1e4].p,t),s.default.numberTo(this.labelsSlot6,e.sah[1e4].p,t),s.default.numberTo(this.labelsCaoThap,e.caothap[5e4].p,t),s.default.numberTo(this.labelsSlot3x3,e.football[1e4].p,t)}}}};l.lastRes=null,o([r(cc.Node)],l.prototype,"button",void 0),o([r(cc.Node)],l.prototype,"container",void 0),o([r(cc.ToggleContainer)],l.prototype,"togglesBlind",void 0),o([r(cc.Label)],l.prototype,"labelsSlot1",void 0),o([r(cc.Label)],l.prototype,"labelsSlot2",void 0),o([r(cc.Label)],l.prototype,"labelsSlot3",void 0),o([r(cc.Label)],l.prototype,"labelsSlot4",void 0),o([r(cc.Label)],l.prototype,"labelsSlot5",void 0),o([r(cc.Label)],l.prototype,"labelsSlot6",void 0),o([r(cc.Label)],l.prototype,"labelsMiniPoker",void 0),o([r(cc.Label)],l.prototype,"labelsCaoThap",void 0),o([r(cc.Label)],l.prototype,"labelsSlot3x3",void 0),l=n=o([c],l),i.default=l,cc._RF.pop()},{"../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Tween":"Tween"}],"Lobby.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"0f735EbdP9I7rxnsMZMPXGY","Lobby.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;const n=t("../../Game/src/networks/Network.InPacket"),o=t("../../Game/src/networks/Network.OutPacket"),s=t("../../Game/src/common/Configs"),a=t("../../Game/src/common/Constants");var c;(function(t){class e{}e.UPDATE_TIME_BUTTON=2124,e.INSERT_GIFTCODE=20017,e.DEPOSIT_CARD=20012,e.CHECK_NICKNAME_TRANSFER=20018,e.SUBCRIBE_HALL_SLOT=10001,e.UNSUBCRIBE_HALL_SLOT=10002,e.UPDATE_JACKPOT_SLOTS=10003,e.SPIN_LUCKY_WHEEL=20042,e.GET_SECURITY_INFO=20050,e.UPDATE_USER_INFO=20002,e.GET_OTP=20220,e.SEND_OTP=20019,e.RESULT_ACTIVE_MOBILE=20026,e.RESULT_ACTIVE_NEW_MOBILE=20028,e.RESULT_CHANGE_MOBILE_ACTIVED=20027,e.ACTIVE_PHONE=20006,e.CHANGE_PHONE_NUMBER=20007,e.TRANSFER_COIN=20014,e.RESULT_TRANSFER_COIN=20034,e.SAFES=20009,e.RESULT_SAFES=20029,e.CHANGE_PASSWORD=2e4,e.RESULT_CHANGE_PASSWORD=20020,e.EXCHANGE_VIP_POINT=20001,e.RESULT_EXCHANGE_VIP_POINT=20021,e.NOTIFY_MARQUEE=20100,e.UPDATE_JACKPOTS=20101,e.SUBCRIBE_JACPORTS=20102,e.UNSUBCRIBE_JACPORTS=20103,e.GET_MONEY_USE=20051,e.BUY_CARD=20015,e.BUY_CARD_RESULT=20035,e.UPDATE_USER_MONEY=21e3,t.Code=e,t.ReceiveUpdateTimeButton=class extends n.default{constructor(t){super(t),this.remainTime=0,this.bettingState=!1,this.remainTime=this.getByte(),this.bettingState=this.getBool()}},t.ReqInsertGiftcode=class extends o.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.INSERT_GIFTCODE),this.packHeader(),this.putString(t),this.updateSize()}},t.ResInsertGiftcode=class extends n.default{constructor(t){super(t),this.error=0,this.currentMoneyVin=0,this.currentMoneyXu=0,this.moneyGiftCodeVin=0,this.moneyGiftCodeXu=0,this.error=this.getError(),this.currentMoneyVin=this.getLong(),this.currentMoneyXu=this.getLong(),this.moneyGiftCodeVin=this.getLong(),this.moneyGiftCodeXu=this.getLong()}},t.ReqDepositCard=class extends o.default{constructor(t,i,n,o){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.DEPOSIT_CARD),this.packHeader(),this.putByte(t),this.putString(i),this.putString(n),this.putString(o),this.updateSize()}},t.ResDepositCard=class extends n.default{constructor(t){super(t),this.error=0,this.currentMoney=0,this.timeFail=0,this.numFail=0,this.error=this.getError(),this.currentMoney=this.getLong(),this.timeFail=this.getLong(),this.numFail=this.getInt()}},t.ReqCheckNicknameTransfer=class extends o.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CHECK_NICKNAME_TRANSFER),this.packHeader(),this.putString(t),this.updateSize()}},t.ResCheckNicknameTransfer=class extends n.default{constructor(t){super(t),this.error=0,this.type=0,this.fee=0,this.error=this.getError(),this.type=this.getByte(),this.fee=this.getByte()}},t.ReqSpinLuckyWheel=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SPIN_LUCKY_WHEEL),this.packHeader(),this.updateSize()}},t.ResSpinLuckyWheel=class extends n.default{constructor(t){super(t),this.error=0,this.prizeVin="",this.prizeXu="",this.prizeSlot="",this.remainCount=0,this.currentMoneyVin=0,this.currentMoneyXu=0,this.error=this.getError(),this.prizeVin=this.getString(),this.prizeXu=this.getString(),this.prizeSlot=this.getString(),this.remainCount=this.getShort(),this.currentMoneyVin=this.getLong(),this.currentMoneyXu=this.getLong()}},t.ReqGetSecurityInfo=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.GET_SECURITY_INFO),this.packHeader(),this.updateSize()}},t.ResGetSecurityInfo=class extends n.default{constructor(t){super(t),this.error=0,this.username="",this.cmt="",this.email="",this.mobile="",this.mobileSecure=0,this.emailSecure=0,this.appSecure=0,this.loginSecure=0,this.moneyLoginOtp=0,this.moneyUse=0,this.safe=0,this.configGame="",this.error=this.getError(),this.username=this.getString(),this.cmt=this.getString(),this.email=this.getString(),this.mobile=this.getString(),this.mobileSecure=this.getByte(),this.emailSecure=this.getByte(),this.appSecure=this.getByte(),this.loginSecure=this.getByte(),this.moneyLoginOtp=this.getLong(),this.moneyUse=this.getLong(),this.safe=this.getLong(),this.configGame=this.getString()}},t.ReqUpdateUserInfo=class extends o.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.UPDATE_USER_INFO),this.packHeader(),this.putString(""),this.putString(""),this.putString(t),this.updateSize()}},t.ResUpdateUserInfo=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ReqGetOTP=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.GET_OTP),this.packHeader(),this.updateSize()}},t.ResGetOTP=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ReqSendOTP=class extends o.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SEND_OTP),this.packHeader(),this.putString(t),this.putByte(i),this.updateSize()}},t.ResSendOTP=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ResResultActiveMobie=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ResResultActiveNewMobie=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ReqChangePhoneNumber=class extends o.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CHANGE_PHONE_NUMBER),this.packHeader(),this.putString(t),this.updateSize()}},t.ResChangePhoneNumber=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ReqActivePhone=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.ACTIVE_PHONE),this.packHeader(),this.updateSize()}},t.ResActivePhone=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ReqTransferCoin=class extends o.default{constructor(t,i,n,o){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.TRANSFER_COIN),this.packHeader(),this.putString(t),this.putLong(i),this.putString(unescape(encodeURIComponent(n))),this.putString(o),this.updateSize()}},t.ResTransferCoin=class extends n.default{constructor(t){super(t),this.error=0,this.moneyUse=0,this.desc="",this.actions=[],this.error=this.getError(),this.moneyUse=this.getLong(),this.desc=this.getString();let e=this.getString();if(e){let t=JSON.parse(e);t.hasOwnProperty("object")&&Array.isArray(t.object)&&(this.actions=a.UserActions.toEnums(t.object))}}},t.ResResultTransferCoin=class extends n.default{constructor(t){super(t),this.error=0,this.moneyUse=0,this.currentMoney=0,this.error=this.getError(),this.moneyUse=this.getLong(),this.currentMoney=this.getLong()}},t.ReqSafes=class extends o.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SAFES),this.packHeader(),this.putByte(i),this.putLong(t),this.updateSize()}},t.ResSafes=class extends n.default{constructor(t){super(t),this.error=0,this.moneyUse=0,this.safe=0,this.error=this.getError(),this.moneyUse=this.getLong(),this.safe=this.getLong()}},t.ResResultSafes=class extends n.default{constructor(t){super(t),this.error=0,this.moneyUse=0,this.safe=0,this.currentMoney=0,this.error=this.getError(),this.moneyUse=this.getLong(),this.safe=this.getLong(),this.currentMoney=this.getLong()}},t.ReqChangePassword=class extends o.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CHANGE_PASSWORD),this.packHeader(),this.putString(md5(t)),this.putString(md5(i)),this.updateSize()}},t.ResChangePassword=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ResResultChangePassword=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ReqExchangeVipPoint=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.EXCHANGE_VIP_POINT),this.packHeader(),this.updateSize()}},t.ResExchangeVipPoint=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ResResultExchangeVipPoint=class extends n.default{constructor(t){super(t),this.error=0,this.currentMoney=0,this.moneyAdd=0,this.error=this.getError(),this.currentMoney=this.getLong(),this.moneyAdd=this.getLong()}},t.ResNotifyMarquee=class extends n.default{constructor(t){super(t),this.message="",this.message=this.getString()}},t.ReqSubcribeJackpots=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SUBCRIBE_JACPORTS),this.packHeader(),this.updateSize()}},t.ReqUnSubcribeJackpots=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.UNSUBCRIBE_JACPORTS),this.packHeader(),this.updateSize()}},t.ResUpdateJackpots=class extends n.default{constructor(t){super(t),this.miniPoker100=0,this.miniPoker1000=0,this.miniPoker10000=0,this.pokeGo100=0,this.pokeGo1000=0,this.pokeGo10000=0,this.khoBau100=0,this.khoBau1000=0,this.khoBau10000=0,this.NDV100=0,this.NDV1000=0,this.NDV10000=0,this.Avengers100=0,this.Avengers1000=0,this.Avengers10000=0,this.Vqv100=0,this.Vqv1000=0,this.Vqv10000=0,this.fish100=0,this.fish1000=0,this.miniPoker100=this.getLong(),this.miniPoker1000=this.getLong(),this.miniPoker10000=this.getLong(),this.pokeGo100=this.getLong(),this.pokeGo1000=this.getLong(),this.pokeGo10000=this.getLong(),this.khoBau100=this.getLong(),this.khoBau1000=this.getLong(),this.khoBau10000=this.getLong(),this.NDV100=this.getLong(),this.NDV1000=this.getLong(),this.NDV10000=this.getLong(),this.Avengers100=this.getLong(),this.Avengers1000=this.getLong(),this.Avengers10000=this.getLong(),this.Vqv100=this.getLong(),this.Vqv1000=this.getLong(),this.Vqv10000=this.getLong(),this.fish100=this.getLong(),this.fish1000=this.getLong()}},t.ReqGetMoneyUse=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.GET_MONEY_USE),this.packHeader(),this.updateSize()}},t.ResGetMoneyUse=class extends n.default{constructor(t){super(t),this.moneyUse=0,this.moneyUse=this.getLong()}},t.ReqSubcribeHallSlot=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.SUBCRIBE_HALL_SLOT),this.packHeader(),this.updateSize()}},t.ReqUnSubcribeHallSlot=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.UNSUBCRIBE_HALL_SLOT),this.packHeader(),this.updateSize()}},t.ResUpdateJackpotSlots=class extends n.default{constructor(t){super(t),this.pots="",this.pots=this.getString()}},t.ReqBuyCard=class extends o.default{constructor(t,i,n){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.BUY_CARD),this.packHeader(),this.putByte(t),this.putByte(i),this.putByte(n),this.updateSize()}},t.ResBuyCard=class extends n.default{constructor(t){super(t),this.error=0,this.error=this.getError()}},t.ResBuyCardResult=class extends n.default{constructor(t){super(t),this.error=0,this.currentMoney=0,this.softpin="",this.error=this.getError(),this.currentMoney=this.getLong(),this.softpin=this.getString()}},t.ResUpdateUserMoney=class extends n.default{constructor(t){super(t),this.error=0,this.desc=this.getString(),this.nickName=this.getString(),this.changeMoney=this.getLong(),this.totalMoney=this.getLong(),this.showPopup=this.getBool()}};class i{}i.SCRIBE=2e3,i.UPDATE_TIME=2112,i.DICES_RESULT=2113,t.TxCode=i,t.SendScribe=class extends o.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(i.SCRIBE),this.packHeader(),this.putShort(s.default.GameId.TaiXiuMD5),this.putShort(s.default.App.MONEY_TYPE),this.updateSize()}},t.ReceiveUpdateTime=class extends n.default{constructor(t){super(t),this.remainTime=0,this.bettingState=!1,this.potTai=0,this.potXiu=0,this.numBetTai=0,this.numBetXiu=0,this.remainTime=this.getShort(),this.bettingState=this.getBool(),this.potTai=this.getLong(),this.potXiu=this.getLong(),this.numBetTai=this.getShort(),this.numBetXiu=this.getShort()}},t.ReceiveDicesResult=class extends n.default{constructor(t){super(t),this.result=0,this.dice1=0,this.dice2=0,this.dice3=0,this.result=this.getShort(),this.dice1=this.getShort(),this.dice2=this.getShort(),this.dice3=this.getShort()}}})(c=i.cmd||(i.cmd={})),i.default=c,cc._RF.pop()},{"../../Game/src/common/Configs":"Configs","../../Game/src/common/Constants":"Constants","../../Game/src/networks/Network.InPacket":"Network.InPacket","../../Game/src/networks/Network.OutPacket":"Network.OutPacket"}],"Lobby.DropdownBank":[function(t,e,i){"use strict";cc._RF.push(e,"5df48ZZHeZIPa7yaIqsZuxE","Lobby.DropdownBank");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/common/Configs"),s=t("../../Game/src/common/Dropdown"),a=t("../../Game/src/common/DropdownItem"),c=t("../../Game/src/common/ErrorLogger"),{ccclass:r,property:l}=cc._decorator;let u=class extends s.default{constructor(){super(...arguments),this.icon=null,this.sprBankIcons=[],this.data=[]}setOptions(t){try{this.data=t;for(var e=this.itemTemplate.node.parent.children,i=0;i<e.length;i++)e[i].active=!1;for(this.items=[],i=0;i<t.length;i++){var n=this.getItem();n.idx=i,n.label.string=t[i].bankName,n.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.sprBankIcons.find(e=>e.name===o.default.Payment.getBankCode(t[i].bankCode)),n.checkMark.active=i==this.value,this.items.push(n)}}catch(s){c.ErrorLogger.sendLogError("Object error","Dropdown bank",JSON.stringify(s.stack))}}setValue(t){this.value=t<this.data.length&&t>-1?t:-1,this.onValueChange&&this.onValueChange(this.value)}getItem(){try{for(var t=null,e=this.itemTemplate.node.parent.children,i=0;i<e.length;i++)e[i].active||e[i]==this.itemTemplate.node||(t=e[i]);return null==t&&((t=cc.instantiate(this.itemTemplate.node)).parent=this.itemTemplate.node.parent,t.on("click",t=>{this.value=t.getComponent(a.default).idx,this.label.string=this.data[this.value].bankName,this.icon.spriteFrame=this.sprBankIcons.find(t=>t.name===o.default.Payment.getBankCode(this.data[this.value].bankCode)),this.onValueChange&&this.onValueChange(this.value),this.dismiss()},this)),t.active=!0,t.zIndex=this.getLastZIndex(),t.getComponent(a.default)}catch(n){c.ErrorLogger.sendLogError("Object error","Dropdown bank",JSON.stringify(n.stack))}}};n([l(cc.Sprite)],u.prototype,"icon",void 0),n([l([cc.SpriteFrame])],u.prototype,"sprBankIcons",void 0),u=n([r],u),i.default=u,cc._RF.pop()},{"../../Game/src/common/Configs":"Configs","../../Game/src/common/Dropdown":"Dropdown","../../Game/src/common/DropdownItem":"DropdownItem","../../Game/src/common/ErrorLogger":"ErrorLogger"}],"Lobby.DropdownTelco":[function(t,e,i){"use strict";cc._RF.push(e,"1341cW2jWhL5KoF/t27xWm4","Lobby.DropdownTelco");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/common/Configs"),s=t("../../Game/src/common/Dropdown"),a=t("../../Game/src/common/DropdownItem"),c=t("../../Game/src/common/ErrorLogger"),{ccclass:r,property:l}=cc._decorator;let u=class extends s.default{constructor(){super(...arguments),this.icon=null,this.sprTelcoIcons=[],this.data=[]}setOptions(t){try{this.data=t;for(var e=this.itemTemplate.node.parent.children,i=0;i<e.length;i++)e[i].active=!1;for(this.items=[],i=0;i<t.length;i++){var n=this.getItem();n.idx=i,n.label.string=o.default.App.TELCO_NAME[t[i]],n.node.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=this.sprTelcoIcons.find(e=>e.name===t[i]),n.checkMark.active=i==this.value,this.items.push(n)}}catch(s){c.ErrorLogger.sendLogError("Object error","Dropdown telco",JSON.stringify(s.stack))}}setValue(t){this.value=t<this.data.length&&t>-1?t:-1,this.onValueChange&&this.onValueChange(this.value)}getItem(){try{for(var t=null,e=this.itemTemplate.node.parent.children,i=0;i<e.length;i++)e[i].active||e[i]==this.itemTemplate.node||(t=e[i]);return null==t&&((t=cc.instantiate(this.itemTemplate.node)).parent=this.itemTemplate.node.parent,t.on("click",t=>{this.value=t.getComponent(a.default).idx,this.label.string=o.default.App.TELCO_NAME[this.data[this.value]],this.icon.spriteFrame=this.sprTelcoIcons.find(t=>t.name===this.data[this.value]),this.onValueChange&&this.onValueChange(this.value),this.dismiss()},this)),t.active=!0,t.zIndex=this.getLastZIndex(),t.getComponent(a.default)}catch(n){c.ErrorLogger.sendLogError("Object error","Dropdown telco",JSON.stringify(n.stack))}}};n([l(cc.Sprite)],u.prototype,"icon",void 0),n([l([cc.SpriteFrame])],u.prototype,"sprTelcoIcons",void 0),u=n([r],u),i.default=u,cc._RF.pop()},{"../../Game/src/common/Configs":"Configs","../../Game/src/common/Dropdown":"Dropdown","../../Game/src/common/DropdownItem":"DropdownItem","../../Game/src/common/ErrorLogger":"ErrorLogger"}],"Lobby.ItemGame":[function(t,e,i){"use strict";cc._RF.push(e,"9e11294F1RIspsl8Pbos8PZ","Lobby.ItemGame");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.ItemGameType=void 0;const o=t("../../Game/src/common/BroadcastReceiver"),{ccclass:s,property:a}=cc._decorator;var c;(function(t){t[t.OTHER=0]="OTHER",t[t.SLOT=1]="SLOT",t[t.MINIGAME=2]="MINIGAME",t[t.CARD=3]="CARD"})(c=i.ItemGameType||(i.ItemGameType={}));let r=class extends cc.Component{constructor(){super(...arguments),this.id="",this.type=c.OTHER}start(){o.default.send(o.default.SET_SOUND,this.node)}};n([a],r.prototype,"id",void 0),n([a({type:cc.Enum(c)})],r.prototype,"type",void 0),r=n([s],r),i.default=r,cc._RF.pop()},{"../../Game/src/common/BroadcastReceiver":"BroadcastReceiver"}],"Lobby.ItemSlotGame":[function(t,e,i){"use strict";cc._RF.push(e,"055a4EkUg9Bd5lySOl45ghW","Lobby.ItemSlotGame");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./Lobby.ItemGame"),s=t("../../Game/src/common/Utils"),a=t("../../Game/src/common/Tween"),{ccclass:c,property:r}=cc._decorator;let l=class extends o.default{constructor(){super(...arguments),this.lblJackpots=[],this.fakeJackpot=!1,this.jackpot0=0,this.jackpotMax0=0,this.jackpot1=0,this.jackpotMax1=0,this.jackpot2=0,this.jackpotMax2=0,this.updateNext0=0,this.updateNext1=0,this.updateNext2=0}start(){if(this.fakeJackpot){let t=100;this.jackpot0=s.default.randomRangeInt(5e3*t,6e3*t),t=1e3,this.jackpot1=s.default.randomRangeInt(5e3*t,6e3*t),t=1e4,this.jackpot2=s.default.randomRangeInt(5e3*t,6e3*t),t=100,this.jackpotMax0=this.jackpot0+s.default.randomRangeInt(2e3*t,4e3*t),t=1e3,this.jackpotMax1=this.jackpot1+s.default.randomRangeInt(2e3*t,4e3*t),t=1e4,this.jackpotMax2=this.jackpot2+s.default.randomRangeInt(2e3*t,4e3*t),a.default.numberTo(this.lblJackpots[0],this.jackpot0,1),a.default.numberTo(this.lblJackpots[1],this.jackpot1,1),a.default.numberTo(this.lblJackpots[2],this.jackpot2,1),this.updateNext0=s.default.randomRangeInt(3,10),this.updateNext1=s.default.randomRangeInt(3,10),this.updateNext2=s.default.randomRangeInt(3,10)}}update(t){if(this.fakeJackpot){if(this.updateNext0>0&&(this.updateNext0-=t,this.updateNext0<0)){this.updateNext0=s.default.randomRangeInt(3,10);let t=100;this.jackpot0+=s.default.randomRangeInt(.5*t,.7*t),this.jackpot0>this.jackpotMax0&&(this.jackpot0=5e3*t,this.jackpotMax0=this.jackpot0+s.default.randomRangeInt(2e3*t,4e3*t)),a.default.numberTo(this.lblJackpots[0],this.jackpot0,1),this.lblJackpots[0].string=s.default.formatNumber(this.jackpot0)}if(this.updateNext1>0&&(this.updateNext1-=t,this.updateNext1<0)){this.updateNext1=s.default.randomRangeInt(3,10);let t=1e3;this.jackpot1+=s.default.randomRangeInt(5*t,7*t),this.jackpot1>this.jackpotMax1&&(this.jackpot1=5e3*t,this.jackpotMax1=this.jackpot1+s.default.randomRangeInt(2e3*t,4e3*t)),a.default.numberTo(this.lblJackpots[1],this.jackpot1,1),this.lblJackpots[1].string=s.default.formatNumber(this.jackpot1)}if(this.updateNext2>0&&(this.updateNext2-=t,this.updateNext2<0)){this.updateNext2=s.default.randomRangeInt(3,10);let t=1e4;this.jackpot2+=s.default.randomRangeInt(50*t,70*t),this.jackpot2>this.jackpotMax2&&(this.jackpot2=5e3*t,this.jackpotMax2=this.jackpot2+s.default.randomRangeInt(2e3*t,4e3*t)),a.default.numberTo(this.lblJackpots[2],this.jackpot2,1),this.lblJackpots[2].string=s.default.formatNumber(this.jackpot2)}}}};n([r([cc.Label])],l.prototype,"lblJackpots",void 0),n([r],l.prototype,"fakeJackpot",void 0),l=n([c],l),i.default=l,cc._RF.pop()},{"../../Game/src/common/Tween":"Tween","../../Game/src/common/Utils":"Utils","./Lobby.ItemGame":"Lobby.ItemGame"}],"Lobby.LobbyController":[function(t,e,i){"use strict";cc._RF.push(e,"05872A3wjpOT464qKBM+MO6","Lobby.LobbyController");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/common/App"),s=t("../../Game/src/common/Http"),a=t("../../Game/src/common/Configs"),c=t("../../Game/src/networks/MiniGameNetworkClient"),r=t("../../Game/src/networks/TXMD5NetworkClient"),l=t("../../Game/src/common/BroadcastReceiver"),u=t("../../Game/src/common/Tween"),h=t("../../Game/src/networks/SlotNetworkClient"),d=t("../../Game/src/networks/TienLenNetworkClient"),p=t("../../Game/src/networks/SamNetworkClient"),g=t("./Lobby.Cmd"),m=t("../../Game/src/networks/Network.InPacket"),f=t("./Lobby.TabsListGame"),D=t("../../Game/src/common/Utils"),b=t("./Lobby.ButtonListJackpot"),C=t("../../Game/src/networks/ShootFishNetworkClient"),y=t("../../Game/src/common/Common.AudioManager"),v=t("./Lobby.PopupCashOut"),w=t("./Lobby.PopupProfile"),A=t("./Authorization/Lobby.PopupRegister"),E=t("./Authorization/Lobby.PopupLogin"),L=t("./Lobby.PopupShop"),N=t("./Lobby.PopupSetting"),k=t("./Authorization/AuthorizationResponseData"),P=t("../../Game/src/networks/MauBinhNetworkClient"),T=t("./Lobby.PopupMailBox"),S=t("./Vippoint/Lobby.PopupVippoint"),_=t("./Lobby.PopupCustomerCare"),B=t("./LobbyResponseData/LobbyResponseData"),I=t("../../Game/src/common/Constants"),F=t("./Vippoint/Lobby.PopupVippointRankUp"),R=t("./Authorization/AuthorizationController"),O=t("../../Game/src/common/ErrorLogger"),M=t("./Lobby.PopupMission"),{ccclass:G,property:U}=cc._decorator;var x;(function(t){var e;let i=e=class extends cc.Component{constructor(){super(...arguments),this.panelNotLogin=null,this.panelLogined=null,this.bottomBar=null,this.sprAvatar=null,this.lblNickname=null,this.lblVipPoint=null,this.spriteProgressVipPoint=null,this.iconVipPoint=null,this.lblCoin=null,this.lblCoinFish=null,this.txtNotifyMarquee=null,this.buttonListJackpot=null,this.tabsListGame=null,this.clipBgm=null,this.version=null,this.tabsBottom=null,this.nodeRemindActiveTelegram=null,this.lblMailCount=null,this.lblBetTai=null,this.lblBetXiu=null,this.notiSetting=null,this.intervalMailCount=null}onLoad(){o.default.instance&&(o.default.instance.lobby=this)}start(){D.default.getGameInfo(),cc.game.clear(),cc.game.on(cc.game.EVENT_HIDE,function(){y.default.getInstance().pauseAudio()}),cc.game.on(cc.game.EVENT_SHOW,function(){y.default.getInstance().resumeAudio()}),this.version.string=a.default.App.UPDATE_INFO.version,this.lblCoin.node.parent.active=!0,this.lblCoinFish.node.parent.active=!1,R.AuthorizationController.getInstance().autoLogin(),l.default.register(l.default.USER_UPDATE_COIN,()=>{u.default.numberTo(this.lblCoin,a.default.Login.Coin,.3),u.default.numberTo(this.lblCoinFish,a.default.Login.CoinFish,.3)},this),l.default.register(l.default.USER_INFO_UPDATED,()=>{this.lblNickname.string=a.default.Login.Nickname,this.sprAvatar.spriteFrame=o.default.instance.getAvatarSpriteFrame(a.default.Login.Avatar),u.default.numberTo(this.lblCoin,a.default.Login.Coin,.3),u.default.numberTo(this.lblCoinFish,a.default.Login.CoinFish,.3)},this),l.default.register(l.default.USER_VIP_UPDATED,()=>{this.iconVipPoint.node.parent.active=!0,this.iconVipPoint.setSkin("vip"+(a.default.Login.getCurrentVipPointRank()+1)),this.lblVipPoint.string=D.default.formatMoney(a.default.Login.getCurrentVipPoint())+"/"+D.default.formatMoney(a.default.Login.getMinVipPointNextRank()),this.spriteProgressVipPoint.fillRange=(a.default.Login.getCurrentVipPoint()-a.default.Login.getMinVipPointCurrentRank())/(a.default.Login.getMinVipPointNextRank()-a.default.Login.getMinVipPointCurrentRank())},this),l.default.register(l.default.USER_LOGOUT,()=>{a.default.Login.clear(),this.panelNotLogin.active=!0,this.panelLogined.active=!1,this.bottomBar.active=!1,c.default.getInstance().close(),r.default.getInstance().close(),h.default.getInstance().close(),d.default.getInstance().close(),C.default.getInstance().close(),o.default.instance.buttonMiniGame.hidden()},this),l.default.register(l.default.USER_DISCONNECTED,()=>{this.panelNotLogin.active=!0,this.panelLogined.active=!1,this.bottomBar.active=!1,c.default.getInstance().close(),r.default.getInstance().close(),h.default.getInstance().close(),C.default.getInstance().close(),o.default.instance.buttonMiniGame.hidden()},this),l.default.register(l.default.UPDATE_MAIL_COUNT,()=>{this.lblMailCount.string=a.default.Login.MailCount.toString(),cc.Tween.stopAllByTarget(this.lblMailCount.node.parent),a.default.Login.MailCount>0?(this.lblMailCount.node.parent.active=!0,cc.tween(this.lblMailCount.node.parent).repeatForever(cc.tween().to(.5,{scale:.7}).to(.5,{scale:1})).start()):this.lblMailCount.node.parent.active=!1},this),l.default.register(l.default.X3_DEPOSIT,()=>{var t,e;if(a.default.Login.X3Deposit.length<3?(this.notiSetting.active||cc.tween(this.notiSetting).repeatForever(cc.tween().to(.5,{scale:.7}).to(.5,{scale:1}).delay(2)).start(),this.notiSetting.active=!0):(cc.Tween.stopAllByTarget(this.notiSetting),this.notiSetting.active=!1),!(null===(e=null===(t=M.default.instance)||void 0===t?void 0:t.node)||void 0===e?void 0:e.active))for(let i=0;i<a.default.Login.X3Deposit.length;i++){const t=a.default.Login.X3Deposit[i];if(t.percent>=100&&!t.receivedBonus){o.default.instance.alertDialog.show4("B\u1ea1n c\xf3 qu\xe0 t\u1eeb s\u1ef1 ki\u1ec7n N\u1ea1p \u0111\u1ea7u!","NH\u1eacN NGAY",()=>{M.default.createAndShow(o.default.instance.popups,"x3")});break}}},this);let t=()=>{this.txtNotifyMarquee.node.runAction(cc.sequence(cc.moveBy(.5,cc.v2(-60,0)),cc.callFunc(()=>{if(this.txtNotifyMarquee.node.position.x<-this.txtNotifyMarquee.node.width-50){this.txtNotifyMarquee.string=e.notifyMarquee;let t=this.txtNotifyMarquee.node.position;t.x=this.txtNotifyMarquee.node.parent.width+50,this.txtNotifyMarquee.node.position=t}t()})))},i=this.txtNotifyMarquee.node.position;i.x=this.txtNotifyMarquee.node.parent.width+50,this.txtNotifyMarquee.node.position=i,this.txtNotifyMarquee.string=e.notifyMarquee,t(),a.default.Login.IsLogin?(this.panelNotLogin.active=!1,this.panelLogined.active=!0,this.bottomBar.active=!0,l.default.send(l.default.USER_INFO_UPDATED),h.default.getInstance().sendCheck(new g.default.ReqSubcribeHallSlot),c.default.getInstance().sendCheck(new g.default.ReqGetMoneyUse),this.getMailNotRead(),a.default.Login.getVipPointInfo(),a.default.Login.getX3DepositInfo()):(this.panelNotLogin.active=!0,this.panelLogined.active=!1,this.bottomBar.active=!1,o.default.instance.buttonMiniGame.hidden(),this.tabsListGame.updateItemJackpots("nudiepvien",100*D.default.randomRangeInt(5e3,7e3),!1,1e3*D.default.randomRangeInt(5e3,7e3),!1,1e4*D.default.randomRangeInt(5e3,7e3),!1),this.tabsListGame.updateItemJackpots("khobau",100*D.default.randomRangeInt(5e3,7e3),!1,1e3*D.default.randomRangeInt(5e3,7e3),!1,1e4*D.default.randomRangeInt(5e3,7e3),!1),this.tabsListGame.updateItemJackpots("sieuanhhung",100*D.default.randomRangeInt(5e3,7e3),!1,1e3*D.default.randomRangeInt(5e3,7e3),!1,1e4*D.default.randomRangeInt(5e3,7e3),!1),this.tabsListGame.updateItemJackpots("vuongquocvin",100*D.default.randomRangeInt(5e3,7e3),!1,1e3*D.default.randomRangeInt(5e3,7e3),!1,1e4*D.default.randomRangeInt(5e3,7e3),!1),this.tabsListGame.updateItemJackpots("shootfish",100*D.default.randomRangeInt(5e3,7e3),!1,1e3*D.default.randomRangeInt(5e3,7e3),!1,1e4*D.default.randomRangeInt(5e3,7e3),!1)),c.default.getInstance().addListener(t=>{switch(new m.default(t).getCmdId()){case g.default.TxCode.UPDATE_TIME:{let e=new g.default.ReceiveUpdateTime(t);u.default.numberTo(this.lblBetTai,e.potTai,.3),u.default.numberTo(this.lblBetXiu,e.potXiu,.3)}break;case 21e3:{let e=new g.default.ResUpdateUserMoney(t);a.default.Login.Coin=e.totalMoney,l.default.send(l.default.USER_UPDATE_COIN),e.showPopup&&o.default.instance.alertDialog.showMsg("C\xf3 th\u01b0 m\u1edbi :\n"+e.desc),a.default.Login.getX3DepositInfo()}break;case g.default.Code.NOTIFY_MARQUEE:{let i=new g.default.ResNotifyMarquee(t),n=JSON.parse(i.message);e.notifyMarquee="";for(let t=0;t<n.entries.length;t++){let i=n.entries[t];e.notifyMarquee+="<color=#90ff00>("+a.default.GameId.getGameName(i.g)+")</color>",e.notifyMarquee+="<color=#ff0054> "+i.n+"</color> th\u1eafng ",e.notifyMarquee+="<color=#ffeb30>"+D.default.formatNumber(i.m)+"</color>",t<n.entries.length-1&&(e.notifyMarquee+="        ")}}break;case g.default.Code.UPDATE_JACKPOTS:new g.default.ResUpdateJackpots(t);break;case g.default.Code.GET_MONEY_USE:{let e=new g.default.ResGetMoneyUse(t);a.default.Login.Coin=e.moneyUse,l.default.send(l.default.USER_UPDATE_COIN)}}},this),this.buttonListJackpot.updateJackpot(.3),h.default.getInstance().addListener(t=>{switch(new m.default(t).getCmdId()){case g.default.Code.UPDATE_JACKPOT_SLOTS:{let e=new g.default.ResUpdateJackpotSlots(t);this.buttonListJackpot.setData(e);let i=JSON.parse(e.pots),n=i.ndv;this.tabsListGame.updateItemJackpots("nudiepvien",n[100].p,1==n[100].x2,n[1e3].p,1==n[1e3].x2,n[1e4].p,1==n[1e4].x2);let o=i.kb;this.tabsListGame.updateItemJackpots("khobau",o[100].p,1==o[100].x2,o[1e3].p,1==o[1e3].x2,o[1e4].p,1==o[1e4].x2);let s=i.sah;this.tabsListGame.updateItemJackpots("sieuanhhung",s[100].p,1==s[100].x2,s[1e3].p,1==s[1e3].x2,s[1e4].p,1==s[1e4].x2);let a=i.vqv;this.tabsListGame.updateItemJackpots("vuongquocvin",a[100].p,1==a[100].x2,a[1e3].p,1==a[1e3].x2,a[1e4].p,1==a[1e4].x2);let c=i.football;this.tabsListGame.updateItemJackpots("football",c[100].p,1==c[100].x2,c[1e3].p,1==c[1e3].x2,c[1e4].p,1==c[1e4].x2);let r=i.caothap;this.tabsListGame.updateItemJackpots("caothap",r[1e3].p,1==r[1e3].x2,r[1e4].p,1==r[1e4].x2,r[5e4].p,1==r[5e4].x2);break}}},this),C.default.getInstance().addListener((t,e)=>{switch(t){case"OnUpdateJackpot":this.tabsListGame.updateItemJackpots("shootfish",e[14],!1,e[24],!1,e[34],!1)}},this),y.default.getInstance().playBackgroundMusic(this.clipBgm),s.default.get(a.default.App.API,{c:6011,cn:a.default.App.CLIENT_NAME,requireLogin:!1},(t,e)=>{cc.log(e),o.default.instance.showLoading(!1),t||(a.default.App.FANPAGE=e.fanpage||"",a.default.App.TELE_BOT=e.telegramBotId||"",a.default.App.TELE_GROUP=e.telegramGroupId||"",a.default.App.CSKH_PHONE=e.cskh||"",a.default.App.TELE_SUPPORT=e.supportTelegramId||"",a.default.App.TELE_NEWS=e.telegramChannelId||"",a.default.App.FB_GROUP=e.facebookGroupUrl||"",a.default.App.FB_MESSENGER=e.facebookMessengerUrl||"",a.default.App.LANDING_PAGE=e.landingUrl||"")}),this.getMailNotRead(),this.unschedule(this.intervalMailCount),this.schedule(this.intervalMailCount=()=>{this.getMailNotRead()},60),l.default.send(l.default.SET_SOUND,cc.find("Canvas")),window.addEventListener("message",function(t){const e=JSON.parse(t.data);!a.default.Login.IsLogin&&e.hasOwnProperty("event")&&"auth_user"===e.event&&R.AuthorizationController.getInstance().loginTelegram(e.auth_data)})}onDestroy(){h.default.getInstance().send(new g.default.ReqUnSubcribeHallSlot)}actSetting(){N.default.createAndShow(o.default.instance.popups)}actMailBox(){a.default.Login.IsLogin?T.default.createAndShow(o.default.instance.popups):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actVippoint(){a.default.Login.IsLogin?S.default.createAndShow(o.default.instance.popups):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actEvent(t){a.default.Login.IsLogin?this.actGoToSlotNuDiepVien(t):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actDownload(){cc.sys.openURL(a.default.App.LINK_DOWNLOAD)}actFanpage(){cc.sys.openURL(a.default.App.getLinkFanpage())}actHotLine(){o.default.instance.alertDialog.showMsg("Hotline "+a.default.App.CSKH_PHONE)}actSupportOnline(){cc.sys.openURL(a.default.App.LINK_SUPPORT)}actSupport(){_.default.createAndShow(o.default.instance.popups)}actBack(){o.default.instance.confirmDialog.show3("B\u1ea1n c\xf3 mu\u1ed1n \u0111\u0103ng xu\u1ea5t kh\u1ecfi t\xe0i kho\u1ea3n?","\u0110\u0102NG XU\u1ea4T",t=>{t&&l.default.send(l.default.USER_LOGOUT)})}actSwitchCoin(){this.lblCoin.node.parent.active?(this.lblCoin.node.parent.active=!1,this.lblCoinFish.node.parent.active=!0):(this.lblCoin.node.parent.active=!0,this.lblCoinFish.node.parent.active=!1)}actGameTaiXiu(t){a.default.Login.IsLogin?o.default.instance.openGameTaiXiuMini():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameTaiXiuMD5(t){a.default.Login.IsLogin?o.default.instance.openGameTaiXiuMD5():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameBauCua(t){a.default.Login.IsLogin?o.default.instance.openGameBauCua():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameOanTuXi(t){a.default.Login.IsLogin?o.default.instance.openGameOanTuTi():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameCaoThap(t){a.default.Login.IsLogin?o.default.instance.openGameCaoThap():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGamePokerGo(t){a.default.Login.IsLogin?o.default.instance.openGamePokerGo():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameMiniPoker(t){a.default.Login.IsLogin?o.default.instance.openGameMiniPoker():o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameTaLa(){a.default.Login.IsLogin?o.default.instance.alertDialog.showMsg("S\u1eafp ra m\u1eaft."):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameCasinoLive(){a.default.Login.IsLogin?o.default.instance.alertDialog.showMsg("S\u1eafp ra m\u1eaft."):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameLoDeSieuToc(){a.default.Login.IsLogin?o.default.instance.alertDialog.showMsg("S\u1eafp ra m\u1eaft."):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGameCaDo(){a.default.Login.IsLogin?o.default.instance.alertDialog.showMsg("S\u1eafp ra m\u1eaft."):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToSlotNuDiepVien(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),h.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("nudiepvien",a.default.App.UPDATE_INFO.nudiepvien,!0,"SlotNuDiepVien")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToSlotVuongQuocVin(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),h.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("vuongquocvin",a.default.App.UPDATE_INFO.vuongquocvin,!0,"SlotVuongQuocVin")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToSlotKhoBau(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),h.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("khobau",a.default.App.UPDATE_INFO.khobau,!0,"SlotKhoBau")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToSlotSieuAnhHung(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),h.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("sieuanhhung",a.default.App.UPDATE_INFO.sieuanhhung,!0,"SlotSieuAnhHungRoom")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToSlotCayKhe(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),h.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("caykhe",a.default.App.UPDATE_INFO.caykhe,!0,"SlotCayKhe")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actDev(){a.default.Login.IsLogin?o.default.instance.alertDialog.showMsg("S\u1eafp ra m\u1eaft."):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToShootFish(t){a.default.Login.IsLogin?o.default.instance.alertDialog.showMsg("S\u1eafp ra m\u1eaft."):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGotoLoDe(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("lode",a.default.App.UPDATE_INFO.lode,!0,"LoDe"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToXocDia(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("xocdia",a.default.App.UPDATE_INFO.xocdia,!0,"XocDia"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToMauBinh(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),P.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("maubinh",a.default.App.UPDATE_INFO.maubinh,!0,"MauBinh")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actAddCoin(){L.default.createAndShow(o.default.instance.popups)}accExchange(){a.default.Login.IsLogin?v.default.createAndShow(o.default.instance.popups):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToTLMN(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),d.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("tienlen",a.default.App.UPDATE_INFO.tienlen,!0,"TienLen")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToSam(t){a.default.Login.IsLogin?(o.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),p.default.getInstance().checkConnect(()=>{o.default.instance.showLoading(!1),o.default.instance.loadSceneInBundle("sam",a.default.App.UPDATE_INFO.sam,!0,"Sam")})):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToBaCay(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("bacay",a.default.App.UPDATE_INFO.bacay,!0,"BaCay"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToBaiCao(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("baicao",a.default.App.UPDATE_INFO.baicao,!0,"BaiCao"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToLieng(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("lieng",a.default.App.UPDATE_INFO.lieng,!0,"Lieng"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToXiDach(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("xidzach",a.default.App.UPDATE_INFO.xidzach,!0,"XiDzach"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actGoToPoker(t){a.default.Login.IsLogin?o.default.instance.loadSceneInBundle("poker",a.default.App.UPDATE_INFO.poker,!0,"Poker"):o.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}getMailNotRead(){s.default.get(a.default.App.API,{c:405,nn:a.default.Login.Nickname,p:1},(t,e)=>{if(null==t){cc.log(e);try{const t=B.MailBoxDTO.toMailBoxDTO(e);if(cc.log(t),!t.success)return;a.default.Login.MailCount=t.mailNotRead,l.default.send(l.default.UPDATE_MAIL_COUNT);for(var i=0;i<t.transactions.length;i++)if(t.transactions[i].type&&"Normal"!=t.transactions[i].type&&!t.transactions[i].status){if(t.transactions[i].clientSuggestionActions.length>0){const e=t.transactions[i].clientSuggestionActions.find(t=>t.suggestionAction===I.UserActions.ENUM.UP_LEVEL_VIPPOINT);e?F.default.createAndShow(o.default.instance.popups,e.parameters.newLevel):o.default.instance.actiontDialog.showMsgWithActions(t.transactions[i].content,t.transactions[i].clientSuggestionActions.map(t=>t.suggestionAction))}else o.default.instance.alertDialog.showMsg("C\xf3 th\u01b0 m\u1edbi :\n"+e.transactions[i].content);s.default.get(a.default.App.API,{c:404,mid:e.transactions[i].mail_id},t=>{null==t&&(a.default.Login.MailCount-=1,l.default.send(l.default.UPDATE_MAIL_COUNT))});break}}catch(n){O.ErrorLogger.sendLogError("Http response","Mail box",JSON.stringify(e)+"\n"+JSON.stringify(n.stack))}}})}actProfile(){w.default.createAndShow(o.default.instance.popups)}actRegister(){A.default.createAndShow(o.default.instance.popups)}actLogin(){E.default.createAndShow(o.default.instance.popups)}loginCallback(){this.panelNotLogin.active=!1,this.panelLogined.active=!0,this.bottomBar.active=!0,this.lblMailCount.node.parent.active=!1,this.actGameTaiXiu(null),this.getMailNotRead(),this.getUserInfo(),a.default.Login.getVipPointInfo(),a.default.Login.getX3DepositInfo()}actPlayNow(){R.AuthorizationController.getInstance().loginWithDeviceId()}getUserInfo(){s.default.get(a.default.App.API,{c:6027},(t,e)=>{if(o.default.instance.showLoading(!1),t)return void o.default.instance.alertDialog.showMsg("C\xe0i \u0111\u1eb7t l\u1ed7i!");cc.log(e);let i=new k.UserInfoResponse(e);cc.log(i),i.success&&1!==i.mobileSecure&&(this.nodeRemindActiveTelegram.active=!0,cc.tween(this.nodeRemindActiveTelegram).repeatForever(cc.tween().to(.5,{scale:.8}).to(.5,{scale:1})).start(),o.default.instance.actiontDialog.showMsgWithAction("H\xe3y k\xedch ho\u1ea1t B\u1ea3o m\u1eadt \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o An to\xe0n v\xe0 nh\u1eadn \u0111\u01b0\u1ee3c Xu t\xe2n th\u1ee7 c\xf9ng nhi\u1ec1u \u01b0u \u0111\xe3i t\u1eeb game.","K\xcdCH HO\u1ea0T NGAY",()=>{o.default.instance.openTelegram()}))})}actActiveTelegram(){o.default.instance.openTelegram()}setStateAnimation(t=!1){var e;null===(e=this.tabsListGame)||void 0===e||e.setStateAnimation(t)}};i.notifyMarquee="",n([U(cc.Node)],i.prototype,"panelNotLogin",void 0),n([U(cc.Node)],i.prototype,"panelLogined",void 0),n([U(cc.Node)],i.prototype,"bottomBar",void 0),n([U(cc.Sprite)],i.prototype,"sprAvatar",void 0),n([U(cc.Label)],i.prototype,"lblNickname",void 0),n([U(cc.Label)],i.prototype,"lblVipPoint",void 0),n([U(cc.Sprite)],i.prototype,"spriteProgressVipPoint",void 0),n([U(sp.Skeleton)],i.prototype,"iconVipPoint",void 0),n([U(cc.Label)],i.prototype,"lblCoin",void 0),n([U(cc.Label)],i.prototype,"lblCoinFish",void 0),n([U(cc.RichText)],i.prototype,"txtNotifyMarquee",void 0),n([U(b.default)],i.prototype,"buttonListJackpot",void 0),n([U(f.default)],i.prototype,"tabsListGame",void 0),n([U({type:cc.AudioClip})],i.prototype,"clipBgm",void 0),n([U(cc.Label)],i.prototype,"version",void 0),n([U(cc.Node)],i.prototype,"tabsBottom",void 0),n([U(cc.Node)],i.prototype,"nodeRemindActiveTelegram",void 0),n([U(cc.Label)],i.prototype,"lblMailCount",void 0),n([U(cc.Label)],i.prototype,"lblBetTai",void 0),n([U(cc.Label)],i.prototype,"lblBetXiu",void 0),n([U(cc.Node)],i.prototype,"notiSetting",void 0),i=e=n([G],i),t.LobbyController=i})(x||(x={})),i.default=x.LobbyController,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Common.AudioManager":"Common.AudioManager","../../Game/src/common/Configs":"Configs","../../Game/src/common/Constants":"Constants","../../Game/src/common/ErrorLogger":"ErrorLogger","../../Game/src/common/Http":"Http","../../Game/src/common/Tween":"Tween","../../Game/src/common/Utils":"Utils","../../Game/src/networks/MauBinhNetworkClient":"MauBinhNetworkClient","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","../../Game/src/networks/SamNetworkClient":"SamNetworkClient","../../Game/src/networks/ShootFishNetworkClient":"ShootFishNetworkClient","../../Game/src/networks/SlotNetworkClient":"SlotNetworkClient","../../Game/src/networks/TXMD5NetworkClient":"TXMD5NetworkClient","../../Game/src/networks/TienLenNetworkClient":"TienLenNetworkClient","./Authorization/AuthorizationController":"AuthorizationController","./Authorization/AuthorizationResponseData":"AuthorizationResponseData","./Authorization/Lobby.PopupLogin":"Lobby.PopupLogin","./Authorization/Lobby.PopupRegister":"Lobby.PopupRegister","./Lobby.ButtonListJackpot":"Lobby.ButtonListJackpot","./Lobby.Cmd":"Lobby.Cmd","./Lobby.PopupCashOut":"Lobby.PopupCashOut","./Lobby.PopupCustomerCare":"Lobby.PopupCustomerCare","./Lobby.PopupMailBox":"Lobby.PopupMailBox","./Lobby.PopupMission":"Lobby.PopupMission","./Lobby.PopupProfile":"Lobby.PopupProfile","./Lobby.PopupSetting":"Lobby.PopupSetting","./Lobby.PopupShop":"Lobby.PopupShop","./Lobby.TabsListGame":"Lobby.TabsListGame","./LobbyResponseData/LobbyResponseData":"LobbyResponseData","./Vippoint/Lobby.PopupVippoint":"Lobby.PopupVippoint","./Vippoint/Lobby.PopupVippointRankUp":"Lobby.PopupVippointRankUp"}],"Lobby.PopupBoomTan":[function(t,e,i){"use strict";cc._RF.push(e,"c21d3ctX0pEYa4OPIMXy1vq","Lobby.PopupBoomTan");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Http"),r=t("../../Game/src/common/Configs"),{ccclass:l,property:u}=cc._decorator;let h=n=class extends s.default{constructor(){super(...arguments),this.itemTemplate=null,this.sfRanks=[],this.sfGifts=[]}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupBoomTan",(e,i)=>{if(this.initing=!1,null!=e)return void a.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show();for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1}dismiss(){super.dismiss();for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1}_onShowed(){super._onShowed(),this.loadData()}getItem(){let t=null;for(let e=0;e<this.itemTemplate.parent.childrenCount;e++){let i=this.itemTemplate.parent.children[e];if(i!=this.itemTemplate&&!i.active){t=i;break}}return null==t&&((t=cc.instantiate(this.itemTemplate)).parent=this.itemTemplate.parent),t.active=!0,t}loadData(){a.default.instance.showLoading(!0);let t=r.default.App.DOMAIN+"boom_tan.json";c.default.get(t,null,(t,e)=>{if(a.default.instance.showLoading(!1),null==t)for(let i=0;i<e.length;i++){let t=e[i],n=this.getItem(),o=this.getGiftSpriteFrame(t.gift);null!=o?(n.getChildByName("SprGift").active=!0,n.getChildByName("SprGift").getComponent(cc.Sprite).spriteFrame=o,n.getChildByName("Gift").active=!1):(n.getChildByName("Gift").active=!0,n.getChildByName("Gift").getComponent(cc.Label).string=t.gift,n.getChildByName("SprGift").active=!1),i<this.sfRanks.length?(n.getChildByName("SprRank").active=!0,n.getChildByName("SprRank").getComponent(cc.Sprite).spriteFrame=this.sfRanks[i],n.getChildByName("Rank").active=!1):(n.getChildByName("Rank").active=!0,n.getChildByName("Rank").getComponent(cc.Label).string=t.rank,n.getChildByName("SprRank").active=!1);let s=n.getChildByName("Nickname").getComponent(cc.Label),a=n.getChildByName("Score").getComponent(cc.Label);s.string=t.nickname,a.string=t.score,0==i?(s.node.color=cc.Color.BLACK.fromHEX("#ff7e00"),a.node.color=cc.Color.BLACK.fromHEX("#ff7e00")):1==i?(s.node.color=cc.Color.BLACK.fromHEX("#004eff"),a.node.color=cc.Color.BLACK.fromHEX("#004eff")):2==i?(s.node.color=cc.Color.BLACK.fromHEX("#06ff00"),a.node.color=cc.Color.BLACK.fromHEX("#06ff00")):(s.node.color=cc.Color.BLACK.fromHEX("#feca85"),a.node.color=cc.Color.BLACK.fromHEX("#feca85")),n.getChildByName("Divider").active=i<e.length-1}})}actTheLe(){let t=r.default.App.DOMAIN+"the_le_boom_tan.html";cc.sys.openURL(t)}getGiftSpriteFrame(t){for(let e=0;e<this.sfGifts.length;e++)if(this.sfGifts[e].name==t)return this.sfGifts[e];return null}};h.instance=null,h.initing=!1,o([u(cc.Node)],h.prototype,"itemTemplate",void 0),o([u([cc.SpriteFrame])],h.prototype,"sfRanks",void 0),o([u([cc.SpriteFrame])],h.prototype,"sfGifts",void 0),h=n=o([l],h),i.default=h,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http"}],"Lobby.PopupCardInfo":[function(t,e,i){"use strict";cc._RF.push(e,"fef8eBnlLxMGqPEv56Oyq7k","Lobby.PopupCardInfo");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Utils"),{ccclass:r,property:l}=cc._decorator;let u=n=class extends s.default{constructor(){super(...arguments),this.lblTelco=null,this.lblAmount=null,this.edbCode=null,this.edbSerial=null,this.code="",this.serial=""}static createAndShow(t,e,i,o,s){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupCardInfo",(c,r)=>{if(this.initing=!1,null!=c)return void a.default.instance.alertDialog.showMsg(c);let l=cc.instantiate(r);l.parent=t,this.instance=l.getComponent(n),this.instance.show(e,i,o,s)})):this.instance.show(e,i,o,s))}start(){this.edbCode.node.on("editing-did-ended",()=>{this.edbCode.string=this.code}),this.edbSerial.node.on("editing-did-ended",()=>{this.edbSerial.string=this.serial})}show(t="",e="",i="",n=""){super.show(),this.code=i,this.serial=n,this.lblTelco.string=t,this.lblAmount.string=c.default.formatNumber(Number(e)),this.edbCode.string=i,this.edbSerial.string=n}};u.instance=null,u.initing=!1,o([l(cc.Label)],u.prototype,"lblTelco",void 0),o([l(cc.Label)],u.prototype,"lblAmount",void 0),o([l(cc.EditBox)],u.prototype,"edbCode",void 0),o([l(cc.EditBox)],u.prototype,"edbSerial",void 0),u=n=o([r],u),i.default=u,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Utils":"Utils"}],"Lobby.PopupCashOut":[function(t,e,i){"use strict";cc._RF.push(e,"38d5aYoteVN0rb+NVYyNXJz","Lobby.PopupCashOut");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Http"),r=t("../../Game/src/common/Configs"),l=t("../../Game/src/networks/Network.InPacket"),u=t("../../Game/src/common/Utils"),h=t("../../Game/src/networks/MiniGameNetworkClient"),d=t("./Lobby.Cmd"),p=t("../../Game/src/common/BroadcastReceiver"),g=t("./Lobby.PopupOTP"),m=t("./Lobby.PopupCardInfo"),f=t("../../Game/src/customui/CustomUI.Dropdown"),D=t("../../Game/src/common/SPUtils"),b=t("./Lobby.DropdownBank"),C=t("./Lobby.DropdownTelco"),y=t("../../Game/src/common/ErrorLogger"),{ccclass:v,property:w}=cc._decorator;let A=class{constructor(){this.node=null,this.itemTemplate=null}start(){}reset(){for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1;this.loadData()}getItem(){let t=null;for(let e=0;e<this.itemTemplate.parent.childrenCount;e++){let i=this.itemTemplate.parent.children[e];if(i!=this.itemTemplate&&!i.active){t=i;break}}return null==t&&((t=cc.instantiate(this.itemTemplate)).parent=this.itemTemplate.parent),t.active=!0,t}loadData(){a.default.instance.showLoading(!0),c.default.get(r.default.App.API,{c:401},(t,e)=>{if(a.default.instance.showLoading(!1),null==t)if(e.success)for(let i=0;i<e.transactions.length;i++){let t=e.transactions[i],n=t.nickName,o=this.getItem();o.getChildByName("bg").opacity=i%2==0?10:0,o.getChildByName("No.").getComponent(cc.Label).string=(i+1).toString(),o.getChildByName("Fullname").getComponent(cc.Label).string=t.fullName,o.getChildByName("Nickname").getComponent(cc.Label).string=n,o.getChildByName("Phone").getComponent(cc.Label).string=t.mobile,o.getChildByName("Phone").color=cc.Color.WHITE,o.getChildByName("Phone").off("click"),t.mobile&&t.mobile.trim().length>0&&"0"!=t.mobile.trim()[0]&&(o.getChildByName("Phone").color=cc.Color.CYAN,o.getChildByName("Phone").on("click",()=>{a.default.instance.openTelegram(t.mobile)})),o.getChildByName("Address").getComponent(cc.Label).string=t.address,o.getChildByName("BtnFacebook").off("click"),o.getChildByName("BtnFacebook").on("click",()=>{cc.sys.openURL(t.facebook)}),o.getChildByName("BtnTransfer").off("click"),o.getChildByName("BtnTransfer").on("click",()=>{})}else y.ErrorLogger.sendLogError("Error","Get list agency",JSON.stringify(e));else y.ErrorLogger.sendLogError("Http request error","Get list agency",JSON.stringify(t))})}};o([w(cc.Node)],A.prototype,"node",void 0),o([w(cc.Node)],A.prototype,"itemTemplate",void 0),A=o([v("PopupCashout.TabDaiLy")],A);let E=class{constructor(){this.node=null,this.dropdownBank=null,this.btnDropdownBank=null,this.edbAccountName=null,this.edbAccountNumber=null,this.dropdownCoin=null,this.edbOTP=null,this.btnGetOTP=null,this.btnSubmit=null,this.bankValues=null,this.listBank=[]}start(){this.btnSubmit.node.on("click",()=>{this.submit()}),this.btnGetOTP.node.on("click",()=>{this.submit(!0)})}setBankData(t){try{const i=Array.from(t.values()).find(t=>t.type===r.default.App.REWARD_TYPE.BANK).items;this.getListBank(Math.max.apply(null,i.map(t=>t.money))),this.bankValues={moneys:[],golds:[],ids:[]},i.forEach(t=>{this.bankValues.moneys.push(u.default.formatNumber(t.money)),this.bankValues.golds.push(u.default.formatNumber(t.gold)),this.bankValues.ids.push(t.id)}),this.dropdownCoin.setOptions(this.bankValues.moneys)}catch(e){y.ErrorLogger.sendLogError("Data error","Bank data",JSON.stringify(t)+"\n"+JSON.stringify(e.stack))}}getListBank(t){a.default.instance.showLoading(!0);var e={c:6010,un:r.default.Login.Username,demonition:t};c.default.get(r.default.App.API,e,(t,e)=>{if(a.default.instance.showLoading(!1),null!=t)return a.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Get list banker cashout",JSON.stringify(t));cc.log(e),e.is_success?e.data&&e.data.data?this.setListBank(e.data.data):(a.default.instance.alertDialog.showMsg(e.desc),y.ErrorLogger.sendLogError("Error","Get list banker cashout: no data or empty",JSON.stringify(e))):y.ErrorLogger.sendLogError("Error","Get list banker cashout",JSON.stringify(e))})}setListBank(t){this.listBank=t,this.listBank.forEach(t=>{Object.defineProperty(t,"bankShortName",Object.getOwnPropertyDescriptor(t,"shortBankName")),delete t.shortBankName}),this.dropdownBank.setOptions(this.listBank),this.dropdownBank.setOnValueChange(t=>{t>=0?(this.btnDropdownBank.getChildByName("lblDropdown").active=!1,this.btnDropdownBank.getChildByName("currentBank").active=!0):(this.btnDropdownBank.getChildByName("lblDropdown").active=!0,this.btnDropdownBank.getChildByName("currentBank").active=!1)}),this.dropdownBank.setValue(-1),this.fillAccountBankInfo()}fillAccountBankInfo(){const t=D.default.getBankInfo();if(!t)return;const e=JSON.parse(t);for(let i=0;i<this.listBank.length;i++)this.listBank[i].bankCode===e.bankCode&&(this.dropdownBank.setValue(i),this.edbAccountName.string=e.accountName,this.edbAccountNumber.string=e.accountNumber)}reset(){this.dropdownBank.setValue(-1),this.edbAccountName.string="",this.edbAccountNumber.string="",this.dropdownCoin.setValue(-1),this.dropdownCoin.label.string="Ch\u1ecdn m\u1ec7nh gi\xe1"}submit(t=!1){let e=this.dropdownBank.getValue(),i=this.edbAccountName.string.trim(),n=this.edbAccountNumber.string.trim(),o=this.dropdownCoin.getValue();-1!=e?0!=i.length?0!=n.length?-1!=o?a.default.instance.confirmDialog.show2("T\u1ea5t c\u1ea3 c\xe1c th\xf4ng tin b\u1ea1n \u0111i\u1ec1n l\xe0 ch\xednh x\xe1c?",t=>{if(t){a.default.instance.showLoading(!0);let t={c:6e3,un:r.default.Login.Username,request_id:this.bankValues.ids[o],request_acc_name:i,request_acc_no:n,request_bank_code:this.listBank[e].bankCode};c.default.get(r.default.App.API,t,(t,o)=>{if(a.default.instance.showLoading(!1),null!=t)return a.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Bank cashout",JSON.stringify(t));if(cc.log(o),p.default.send(p.default.USER_UPDATE_COIN),o.hasOwnProperty("code"))switch(o.code){case 0:a.default.instance.alertDialog.showMsg("H\u1ec7 th\u1ed1ng \u0111\xe3 ti\u1ebfp nh\u1eadn v\xe0 x\u1eed l\xfd."),r.default.Login.Coin=o.currentMoney,p.default.send(p.default.USER_UPDATE_COIN),D.default.setBankInfo(JSON.stringify({accountNumber:n,accountName:i,bankCode:this.listBank[e].bankCode}));break;case 400:a.default.instance.alertDialog.showMsg("D\u1eef li\u1ec7u g\u1eedi l\xean kh\xf4ng h\u1ee3p l\u1ec7.");break;case-11:a.default.instance.alertDialog.showMsg("M\u1ec7nh gi\xe1 g\u1eedi l\xean kh\xf4ng h\u1ee3p l\u1ec7.");break;case-10:a.default.instance.alertDialog.showMsg("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.");break;case-99:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n c\u1ee7a b\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c m\u1edf t\xednh n\u0103ng n\xe0y, li\xean h\u1ec7 cskh \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3.");break;default:a.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau.")}else a.default.instance.alertDialog.showMsg(o.desc)})}}):a.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn m\u1ec7nh gi\xe1"):a.default.instance.alertDialog.showMsg("S\u1ed1 t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):a.default.instance.alertDialog.showMsg("T\xean t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):a.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn ng\xe2n h\xe0ng.")}};o([w(cc.Node)],E.prototype,"node",void 0),o([w(b.default)],E.prototype,"dropdownBank",void 0),o([w(cc.Node)],E.prototype,"btnDropdownBank",void 0),o([w(cc.EditBox)],E.prototype,"edbAccountName",void 0),o([w(cc.EditBox)],E.prototype,"edbAccountNumber",void 0),o([w(f.default)],E.prototype,"dropdownCoin",void 0),o([w(cc.EditBox)],E.prototype,"edbOTP",void 0),o([w(cc.Button)],E.prototype,"btnGetOTP",void 0),o([w(cc.Button)],E.prototype,"btnSubmit",void 0),E=o([v("PopupCashout.TabBank")],E);let L=class{constructor(){this.node=null,this.dropdownTelco=null,this.btnDropdownTelco=null,this.dropdownAmount=null,this.listFactor=null,this.itemRate=null,this.telcoValues=[]}setCardData(t){let e=[];this.telcoValues=[];for(let[i,n]of t){if(n.type!==r.default.App.REWARD_TYPE.CARD)continue;e.push(i);let t={moneys:[],golds:[],ids:[]};n.items.forEach(e=>{t.moneys.push(u.default.formatNumber(e.money)),t.golds.push(u.default.formatNumber(e.gold)),t.ids.push(e.id)}),this.telcoValues.push(t)}this.dropdownTelco.setOptions(e),this.dropdownTelco.setOnValueChange(t=>{if(t>=0){this.dropdownAmount.setOptions(this.telcoValues[t].moneys),this.listFactor.removeAllChildren(),this.itemRate.active=!1;let e=this.telcoValues[t];for(let t=0;t<e.moneys.length;t++){let i=cc.instantiate(this.itemRate);i.x=0,i.parent=this.listFactor,i.getChildByName("Amount").getComponent(cc.Label).string=e.moneys[t],i.getChildByName("Value").getComponent(cc.Label).string=e.golds[t],i.active=!0}this.btnDropdownTelco.getChildByName("lblTelco").active=!1,this.btnDropdownTelco.getChildByName("currentTelco").active=!0}else this.dropdownAmount.setOptions([]),this.btnDropdownTelco.getChildByName("lblTelco").active=!0,this.btnDropdownTelco.getChildByName("currentTelco").active=!1;this.dropdownAmount.setValue(-1),this.dropdownAmount.label.string="Ch\u1ecdn m\u1ec7nh gi\xe1"}),this.dropdownTelco.setValue(-1)}reset(){this.dropdownTelco.setValue(-1)}submit(){let t=this.dropdownTelco.getValue(),e=this.dropdownAmount.getValue();if(-1!=t)if(-1!=e){a.default.instance.showLoading(!0,60);var i={c:6e3,un:r.default.Login.Username,request_id:this.telcoValues[t].ids[e]};c.default.get(r.default.App.API,i,(t,e)=>{if(a.default.instance.showLoading(!1),null!=t)return a.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Telco cashout",JSON.stringify(t));p.default.send(p.default.USER_UPDATE_COIN),a.default.instance.alertDialog.showMsg(e.desc)})}else a.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn m\u1ec7nh gi\xe1.");else a.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn nh\xe0 m\u1ea1ng.")}};o([w(cc.Node)],L.prototype,"node",void 0),o([w(C.default)],L.prototype,"dropdownTelco",void 0),o([w(cc.Node)],L.prototype,"btnDropdownTelco",void 0),o([w(f.default)],L.prototype,"dropdownAmount",void 0),o([w(cc.Node)],L.prototype,"listFactor",void 0),o([w(cc.Node)],L.prototype,"itemRate",void 0),L=o([v("PopupCashout.TabCard")],L);let N=class{constructor(){this.node=null,this.edbPhone=null,this.edbName=null,this.dropdownAmount=null,this.edbOTP=null,this.btnGetOTP=null,this.btnSubmit=null,this.listFactor=null,this.itemRate=null,this.started=!1}start(){this.btnSubmit.node.on("click",()=>{this.submit()}),this.btnGetOTP.node.on("click",()=>{this.submit(!0)})}setWalletData(t){if(!this.started){this.started=!0,this.walletValues={moneys:["Ch\u1ecdn m\u1ec7nh gi\xe1"],golds:[""],ids:[-1]};for(let[e,i]of t)i.type==r.default.App.REWARD_TYPE.MOMO&&i.items.forEach(t=>{this.walletValues.moneys.push(u.default.formatNumber(t.money)),this.walletValues.golds.push(u.default.formatNumber(t.gold)),this.walletValues.ids.push(t.id)});this.dropdownAmount.setOptions(this.walletValues.moneys),this.listFactor.removeAllChildren(),this.itemRate.active=!1;for(let t=1;t<this.walletValues.moneys.length;t++){let e=cc.instantiate(this.itemRate);e.x=0,e.parent=this.listFactor,e.getChildByName("Amount").getComponent(cc.Label).string=this.walletValues.moneys[t],e.getChildByName("Value").getComponent(cc.Label).string=this.walletValues.golds[t],e.active=!0}}}reset(){this.start();const t=D.default.getMomoInfo();if(t){const e=JSON.parse(t);this.edbPhone.string=e.accountPhone,this.edbName.string=e.accountName}else this.edbPhone.string="",this.edbName.string="";this.dropdownAmount.setValue(0)}submit(t=!1){let e=this.dropdownAmount.getValue(),i=this.edbName.string.trim(),n=this.edbPhone.string.trim();0!=e?0!=i.length?0!=n.length?a.default.instance.confirmDialog.show2("T\u1ea5t c\u1ea3 c\xe1c th\xf4ng tin b\u1ea1n \u0111i\u1ec1n l\xe0 ch\xednh x\xe1c?",t=>{if(t){a.default.instance.showLoading(!0);let t={c:6e3,un:r.default.Login.Username,request_id:this.walletValues.ids[e],account_no:n,account_name:i};c.default.get(r.default.App.API,t,(t,e)=>{if(a.default.instance.showLoading(!1),null!=t)return a.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Momo cashout",JSON.stringify(t));p.default.send(p.default.USER_UPDATE_COIN),a.default.instance.alertDialog.showMsg(e.desc),D.default.setMomoInfo(JSON.stringify({accountPhone:n,accountName:i}))})}}):a.default.instance.alertDialog.showMsg("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):a.default.instance.alertDialog.showMsg("T\xean t\xe0i kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):a.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn m\u1ec7nh gi\xe1.")}};o([w(cc.Node)],N.prototype,"node",void 0),o([w(cc.EditBox)],N.prototype,"edbPhone",void 0),o([w(cc.EditBox)],N.prototype,"edbName",void 0),o([w(f.default)],N.prototype,"dropdownAmount",void 0),o([w(cc.EditBox)],N.prototype,"edbOTP",void 0),o([w(cc.Button)],N.prototype,"btnGetOTP",void 0),o([w(cc.Button)],N.prototype,"btnSubmit",void 0),o([w(cc.Node)],N.prototype,"listFactor",void 0),o([w(cc.Node)],N.prototype,"itemRate",void 0),N=o([v("PopupCashout.TabViDienTu")],N);let k=class{constructor(){this.node=null}start(){}reset(){}submit(){}};o([w(cc.Node)],k.prototype,"node",void 0),k=o([v("PopupCashout.TabBitCoin")],k);let P=n=class extends s.default{constructor(){super(...arguments),this.tabs=null,this.tabContents=null,this.tabDaiLy=new A,this.tabBank=new E,this.tabCard=new L,this.tabViDienTu=new N,this.tabBitCoin=new k,this.tabSelectedIdx=0,this.rewardByProvider=new Map}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupCashOut",(e,i)=>{if(this.initing=!1,null!=e)return void a.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.show(1)})):this.instance.show(1))}start(){for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("click",()=>{this.tabSelectedIdx=t,this.onTabChanged()});h.default.getInstance().addListener(t=>{switch(new l.default(t).getCmdId()){case d.default.Code.BUY_CARD:{a.default.instance.showLoading(!1);let e=new d.default.ResBuyCard(t);switch(e.error){case 0:g.default.createAndShow(a.default.instance.popups);break;case 1:a.default.instance.alertDialog.showMsg("M\u1ea5t k\u1ebft n\u1ed1i \u0111\u1ebfn server!");break;case 2:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n hi\u1ec7n \u0111ang b\u1ecb c\u1ea5m \u0111\u1ed5i th\u01b0\u1edfng!");break;case 3:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng!");break;case 9:a.default.instance.alertDialog.showMsg("\u0110\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng \u0111\u1ed5i th\u1ebb, t\xe0i kho\u1ea3n c\u1ea7n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt! B\u1ea1n c\xf3 mu\u1ed1n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt lu\xf4n kh\xf4ng?");break;case 10:a.default.instance.alertDialog.showMsg("Ch\u1ee9c n\u0103ng n\xe0y s\u1ebd ho\u1ea1t \u0111\u1ed9ng sau 24h k\xedch ho\u1ea1t b\u1ea3o m\u1eadt th\xe0nh c\xf4ng!");break;case 20:a.default.instance.alertDialog.showMsg("M\u1ee9c \u0111\u1ed5i v\u01b0\u1ee3t qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a t\xe0i kho\u1ea3n. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;case 21:a.default.instance.alertDialog.showMsg("Kh\xf4ng th\u1ec3 \u0111\u1ed5i qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;default:a.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". vui l\xf2ng th\u1eed l\u1ea1i sau.")}}break;case d.default.Code.BUY_CARD_RESULT:{a.default.instance.showLoading(!1);let e=new d.default.ResBuyCardResult(t);switch(e.error){case 0:r.default.Login.Coin=e.currentMoney,p.default.send(p.default.USER_UPDATE_COIN);let t=JSON.parse(e.softpin)[0],i=t.provider,n=t.amount,o=t.pin,s=t.serial;m.default.createAndShow(a.default.instance.popups,i,n,o,s);break;case 1:a.default.instance.alertDialog.showMsg("K\u1ebft n\u1ed1i m\u1ea1ng kh\xf4ng \u1ed5n \u0111\u1ecbnh. Vui l\xf2ng th\u1eed l\u1ea1i sau!");break;case 2:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n hi\u1ec7n \u0111ang b\u1ecb c\u1ea5m \u0111\u1ed5i th\u01b0\u1edfng!");break;case 3:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng!");break;case 9:a.default.instance.alertDialog.showMsg("\u0110\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng \u0111\u1ed5i th\u1ebb, t\xe0i kho\u1ea3n c\u1ea7n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt! B\u1ea1n c\xf3 mu\u1ed1n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt lu\xf4n kh\xf4ng?");break;case 10:a.default.instance.alertDialog.showMsg("Ch\u1ee9c n\u0103ng n\xe0y s\u1ebd ho\u1ea1t \u0111\u1ed9ng sau 24h k\xedch ho\u1ea1t b\u1ea3o m\u1eadt th\xe0nh c\xf4ng!");break;case 20:a.default.instance.alertDialog.showMsg("M\u1ee9c \u0111\u1ed5i v\u01b0\u1ee3t qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a t\xe0i kho\u1ea3n. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;case 21:a.default.instance.alertDialog.showMsg("Kh\xf4ng th\u1ec3 \u0111\u1ed5i qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;case 22:a.default.instance.alertDialog.showMsg("S\u1ed1 l\u01b0\u1ee3ng th\u1ebb \u0111\u1ed5i \u0111\xe3 qu\xe1 h\u1ea1n m\u1ee9c. B\u1ea1n vui l\xf2ng quay tr\u1edf l\u1ea1i sau!");break;case 30:a.default.instance.alertDialog.showMsg("Giao d\u1ecbch \u0111ang ch\u1edd x\u1eed l\xfd!");break;default:a.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". vui l\xf2ng th\u1eed l\u1ea1i sau.")}}}},this),this.tabDaiLy.start(),this.tabBitCoin.start(),this.tabBank.start()}show(t=0){super.show(),this.getCashOutCfg(),this.tabSelectedIdx=t,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged()}actCardSubmit(){this.tabCard.submit()}onTabChanged(){for(let t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabSelectedIdx?255:123;switch(this.tabSelectedIdx){case 0:this.tabDaiLy.reset();break;case 1:this.tabBank.reset();break;case 2:this.tabCard.reset();break;case 3:this.tabViDienTu.reset();break;case 4:this.tabBitCoin.reset()}}getCashOutCfg(){a.default.instance.showLoading(!0),c.default.get(r.default.App.API,{c:6002},(t,e)=>{if(a.default.instance.showLoading(!1),null!=t)return a.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Get cashout config",JSON.stringify(t));cc.log(e),this.onCashOutCfgDone(e)})}onCashOutCfgDone(t){this.rewardByProvider=new Map,t.forEach(t=>{t.provider=r.default.Payment.getTelcoProvider(t.provider),void 0===this.rewardByProvider.get(t.provider)?this.rewardByProvider.set(t.provider,{type:t.type,items:[t]}):this.rewardByProvider.get(t.provider).items.push(t)}),this.tabCard.setCardData(this.rewardByProvider),this.tabViDienTu.setWalletData(this.rewardByProvider),this.tabBank.setBankData(this.rewardByProvider)}};P.instance=null,P.initing=!1,o([w(cc.ToggleContainer)],P.prototype,"tabs",void 0),o([w(cc.Node)],P.prototype,"tabContents",void 0),o([w(A)],P.prototype,"tabDaiLy",void 0),o([w(E)],P.prototype,"tabBank",void 0),o([w(L)],P.prototype,"tabCard",void 0),o([w(N)],P.prototype,"tabViDienTu",void 0),o([w(k)],P.prototype,"tabBitCoin",void 0),P=n=o([v],P),i.default=P,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/ErrorLogger":"ErrorLogger","../../Game/src/common/Http":"Http","../../Game/src/common/SPUtils":"SPUtils","../../Game/src/common/Utils":"Utils","../../Game/src/customui/CustomUI.Dropdown":"CustomUI.Dropdown","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","./Lobby.Cmd":"Lobby.Cmd","./Lobby.DropdownBank":"Lobby.DropdownBank","./Lobby.DropdownTelco":"Lobby.DropdownTelco","./Lobby.PopupCardInfo":"Lobby.PopupCardInfo","./Lobby.PopupOTP":"Lobby.PopupOTP"}],"Lobby.PopupChangeAvatar":[function(t,e,i){"use strict";cc._RF.push(e,"1e068IDVrtHA7QukHeOfngS","Lobby.PopupChangeAvatar");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/Configs"),c=t("../../Game/src/common/App"),r=t("../../Game/src/common/Http"),l=t("../../Game/src/common/BroadcastReceiver"),{ccclass:u,property:h}=cc._decorator;let d=n=class extends s.default{constructor(){super(...arguments),this.items=null,this.itemTemplate=null,this.selectedIdx=-1}start(){for(let t=0;t<c.default.instance.sprFrameAvatars.length;t++){let e=cc.instantiate(this.itemTemplate);e.parent=this.items,e.getChildByName("sprite").getComponent(cc.Sprite).spriteFrame=c.default.instance.sprFrameAvatars[t],e.name=c.default.instance.sprFrameAvatars[t].name,c.default.instance.sprFrameAvatars[t].name==a.default.Login.Avatar?(this.selectedIdx=t,e.getChildByName("selected").active=!0):e.getChildByName("selected").active=!1,e.on("click",()=>{this.selectedIdx=t;for(let t=0;t<this.items.childrenCount;t++)this.items.children[t].getChildByName("selected").active=t==this.selectedIdx}),this.selectedIdx=t}this.itemTemplate.removeFromParent(),this.itemTemplate=null}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,c.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupChangeAvatar",(e,i)=>{if(this.initing=!1,null!=e)return void c.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){if(super.show(),this.selectedIdx=-1,null==this.itemTemplate)for(let t=0;t<this.items.childrenCount;t++){let e=this.items.children[t];e.name==a.default.Login.Avatar?(this.selectedIdx=t,e.getChildByName("selected").active=!0):e.getChildByName("selected").active=!1}}actSubmit(){r.default.get(a.default.App.API,{c:125,nn:a.default.Login.Nickname,avatar:c.default.instance.sprFrameAvatars[this.selectedIdx].name},(t,e)=>{if(null==t){if(!e.success)return e.errorCode,void c.default.instance.alertDialog.showMsg("L\u1ed7i "+e.errorCode+". Kh\xf4ng x\xe1c \u0111\u1ecbnh.");this.dismiss(),a.default.Login.Avatar=c.default.instance.sprFrameAvatars[this.selectedIdx].name,l.default.send(l.default.USER_INFO_UPDATED),c.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng!")}else c.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})}};d.instance=null,d.initing=!1,o([h(cc.Node)],d.prototype,"items",void 0),o([h(cc.Node)],d.prototype,"itemTemplate",void 0),d=n=o([u],d),i.default=d,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http"}],"Lobby.PopupChangePassword":[function(t,e,i){"use strict";cc._RF.push(e,"f484cLb6SZFhKtzWQAjnW01","Lobby.PopupChangePassword");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../../Game/src/common/Dialog"),a=t("../../../Game/src/common/App"),c=t("../../../Game/src/common/Http"),r=t("../../../Game/src/common/Configs"),l=t("../../../Game/src/common/BroadcastReceiver"),u=t("../Lobby.PopupProfile"),h=t("./Lobby.PopupLogin"),{ccclass:d,property:p}=cc._decorator;let g=n=class extends s.default{constructor(){super(...arguments),this.edbOldPassword=null,this.edbNewPassword=null,this.edbReNewPassword=null,this.edbOTP=null,this.changePassGroup=null,this.otpGroup=null}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupChangePassword",(e,i)=>{if(this.initing=!1,null!=e)return void a.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show(),this.edbOldPassword.string="",this.edbNewPassword.string="",this.edbReNewPassword.string="",this.edbOTP.string="",this.changePassGroup.active=!0,this.otpGroup.active=!1}actSubmit(){let t=this.edbOldPassword.string.trim(),e=this.edbNewPassword.string.trim(),i=this.edbReNewPassword.string.trim();0!=t.length?0!=e.length?i==e?(a.default.instance.showLoading(!0),c.default.post(r.default.App.API+"?c=4006",{op:md5(t),np:md5(e),otp:""},(t,e)=>{if(a.default.instance.showLoading(!1),null==t)if(cc.log(e),e.success)this.onChangePasswordSuccess();else{if(1012===parseInt(e.errorCode))return this.changePassGroup.active=!1,void(this.otpGroup.active=!0);a.default.instance.alertDialog.showMsg(e.desc||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh.")}else a.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})):a.default.instance.alertDialog.showMsg("Hai m\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng gi\u1ed1ng nhau."):a.default.instance.alertDialog.showMsg("M\u1eadt kh\u1ea9u m\u1edbi kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):a.default.instance.alertDialog.showMsg("M\u1eadt kh\u1ea9u c\u0169 kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}actSubmitOTP(){let t=this.edbOldPassword.string.trim(),e=this.edbNewPassword.string.trim(),i=this.edbOTP.string.trim();0!=i.length?(a.default.instance.showLoading(!0),c.default.post(r.default.App.API+"?c=4006",{op:md5(t),np:md5(e),otp:i},(t,e)=>{a.default.instance.showLoading(!1),null==t?(cc.log(e),e.success?this.onChangePasswordSuccess():a.default.instance.alertDialog.showMsg(e.desc||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh.")):a.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})):a.default.instance.alertDialog.showMsg("OTP kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}actGetOTP(){a.default.instance.showLoading(!0),c.default.post(r.default.App.API+"?c=6023",{username:r.default.Login.Username},(t,e)=>{a.default.instance.showLoading(!1),null==t?(cc.log(e),e.success||a.default.instance.alertDialog.showMsg(e.desc||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh.")):a.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})}onChangePasswordSuccess(){this.dismiss(),u.default.instance.dismiss(),a.default.instance.alertDialog.showMsgWithOnDismissed("\u0110\u1ed5i m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng",()=>{l.default.send(l.default.USER_LOGOUT),h.default.createAndShow(a.default.instance.popups)})}};g.instance=null,g.initing=!1,o([p(cc.EditBox)],g.prototype,"edbOldPassword",void 0),o([p(cc.EditBox)],g.prototype,"edbNewPassword",void 0),o([p(cc.EditBox)],g.prototype,"edbReNewPassword",void 0),o([p(cc.EditBox)],g.prototype,"edbOTP",void 0),o([p(cc.Node)],g.prototype,"changePassGroup",void 0),o([p(cc.Node)],g.prototype,"otpGroup",void 0),g=n=o([d],g),i.default=g,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Dialog":"Dialog","../../../Game/src/common/Http":"Http","../Lobby.PopupProfile":"Lobby.PopupProfile","./Lobby.PopupLogin":"Lobby.PopupLogin"}],"Lobby.PopupCommunity":[function(t,e,i){"use strict";cc._RF.push(e,"2457d9DGdRDQJIGfvQKDdJR","Lobby.PopupCommunity");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/App"),a=t("../../Game/src/common/Configs"),c=t("../../Game/src/common/Dialog"),{ccclass:r,property:l}=cc._decorator;let u=n=class extends c.default{static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,s.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupCommunity",(e,i)=>{if(this.initing=!1,null!=e)return void s.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.show()})):this.instance.show())}actFanpage(){cc.sys.openURL(a.default.App.FANPAGE),this.dismiss()}actTeleNew(){s.default.instance.openTelegram(a.default.App.TELE_NEWS),this.dismiss()}actFbGroup(){cc.sys.openURL(a.default.App.FB_GROUP),this.dismiss()}};u.instance=null,u.initing=!1,u=n=o([r],u),i.default=u,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog"}],"Lobby.PopupCustomerCare":[function(t,e,i){"use strict";cc._RF.push(e,"756701Vo1lOjYfviop/qQff","Lobby.PopupCustomerCare");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/App"),a=t("../../Game/src/common/Configs"),c=t("../../Game/src/common/Dialog"),{ccclass:r,property:l}=cc._decorator;let u=n=class extends c.default{static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,s.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupCustomerCare",(e,i)=>{if(this.initing=!1,null!=e)return void s.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.show()})):this.instance.show())}actTelegram(){s.default.instance.openTelegram(a.default.App.TELE_SUPPORT),this.dismiss()}actMessenger(){cc.sys.openURL(a.default.App.FB_MESSENGER),this.dismiss()}actFanpage(){cc.sys.openURL(a.default.App.FANPAGE),this.dismiss()}actTeleNew(){s.default.instance.openTelegram(a.default.App.TELE_NEWS),this.dismiss()}};u.instance=null,u.initing=!1,u=n=o([r],u),i.default=u,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog"}],"Lobby.PopupDaiLy":[function(t,e,i){"use strict";cc._RF.push(e,"37f697f/FRA263tKXfNN6nC","Lobby.PopupDaiLy");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Http"),r=t("../../Game/src/common/Configs"),{ccclass:l,property:u}=cc._decorator;let h=n=class extends s.default{constructor(){super(...arguments),this.itemTemplate=null}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupDaiLy",(e,i)=>{if(this.initing=!1,null!=e)return void a.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show();for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1}dismiss(){super.dismiss();for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1}_onShowed(){super._onShowed(),this.loadData()}getItem(){let t=null;for(let e=0;e<this.itemTemplate.parent.childrenCount;e++){let i=this.itemTemplate.parent.children[e];if(i!=this.itemTemplate&&!i.active){t=i;break}}return null==t&&((t=cc.instantiate(this.itemTemplate)).parent=this.itemTemplate.parent),t.active=!0,t}loadData(){a.default.instance.showLoading(!0),c.default.get(r.default.App.API,{c:401},(t,e)=>{if(a.default.instance.showLoading(!1),null==t&&e.success)for(let i=0;i<e.transactions.length;i++){let t=e.transactions[i],n=t.nickName,o=this.getItem();o.getChildByName("bg").opacity=i%2==0?10:0,o.getChildByName("No.").getComponent(cc.Label).string=(i+1).toString(),o.getChildByName("Fullname").getComponent(cc.Label).string=t.fullName,o.getChildByName("Nickname").getComponent(cc.Label).string=n,o.getChildByName("Phone").getComponent(cc.Label).string=t.mobile,o.getChildByName("Phone").color=cc.Color.WHITE,o.getChildByName("Phone").off("click"),t.mobile&&t.mobile.trim().length>0&&"0"!=t.mobile.trim()[0]&&(o.getChildByName("Phone").color=cc.Color.CYAN,o.getChildByName("Phone").on("click",()=>{a.default.instance.openTelegram(t.mobile)})),o.getChildByName("Address").getComponent(cc.Label).string=t.address,o.getChildByName("BtnFacebook").off("click"),o.getChildByName("BtnFacebook").on("click",()=>{cc.sys.openURL(t.facebook)}),o.getChildByName("BtnTransfer").off("click"),o.getChildByName("BtnTransfer").on("click",()=>{})}})}};h.instance=null,h.initing=!1,o([u(cc.Node)],h.prototype,"itemTemplate",void 0),h=n=o([l],h),i.default=h,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http"}],"Lobby.PopupEvent":[function(t,e,i){"use strict";cc._RF.push(e,"f0404XvYDhCeJK+bUb6fdIu","Lobby.PopupEvent");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.lstContent=[],this.eventTitleScroll=null,this.contentScroll=null}eventTitleClick(t,e){this.lstContent.forEach(t=>{t.active=!1}),this.lstContent[Number(e)].active=!0,this.contentScroll.content=this.lstContent[Number(e)],this.contentScroll.scrollToTop(.2),t.target.parent.children.forEach(t=>{t.getChildByName("selected").active=!1}),t.target.getChildByName("selected").active=!0}};n([s(cc.Node)],a.prototype,"lstContent",void 0),n([s(cc.ScrollView)],a.prototype,"eventTitleScroll",void 0),n([s(cc.ScrollView)],a.prototype,"contentScroll",void 0),a=n([o("")],a),i.default=a,cc._RF.pop()},{}],"Lobby.PopupForgetPassword":[function(t,e,i){"use strict";cc._RF.push(e,"c06bb5wJPhLSLer1tnZVR/5","Lobby.PopupForgetPassword");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../../Game/src/common/Dialog"),a=t("../../../Game/src/common/Http"),c=t("../../../Game/src/common/Configs"),r=t("../../../Game/src/common/Utils"),l=t("../../../Game/src/common/App"),u=t("./Lobby.PopupResetPassword"),{ccclass:h,property:d}=cc._decorator;let p=n=class extends s.default{constructor(){super(...arguments),this.edbUsername=null,this.edbCaptcha=null,this.sprCaptcha=null,this.edbOTP=null}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,l.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupForgetPassword",(e,i)=>{if(this.initing=!1,null!=e)return void l.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show(),this.edbCaptcha.string="",this.edbUsername.string="",this.edbOTP.string="",this.actRefreshCaptcha()}actRefreshCaptcha(){a.default.get(c.default.App.API,{c:124,requireLogin:!1},(t,e)=>{null==t?(this.captchaId=e.id,r.default.loadSpriteFrameFromBase64(e.img,t=>{this.sprCaptcha.spriteFrame=t})):l.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})}actGetOTP(){let t=this.edbUsername.string.trim();0!=t.length?a.default.post(c.default.App.API+"?c=6023",{username:t},(t,e)=>{null==t?(cc.log(e),e.success||l.default.instance.alertDialog.showMsg(e.desc||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh.")):l.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")}):l.default.instance.alertDialog.showMsg("T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}actSubmit(){let t=this.edbUsername.string.trim(),e=this.edbCaptcha.string.trim(),i=this.edbOTP.string.trim();0!=t.length?0!=e.length?0!=i.length?a.default.post(c.default.App.API+"?c=6024",{username:t,captcha:e,captchaId:this.captchaId,otp:i},(e,i)=>{if(null==e){if(cc.log(i),!i.success)return this.actRefreshCaptcha(),void l.default.instance.alertDialog.showMsg(i.desc||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh.");u.default.createAndShow(l.default.instance.popups,t,i.nickname,i.at),this.dismiss()}else l.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")}):l.default.instance.alertDialog.showMsg("M\xe3 OTP kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):l.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):l.default.instance.alertDialog.showMsg("T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}};p.instance=null,p.initing=!1,o([d(cc.EditBox)],p.prototype,"edbUsername",void 0),o([d(cc.EditBox)],p.prototype,"edbCaptcha",void 0),o([d(cc.Sprite)],p.prototype,"sprCaptcha",void 0),o([d(cc.EditBox)],p.prototype,"edbOTP",void 0),p=n=o([h],p),i.default=p,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Dialog":"Dialog","../../../Game/src/common/Http":"Http","../../../Game/src/common/Utils":"Utils","./Lobby.PopupResetPassword":"Lobby.PopupResetPassword"}],"Lobby.PopupGiftCode":[function(t,e,i){"use strict";cc._RF.push(e,"5e3ecLUt8VCSbklBKZNYvAF","Lobby.PopupGiftCode");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/networks/MiniGameNetworkClient"),c=t("../../Game/src/common/App"),r=t("../../Game/src/networks/Network.InPacket"),l=t("./Lobby.Cmd"),u=t("../../Game/src/common/BroadcastReceiver"),h=t("../../Game/src/common/Configs"),{ccclass:d,property:p}=cc._decorator;let g=n=class extends s.default{constructor(){super(...arguments),this.edbCode=null}start(){a.default.getInstance().addListener(t=>{switch(new r.default(t).getCmdId()){case l.default.Code.INSERT_GIFTCODE:{c.default.instance.showLoading(!1);let e=new l.default.ResInsertGiftcode(t);switch(e.error){case 0:c.default.instance.alertDialog.showMsg("M\xe3 Giftcode kh\xf4ng ch\xednh x\xe1c. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!");break;case 1:c.default.instance.alertDialog.showMsg("M\xe3 Giftcode \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.");break;case 2:h.default.Login.Coin=e.currentMoneyVin,u.default.send(u.default.USER_UPDATE_COIN),c.default.instance.alertDialog.showMsg("Nh\u1eadn th\u01b0\u1edfng th\xe0nh c\xf4ng.");break;case 3:c.default.instance.actiontDialog.showMsgWithAction("\u0110\u1ec3 nh\u1eadn giftcode vui l\xf2ng k\xedch ho\u1ea1t b\u1ea3o m\u1eadt.","K\xcdCH HO\u1ea0T NGAY",()=>{c.default.instance.openTelegram()});break;case 4:case 5:case 6:c.default.instance.alertDialog.showMsg("Giftcode \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7.")}break}}},this)}static createAndShow(t,e=""){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,c.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupGiftCode",(i,o)=>{if(this.initing=!1,null!=i)return void c.default.instance.alertDialog.showMsg(i);let s=cc.instantiate(o);s.parent=t,this.instance=s.getComponent(n),this.instance.node.zIndex=1e3,this.instance.showWithCode(e)})):(this.instance.node.zIndex=1e3,this.instance.showWithCode(e)))}showWithCode(t=""){this.show(),this.fillGiftCode(t)}fillGiftCode(t){this.edbCode.string=t}actSubmit(){let t=this.edbCode.string.trim();""!=t?(c.default.instance.showLoading(!0),a.default.getInstance().send(new l.default.ReqInsertGiftcode(t))):c.default.instance.alertDialog.showMsg("M\xe3 qu\xe0 t\u1eb7ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}};g.instance=null,g.initing=!1,o([p(cc.EditBox)],g.prototype,"edbCode",void 0),g=n=o([d],g),i.default=g,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","./Lobby.Cmd":"Lobby.Cmd"}],"Lobby.PopupLogin":[function(t,e,i){"use strict";cc._RF.push(e,"1df56Z0SzBFnaI3Oe9ITTUX","Lobby.PopupLogin");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../../Game/src/common/Dialog"),a=t("../../../Game/src/common/App"),c=t("../../../Game/src/common/SPUtils"),r=t("../../../Game/src/common/BroadcastReceiver"),l=t("./Lobby.PopupForgetPassword"),u=t("./Lobby.PopupRegister"),h=t("./AuthorizationController"),{ccclass:d,property:p}=cc._decorator;let g=n=class extends s.default{constructor(){super(...arguments),this.edbUsername=null,this.edbPassword=null,this.edbOTP=null,this.loginGroup=null,this.otpGroup=null}static createAndShow(t,e=!1){null==this.instance||null==this.instance.node?a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupLogin",(i,o)=>{if(null!=i)return;let s=cc.instantiate(o);s.active=!1,s.parent=t,this.instance=s.getComponent(n),this.instance.showDialog(e)}):this.instance.showDialog(e)}registerBroadcast(){r.default.register(r.default.UPDATE_NICKNAME_SUCCESS,t=>{this.edbUsername.string=t.username,this.edbPassword.string=t.password},this),r.default.register(r.default.USER_LOGOUT,()=>{this.edbUsername.string=c.default.getUserName(),this.edbPassword.string=c.default.getUserPass()},this)}showDialog(t){this.node.zIndex=1e3,super.show(),this.loginGroup.active=!t,this.otpGroup.active=t,this.edbOTP.string=""}start(){this.registerBroadcast(),this.edbUsername.string=c.default.getUserName(),this.edbPassword.string=c.default.getUserPass(),h.AuthorizationController.getInstance().initFacebookSdk()}actLogin(){let t=this.edbUsername.string.trim(),e=this.edbPassword.string;0!=t.length?0!=e.length?h.AuthorizationController.getInstance().loginNormal(t,e,()=>{this.dismiss()}):a.default.instance.alertDialog.showMsg("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):a.default.instance.alertDialog.showMsg("T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}actLoginFB(){h.AuthorizationController.getInstance().loginFacebook(()=>{this.dismiss()})}actForgetPassword(){l.default.createAndShow(a.default.instance.popups),this.dismiss()}actRegister(){u.default.createAndShow(a.default.instance.popups),this.dismiss()}actShowHidePassword(){this.edbPassword.inputFlag=this.edbPassword.inputFlag==cc.EditBox.InputFlag.PASSWORD?cc.EditBox.InputFlag.DEFAULT:cc.EditBox.InputFlag.PASSWORD}actConfirmOTP(){let t=this.edbOTP.string.trim();0!=t.length?h.AuthorizationController.getInstance().loginWithOtp(t,()=>{this.dismiss()}):a.default.instance.alertDialog.showMsg("OTP kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}};g.instance=null,o([p(cc.EditBox)],g.prototype,"edbUsername",void 0),o([p(cc.EditBox)],g.prototype,"edbPassword",void 0),o([p(cc.EditBox)],g.prototype,"edbOTP",void 0),o([p(cc.Node)],g.prototype,"loginGroup",void 0),o([p(cc.Node)],g.prototype,"otpGroup",void 0),g=n=o([d],g),i.default=g,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../../Game/src/common/Dialog":"Dialog","../../../Game/src/common/SPUtils":"SPUtils","./AuthorizationController":"AuthorizationController","./Lobby.PopupForgetPassword":"Lobby.PopupForgetPassword","./Lobby.PopupRegister":"Lobby.PopupRegister"}],"Lobby.PopupLuckyWheel":[function(t,e,i){"use strict";cc._RF.push(e,"c5e80YR05xNrZWvQuqcIDJR","Lobby.PopupLuckyWheel");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/Configs"),c=t("../../Game/src/networks/MiniGameNetworkClient"),r=t("../../Game/src/networks/Network.InPacket"),l=t("./Lobby.Cmd"),u=t("../../Game/src/common/BroadcastReceiver"),h=t("../../Game/src/common/App"),{ccclass:d,property:p}=cc._decorator;let g=n=class extends s.default{constructor(){super(...arguments),this.wheel1=null,this.wheel3=null,this.lblCount=null,this.btnClose=null,this.btnSpin=null,this.spinCount=0}start(){c.default.getInstance().addListener(t=>{if(this.node.active)switch(new r.default(t).getCmdId()){case l.default.Code.SPIN_LUCKY_WHEEL:{let e=new l.default.ResSpinLuckyWheel(t);if(0!=e.error){switch(e.error){case 1:h.default.instance.alertDialog.showMsg("K\u1ebft n\u1ed1i m\u1ea1ng kh\xf4ng \u1ed5n \u0111\u1ecbnh. Vui l\xf2ng th\u1eed l\u1ea1i sau!");break;case 2:h.default.instance.alertDialog.showMsg("B\u1ea1n \u0111\xe3 h\u1ebft l\u01b0\u1ee3t quay.");break;case 3:h.default.instance.alertDialog.showMsg("M\u1ed7i ng\xe0y ch\u1ec9 \u0111\u01b0\u1ee3c quay t\u1ed1i \u0111a 2 l\u1ea7n!")}this.btnSpin.interactable=!0,this.btnClose.interactable=!0;break}this.spinCount-=1,this.lblCount.string=this.spinCount.toString(),a.default.Login.LuckyWheel=e.remainCount,a.default.Login.Coin=e.currentMoneyVin;let i="Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 nh\u1eadn \u0111\u01b0\u1ee3c\n",n=3;switch(e.prizeSlot){case"KhoBau1":n=2,i+="1 l\u01b0\u1ee3t quay Range Rover";break;case"KhoBau2":n=6,i+="2 l\u01b0\u1ee3t quay Range Rover";break;case"KhoBau3":n=11,i+="3 l\u01b0\u1ee3t quay Range Rover";break;case"NuDiepVien1":n=0,i+="1 l\u01b0\u1ee3t quay MayBach";break;case"NuDiepVien2":n=10,i+="2 l\u01b0\u1ee3t quay MayBach";break;case"NuDiepVien3":n=4,i+="3 l\u01b0\u1ee3t quay MayBach";break;case"SieuAnhHung1":n=5,i+="1 l\u01b0\u1ee3t quay Bentley";break;case"SieuAnhHung2":n=1,i+="1 l\u01b0\u1ee3t quay Bentley";break;case"SieuAnhHung3":n=8,i+="1 l\u01b0\u1ee3t quay Bentley";break;case"more":n=9,i+="th\xeam 1 l\u01b0\u1ee3t quay"}3!=n&&(i+="v\xe0 ");let o=1;switch(e.prizeVin){case"1000":o=7,i+="1.000 Xu";break;case"2000":o=5,i+="2.000 Xu";break;case"5000":o=3,i+="5.000 Xu";break;case"10000":o=6,i+="10.000 Xu";break;case"20000":o=2,i+="20.000 Xu";break;case"50000":o=4,i+="50.000 Xu";break;case"100000":o=0,i+="100.000 Xu"}i+=".",1==o&&3==n&&(i="Ch\xfac b\u1ea1n may m\u1eafn l\u1ea7n sau."),this.wheel1.stopAllActions(),this.wheel3.stopAllActions(),this.wheel1.angle=0,this.wheel3.angle=0,this.wheel1.runAction(cc.rotateTo(3,-(360-30*n+1440-15)).easing(cc.easeSineInOut())),this.wheel3.runAction(cc.sequence(cc.delayTime(.25),cc.rotateTo(4,1462.5+45*o).easing(cc.easeSineInOut()),cc.callFunc(()=>{this.btnSpin.interactable=!0,this.btnClose.interactable=!0,this.spinCount=a.default.Login.LuckyWheel,this.lblCount.string=this.spinCount.toString(),u.default.send(u.default.USER_UPDATE_COIN),h.default.instance.alertDialog.showMsg(i)})));break}}},this)}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,h.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupLuckyWheel",(e,i)=>{if(this.initing=!1,null!=e)return void h.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){this.bg||(this.bg=this.node.getChildByName("Bg")),this.container||(this.container=this.node.getChildByName("Container")),this.node.active=!0,this.isAnimated=!1,this.bg.stopAllActions(),this.bg.opacity=0,this.bg.runAction(cc.fadeTo(.2,128)),this.container.stopAllActions(),this.container.opacity=0,this.container.scale=this.startScale,this.container.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,this.showScale),cc.fadeIn(.2)),cc.scaleTo(.1,1.195),cc.callFunc(this._onShowed.bind(this)))),this.wheel1.angle=0,this.wheel3.angle=0,this.spinCount=a.default.Login.LuckyWheel,this.lblCount.string=this.spinCount.toString()}dismiss(){super.dismiss()}actSpin(){this.btnSpin.interactable=!1,c.default.getInstance().send(new l.default.ReqSpinLuckyWheel)}};g.instance=null,g.initing=!1,o([p(cc.Node)],g.prototype,"wheel1",void 0),o([p(cc.Node)],g.prototype,"wheel3",void 0),o([p(cc.Label)],g.prototype,"lblCount",void 0),o([p(cc.Button)],g.prototype,"btnClose",void 0),o([p(cc.Button)],g.prototype,"btnSpin",void 0),g=n=o([d],g),i.default=g,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","./Lobby.Cmd":"Lobby.Cmd"}],"Lobby.PopupMailBox":[function(t,e,i){"use strict";cc._RF.push(e,"da4b5KNPpZFsZvwFw4p6nI0","Lobby.PopupMailBox");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Http"),r=t("../../Game/src/common/Configs"),l=t("../../Game/src/networks/Network.InPacket"),u=t("../../Game/src/networks/MiniGameNetworkClient"),h=t("./Lobby.Cmd"),d=t("../../Game/src/common/BroadcastReceiver"),p=t("./Lobby.PopupOTP"),g=t("./Lobby.PopupCardInfo"),m=t("./Lobby.PopupSecurity"),f=t("./Lobby.PopupShop"),{ccclass:D,property:b}=cc._decorator;let C=class{constructor(){this.node=null,this.itemTemplate=null,this.lblTitle=null,this.lblContent=null,this.lblEmpty=null,this.lblPage=null,this.btnNapNgay=null,this.lastData=null,this.page=1,this.maxPage=1,this.currentSelectedMail=-1}start(){}reset(){for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1;this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}getItem(){let t=null;for(let e=0;e<this.itemTemplate.parent.childrenCount;e++){let i=this.itemTemplate.parent.children[e];if(i!=this.itemTemplate&&!i.active){t=i;break}}return null==t&&((t=cc.instantiate(this.itemTemplate)).parent=this.itemTemplate.parent),t.active=!0,t}loadData(){a.default.instance.showLoading(!0),this.lblEmpty.string="loading...",this.lblContent.string="",this.lblTitle.string="",this.btnNapNgay.active=!1,this.currentSelectedMail=-1,c.default.get(r.default.App.API,{c:405,nn:r.default.Login.Nickname,p:this.page},(t,e)=>{a.default.instance.showLoading(!1);for(let i=0;i<this.itemTemplate.parent.childrenCount;i++)this.itemTemplate.parent.children[i].active=!1;if(null==t)if(cc.log(e),e.success){this.lblEmpty.string="",this.maxPage=Number(e.totalPages),this.lblPage.string=this.page+"/"+this.maxPage,this.lastData=e.transactions;for(let t=0;t<this.lastData.length;t++){let e=this.lastData[t],i=this.getItem();i.getChildByName("selected").active=!1,i.getChildByName("title").getComponent(cc.Label).string=e.title,i.getChildByName("time").getComponent(cc.Label).string=e.createTime,i.getChildByName("notread").active=0==e.status,i.off("click"),i.on("click",()=>{this.selectItem(t)})}}else this.lblEmpty.string="Kh\xf4ng c\xf3 th\u01b0."})}readMail(t){c.default.get(r.default.App.API,{c:404,mid:t},t=>{null==t&&(r.default.Login.MailCount-=1,d.default.send(d.default.UPDATE_MAIL_COUNT))})}delMail(){-1!=this.currentSelectedMail?a.default.instance.confirmDialog.show3("B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 th\u01b0?","XO\xc1",t=>{if(t){let t=this.lastData[this.currentSelectedMail];if(!t)return;c.default.get(r.default.App.API,{c:403,mid:t.mail_id},t=>{null==t&&this.loadData()})}}):a.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a ch\u1ecdn th\u01b0.")}selectItem(t){if(null==this.lastData)return;for(let i=0;i<this.lastData.length;i++)this.itemTemplate.parent.children[i+1].getChildByName("selected").active=i==t;this.itemTemplate.parent.children[t+1].getChildByName("notread").active=!1,this.currentSelectedMail=t;let e=this.lastData[t];this.lblTitle.string=e.title,this.btnNapNgay.active="GiftCode"==e.type||"MobileCard"==e.type,this.lblContent.string=e.content,0==e.status&&(e.status=1,this.readMail(e.mail_id))}nextPage(){this.page<this.maxPage&&(this.page++,this.loadData())}prevPage(){this.page>1&&(this.page--,this.loadData())}napNgay(){let t=this.lastData[this.currentSelectedMail];this.lblTitle.string.indexOf("Mua th\u1ebb th\xe0nh c\xf4ng")>=0?f.default.createAndShow(a.default.instance.popups,()=>{var e;null===(e=f.default.instance)||void 0===e||e.actFillCardData({provider:t.provider,serial:t.serial,pin:t.pin})}):this.lblTitle.string.indexOf("giftcode")>=0&&f.default.createAndShowWithGiftcode(a.default.instance.popups,t.giftCode)}};o([b(cc.Node)],C.prototype,"node",void 0),o([b(cc.Node)],C.prototype,"itemTemplate",void 0),o([b(cc.Label)],C.prototype,"lblTitle",void 0),o([b(cc.Label)],C.prototype,"lblContent",void 0),o([b(cc.Label)],C.prototype,"lblEmpty",void 0),o([b(cc.Label)],C.prototype,"lblPage",void 0),o([b(cc.Node)],C.prototype,"btnNapNgay",void 0),C=o([D("PopupMailBox.TabMailBox")],C);let y=class{constructor(){this.node=null,this.itemTemplate=null,this.lblTitle=null,this.lblContent=null,this.currentSelectedIndex=-1,this.newsData=[{title:"Quy \u0111\u1ecbnh \u0111\u1ed5i th\u01b0\u1edfng",content:"- \u0110\u1ed1i v\u1edbi Kh\xe1ch T\u1ed5ng n\u1ea1p > \u0110\u1ed5i. \u0110\u1ed5i kh\xf4ng gi\u1edbi h\u1ea1n s\u1ed1 l\u1ea7n v\xe0 th\u1eddi gian \u0111\u1ed1i v\u1edbi t\xe0i kho\u1ea3n N\u1ea1p > \u0110\u1ed5i. Duy\u1ec7t th\u01b0\u1edfng t\u1ef1 \u0111\u1ed9ng.\n- \u0110\u1ec3 tr\xe1nh gian l\u1eadn th\xec nh\u1eefng t\xe0i kho\u1ea3n n\u1ea1p < r\xfat s\u1ebd duy\u1ec7t tay.\n- M\xe3 th\u1ebb,s\u1ed1 seri th\u1ebb c\xe0o s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi v\xe0o h\xf2m th\u01b0 v\xe0 l\u1ecbch s\u1eed n\u1ea1p.\n- R\xfat Momo/Bank s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n th\u1eb1ng v\xe0o t\xe0i kho\u1ea3n c\u1ee7a ng\u01b0\u1eddi ch\u01a1i. Y\xeau c\u1ea7u nh\u1eadp \u0111\xfang s\u1ed1 t\xe0i kho\u1ea3n v\xe0 t\xean ng\u01b0\u1eddi nh\u1eadn, n\u1ebfu nh\u1eadp sai giao d\u1ecbch l\u1ed7i v\xe0 s\u1ebd kh\xf4ng th\u1ef1c hi\u1ec7n \u0111\u01b0\u1ee3c.\n\nC\xe1c t\xe0i kho\u1ea3n c\u1ed1 t\xecnh gian l\u1eadn s\u1ebd b\u1ecb kho\xe1 t\xe0i kho\u1ea3n V\u0129nh Vi\u1ec5n!\nXin c\u1ea3m \u01a1n!"},{title:"Vote app 5* \u0111\u1ec3 nh\u1eadn mu\xf4n v\xe0n Giftcode",content:"C\u1ef0C SOCK: Ti\u1ebfp t\u1ee5c t\u1eb7ng #GIFTCODE l\xean \u0111\u1ebfn 200K Xu khi tham gia #S\u1ef0_KI\u1ec6N: VOTE APP 5* cho IOS v\xe0 ANDROID - Th\u1eddi gian \u0111\u1ebfn h\u1ebft ng\xe0y 31-10\n\u0110\u1eb7c bi\u1ec7t: sau 2 ng\xe0y admin s\u1ebd d\xe0nh t\u1eb7ng 1 code vip l\xean \u0111\u1ebfn 200K xu cho b\u1ea1n n\xe0o may m\u1eafn vote app nhi\u1ec7t t\xecnh!.\n- B1: Like + tag 5 b\u1ea1n t\u1ea1i b\xe0i vi\u1ebft n\xe0y m\xe0 share b\xe0i vi\u1ebft \u1edf ch\u1ebf \u0111\u1ed9 c\xf4ng khai tr\xean t\u01b0\u1eddng nh\xe0 b\u1ea1n\n- B2: \u0110\xe1nh gi\xe1,vote app 5* v\xe0 vi\u1ebft nh\u1eadn x\xe9t tr\u1ef1c ti\u1ebfp tr\xean App Store\n- B3: Ch\u1ee5p l\u1ea1i h\xecnh \u1ea3nh \u0111\xe3 \u0111\xe1nh gi\xe1 v\xe0 nh\u1eadn x\xe9t app g\u1eedi tin nh\u1eafn cho admin c\xf9ng ID nh\u1eadn v\u1eadt trong Game \u0111\u1ec3 may m\u1eafn nh\u1eadn 200K xu n\xe0o c\xe1c b\u1ea1n!\n"}]}start(){}reset(){for(let t=0;t<this.itemTemplate.parent.childrenCount;t++)this.itemTemplate.parent.children[t].active=!1;this.loadHardData()}getItem(){let t=null;for(let e=0;e<this.itemTemplate.parent.childrenCount;e++){let i=this.itemTemplate.parent.children[e];if(i!=this.itemTemplate&&!i.active){t=i;break}}return null==t&&((t=cc.instantiate(this.itemTemplate)).parent=this.itemTemplate.parent),t.active=!0,t}loadData(){a.default.instance.showLoading(!0),this.lblContent.string="",this.lblTitle.string="",c.default.get(r.default.App.API,{c:401},(t,e)=>{if(a.default.instance.showLoading(!1),null==t&&e.success)for(let i=0;i<e.transactions.length;i++){let t=e.transactions[i],n=t.nickName,o=this.getItem();o.getChildByName("bg").opacity=i%2==0?10:0,o.getChildByName("No.").getComponent(cc.Label).string=(i+1).toString(),o.getChildByName("Fullname").getComponent(cc.Label).string=t.fullName,o.getChildByName("Nickname").getComponent(cc.Label).string=n,o.getChildByName("Phone").getComponent(cc.Label).string=t.mobile,o.getChildByName("Phone").color=cc.Color.WHITE,o.getChildByName("Phone").off("click"),t.mobile&&t.mobile.trim().length>0&&"0"!=t.mobile.trim()[0]&&(o.getChildByName("Phone").color=cc.Color.CYAN,o.getChildByName("Phone").on("click",()=>{a.default.instance.openTelegram(t.mobile)})),o.getChildByName("Address").getComponent(cc.Label).string=t.address,o.getChildByName("BtnFacebook").off("click"),o.getChildByName("BtnFacebook").on("click",()=>{cc.sys.openURL(t.facebook)}),o.getChildByName("BtnTransfer").off("click"),o.getChildByName("BtnTransfer").on("click",()=>{f.default.createAndShowWithTransfer(a.default.instance.popups,n)})}})}loadHardData(){for(let t=0;t<this.newsData.length;t++){let e=this.newsData[t],i=this.getItem();i.getChildByName("selected").active=!1,i.getChildByName("title").getComponent(cc.Label).string=e.title,i.off("click"),i.on("click",()=>{this.selectItem(t)})}this.newsData.length>0&&this.selectItem(0)}selectItem(t){if(null!=this.newsData){for(let e=0;e<this.newsData.length;e++)this.itemTemplate.parent.children[e+1].getChildByName("selected").active=e==t;this.currentSelectedIndex=t,this.lblTitle.string=this.newsData[t].title,this.lblContent.string=this.newsData[t].content}}};o([b(cc.Node)],y.prototype,"node",void 0),o([b(cc.Node)],y.prototype,"itemTemplate",void 0),o([b(cc.Label)],y.prototype,"lblTitle",void 0),o([b(cc.Label)],y.prototype,"lblContent",void 0),y=o([D("PopupMailBox.TabNews")],y);let v=n=class extends s.default{constructor(){super(...arguments),this.tabs=null,this.tabContents=null,this.tabMailBox=new C,this.tabNews=new y,this.tabSelectedIdx=0}static createAndShow(t,e=!1){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupMailBox",(i,o)=>{if(this.initing=!1,null!=i)return void a.default.instance.alertDialog.showMsg(i);let s=cc.instantiate(o);s.parent=t,this.instance=s.getComponent(n),e?this.instance.show(1):this.instance.show()})):e?this.instance.show(1):this.instance.show())}start(){for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("click",()=>{this.tabSelectedIdx=t,this.onTabChanged()});u.default.getInstance().addListener(t=>{switch(new l.default(t).getCmdId()){case h.default.Code.BUY_CARD:{a.default.instance.showLoading(!1);let e=new h.default.ResBuyCard(t);switch(e.error){case 0:p.default.createAndShow(a.default.instance.popups);break;case 1:a.default.instance.alertDialog.showMsg("M\u1ea5t k\u1ebft n\u1ed1i \u0111\u1ebfn server!");break;case 2:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n hi\u1ec7n \u0111ang b\u1ecb c\u1ea5m \u0111\u1ed5i th\u01b0\u1edfng!");break;case 3:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng!");break;case 9:a.default.instance.alertDialog.showMsg("\u0110\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng \u0111\u1ed5i th\u1ebb, t\xe0i kho\u1ea3n c\u1ea7n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt! B\u1ea1n c\xf3 mu\u1ed1n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt lu\xf4n kh\xf4ng?");break;case 10:a.default.instance.alertDialog.showMsg("Ch\u1ee9c n\u0103ng n\xe0y s\u1ebd ho\u1ea1t \u0111\u1ed9ng sau 24h k\xedch ho\u1ea1t b\u1ea3o m\u1eadt th\xe0nh c\xf4ng!");break;case 20:a.default.instance.alertDialog.showMsg("M\u1ee9c \u0111\u1ed5i v\u01b0\u1ee3t qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a t\xe0i kho\u1ea3n. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;case 21:a.default.instance.alertDialog.showMsg("Kh\xf4ng th\u1ec3 \u0111\u1ed5i qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;default:a.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". vui l\xf2ng th\u1eed l\u1ea1i sau.")}}break;case h.default.Code.BUY_CARD_RESULT:{a.default.instance.showLoading(!1);let e=new h.default.ResBuyCardResult(t);switch(e.error){case 0:r.default.Login.Coin=e.currentMoney,d.default.send(d.default.USER_UPDATE_COIN);let t=JSON.parse(e.softpin)[0],i=t.provider,n=t.amount,o=t.pin,s=t.serial;g.default.createAndShow(a.default.instance.popups,i,n,o,s);break;case 1:a.default.instance.alertDialog.showMsg("K\u1ebft n\u1ed1i m\u1ea1ng kh\xf4ng \u1ed5n \u0111\u1ecbnh. Vui l\xf2ng th\u1eed l\u1ea1i sau!");break;case 2:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n hi\u1ec7n \u0111ang b\u1ecb c\u1ea5m \u0111\u1ed5i th\u01b0\u1edfng!");break;case 3:a.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n kh\xf4ng \u0111\u1ee7 s\u1ed1 d\u01b0 kh\u1ea3 d\u1ee5ng!");break;case 9:a.default.instance.alertDialog.showMsg("\u0110\u1ec3 th\u1ef1c hi\u1ec7n ch\u1ee9c n\u0103ng \u0111\u1ed5i th\u1ebb, t\xe0i kho\u1ea3n c\u1ea7n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt! B\u1ea1n c\xf3 mu\u1ed1n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt lu\xf4n kh\xf4ng?");break;case 10:a.default.instance.alertDialog.showMsg("Ch\u1ee9c n\u0103ng n\xe0y s\u1ebd ho\u1ea1t \u0111\u1ed9ng sau 24h k\xedch ho\u1ea1t b\u1ea3o m\u1eadt th\xe0nh c\xf4ng!");break;case 20:a.default.instance.alertDialog.showMsg("M\u1ee9c \u0111\u1ed5i v\u01b0\u1ee3t qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a t\xe0i kho\u1ea3n. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;case 21:a.default.instance.alertDialog.showMsg("Kh\xf4ng th\u1ec3 \u0111\u1ed5i qu\xe1 h\u1ea1n m\u1ee9c trong ng\xe0y c\u1ee7a h\u1ec7 th\u1ed1ng. Vui l\xf2ng \u0111\u1ee3i \u0111\u1ebfn h\xf4m sau \u0111\u1ec3 th\u1ef1c hi\u1ec7n l\u1ea1i giao d\u1ecbch!");break;case 22:a.default.instance.alertDialog.showMsg("S\u1ed1 l\u01b0\u1ee3ng th\u1ebb \u0111\u1ed5i \u0111\xe3 qu\xe1 h\u1ea1n m\u1ee9c. B\u1ea1n vui l\xf2ng quay tr\u1edf l\u1ea1i sau!");break;case 30:a.default.instance.alertDialog.showMsg("Giao d\u1ecbch \u0111ang ch\u1edd x\u1eed l\xfd!");break;default:a.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". vui l\xf2ng th\u1eed l\u1ea1i sau.")}}}},this),this.tabMailBox.start(),this.tabNews.start()}show(t=0){super.show(),this.tabSelectedIdx=t,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged()}onTabChanged(){for(let t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabSelectedIdx?255:123;switch(this.tabSelectedIdx){case 0:this.tabMailBox.reset();break;case 1:this.tabNews.reset()}}mailBoxNextPage(){this.tabMailBox.nextPage()}mailBoxPrevPage(){this.tabMailBox.prevPage()}napNgay(){this.tabMailBox.napNgay(),this.dismiss()}delMail(){this.tabMailBox.delMail()}openOTP(){m.default.createAndShow(a.default.instance.popups),this.dismiss()}};v.instance=null,v.initing=!1,o([b(cc.ToggleContainer)],v.prototype,"tabs",void 0),o([b(cc.Node)],v.prototype,"tabContents",void 0),o([b(C)],v.prototype,"tabMailBox",void 0),o([b(y)],v.prototype,"tabNews",void 0),v=n=o([D],v),i.default=v,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","./Lobby.Cmd":"Lobby.Cmd","./Lobby.PopupCardInfo":"Lobby.PopupCardInfo","./Lobby.PopupOTP":"Lobby.PopupOTP","./Lobby.PopupSecurity":"Lobby.PopupSecurity","./Lobby.PopupShop":"Lobby.PopupShop"}],"Lobby.PopupMission":[function(t,e,i){"use strict";cc._RF.push(e,"fb912UtkwhGZagsJkMVs33k","Lobby.PopupMission");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/App"),a=t("../../Game/src/common/BroadcastReceiver"),c=t("../../Game/src/common/Configs"),r=t("../../Game/src/common/Dialog"),l=t("../../Game/src/common/Http"),u=t("./Authorization/AuthorizationResponseData"),h=t("./Lobby.PopupSecurity"),d=t("./Mission/itemMission"),p=t("./Mission/itemX3Mission"),{ccclass:g,property:m}=cc._decorator;let f=n=class extends r.default{constructor(){super(...arguments),this.configData=null,this.scroll=null,this.instantiateNode=null,this.x3ProcessContent=null,this.missionProcessContent=null,this.missionTheLeContent=null,this.x3TheLeContent=null,this.tanThuContent=null,this.topProcessToggle=null,this.leftX3Toggle=null,this.leftTanThuToggle=null,this.leftMission=null,this.currentTab="tanthu"}static createAndShow(t,e="tanthu"){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,s.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupMission",(i,o)=>{if(this.initing=!1,null!=i)return void s.default.instance.alertDialog.showMsg(i);let a=cc.instantiate(o);a.parent=t,this.instance=a.getComponent(n),this.instance.showWithTab(e)})):this.instance.showWithTab(e))}start(){a.default.register(a.default.X3_DEPOSIT,()=>{this.leftX3Toggle.node.getChildByName("Dot").active=c.default.Login.X3Deposit.length<3,this.initX3Deposit(),this.topProcessToggle.node.getChildByName("Dot").active="x3"===this.currentTab&&c.default.Login.X3Deposit.length<3},this)}showWithTab(t){this.show(),this.toggleLeft(null,t),s.default.instance.showLoading(!0),l.default.get(c.default.App.API,{c:6027},(t,e)=>{if(s.default.instance.showLoading(!1),t)return;cc.log(e);let i=new u.UserInfoResponse(e);i.success&&(this.tanThuContent.getComponentInChildren(cc.Button).node.active=1!==i.mobileSecure)})}_onShowed(){super._onShowed(),a.default.send(a.default.X3_DEPOSIT)}toggleTop(t,e){if("x3"==this.currentTab)switch(this.scroll.content.parent.children.forEach(t=>{t.active=!1}),Number(e)){case 1:this.scroll.content=this.x3ProcessContent,this.x3ProcessContent.active=!0;break;default:this.scroll.content=this.x3TheLeContent,this.x3TheLeContent.active=!0}if("mission"==this.currentTab)switch(this.scroll.content.parent.children.forEach(t=>{t.active=!1}),Number(e)){case 1:this.scroll.content=this.missionProcessContent,this.missionProcessContent.active=!0;break;default:this.scroll.content=this.missionTheLeContent,this.missionTheLeContent.active=!0}}toggleLeft(t,e){if(t&&"mission"===t.target.name)return s.default.instance.toast.showToast("T\xednh n\u0103ng \u0111ang c\u1eadp nh\u1eadt."),void("x3"===this.currentTab?this.leftX3Toggle.isChecked=!0:this.leftTanThuToggle.isChecked=!0);switch(this.topProcessToggle.isChecked=!0,this.scroll.content.parent.children.forEach(t=>{t.active=!1}),this.currentTab=e||t.target.name,this.currentTab){case"x3":t||(this.leftX3Toggle.isChecked=!0),this.scroll.content=this.x3ProcessContent,this.x3ProcessContent.active=!0,this.topProcessToggle.node.getChildByName("Dot").active=c.default.Login.X3Deposit.length<3;break;case"tanthu":t||(this.leftTanThuToggle.isChecked=!0),this.scroll.content=this.tanThuContent,this.tanThuContent.active=!0,this.topProcessToggle.node.getChildByName("Dot").active=!1;break;case"mission":t||(this.leftMission.isChecked=!0),this.initMissionData(),this.scroll.content=this.missionProcessContent,this.missionProcessContent.active=!0,this.topProcessToggle.node.getChildByName("Dot").active=!1}}initX3Deposit(){this.x3ProcessContent.removeAllChildren();var t,e=[];(c.default.Login.X3Deposit.forEach(t=>{var i=cc.instantiate(this.instantiateNode.getChildByName("itemX3"));e.push(t.channel),i.getComponent(p.default).init(t),this.x3ProcessContent.addChild(i),i.x=0}),3!=e.length)&&(e.indexOf("bank")<0&&((t=cc.instantiate(this.instantiateNode.getChildByName("itemX3"))).getComponent(p.default).init({channel:"bank"}),this.x3ProcessContent.addChild(t),t.x=0,t.getChildByName("chargeNow").getChildByName("Dot").active=!0),e.indexOf("momo")<0&&((t=cc.instantiate(this.instantiateNode.getChildByName("itemX3"))).getComponent(p.default).init({channel:"momo"}),this.x3ProcessContent.addChild(t),t.x=0,t.getChildByName("chargeNow").getChildByName("Dot").active=!0),e.indexOf("card")<0&&((t=cc.instantiate(this.instantiateNode.getChildByName("itemX3"))).getComponent(p.default).init({channel:"card"}),this.x3ProcessContent.addChild(t),t.x=0,t.getChildByName("chargeNow").getChildByName("Dot").active=!0))}initMissionData(){this.missionProcessContent.removeAllChildren(),l.default.get(c.default.App.API,{c:6015,nn:c.default.Login.Nickname},(t,e)=>{t||(cc.log(e),e.is_success&&(e.missions=e.missions.sort((t,e)=>t.mission_type-e.mission_type),e.missions.forEach(t=>{var i=cc.instantiate(this.instantiateNode.getChildByName("itemMission"));i.getComponent(d.default).init(t,e.user_missions),this.missionProcessContent.addChild(i),i.x=0}),this.scroll.scrollToTop(.1)))})}openOTP(){h.default.createAndShow(s.default.instance.popups),this.dismiss()}showGame(t){switch(t.toLowerCase()){case"sam":s.default.instance.lobby.actGoToSam(null);break;case"bacay":s.default.instance.lobby.actGoToBaCay(null);break;case"binh":s.default.instance.lobby.actGoToMauBinh(null);break;case"tlmn":s.default.instance.lobby.actGoToTLMN(null);break;case"poker":s.default.instance.lobby.actGoToPoker(null);break;case"baicao":s.default.instance.lobby.actGoToBaiCao(null);break;case"taixiu":s.default.instance.lobby.actGameTaiXiu(null)}this.dismiss()}};f.instance=null,f.initing=!1,o([m(cc.ScrollView)],f.prototype,"scroll",void 0),o([m(cc.Node)],f.prototype,"instantiateNode",void 0),o([m(cc.Node)],f.prototype,"x3ProcessContent",void 0),o([m(cc.Node)],f.prototype,"missionProcessContent",void 0),o([m(cc.Node)],f.prototype,"missionTheLeContent",void 0),o([m(cc.Node)],f.prototype,"x3TheLeContent",void 0),o([m(cc.Node)],f.prototype,"tanThuContent",void 0),o([m(cc.Toggle)],f.prototype,"topProcessToggle",void 0),o([m(cc.Toggle)],f.prototype,"leftX3Toggle",void 0),o([m(cc.Toggle)],f.prototype,"leftTanThuToggle",void 0),o([m(cc.Toggle)],f.prototype,"leftMission",void 0),f=n=o([g],f),i.default=f,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http","./Authorization/AuthorizationResponseData":"AuthorizationResponseData","./Lobby.PopupSecurity":"Lobby.PopupSecurity","./Mission/itemMission":"itemMission","./Mission/itemX3Mission":"itemX3Mission"}],"Lobby.PopupOTP":[function(t,e,i){"use strict";cc._RF.push(e,"fdc31gbpp9OhKayhCq4JjkR","Lobby.PopupOTP");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/networks/MiniGameNetworkClient"),c=t("../../Game/src/common/App"),r=t("../../Game/src/networks/Network.InPacket"),l=t("./Lobby.Cmd"),u=t("../../Game/src/common/BroadcastReceiver"),h=t("../../Game/src/common/Configs"),{ccclass:d,property:p}=cc._decorator;let g=n=class extends s.default{constructor(){super(...arguments),this.edbCode=null,this.lblContainsBotOTPs=[]}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,c.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupOTP",(e,i)=>{if(this.initing=!1,null!=e)return void c.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.show()})):this.instance.show())}start(){for(let t=0;t<this.lblContainsBotOTPs.length;t++){let e=this.lblContainsBotOTPs[t];e.string=e.string.replace("$bot_otp","@"+h.default.App.getLinkTelegram())}a.default.getInstance().addListener(t=>{switch(new r.default(t).getCmdId()){case l.default.Code.GET_OTP:{c.default.instance.showLoading(!1);let e=new l.default.ResGetOTP(t);cc.log(e),0==e.error?c.default.instance.alertDialog.showMsg("M\xe3 OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i!"):30==e.error?c.default.instance.alertDialog.showMsg("M\u1ed7i thao t\xe1c l\u1ea5y SMS OTP ph\u1ea3i c\xe1ch nhau \xedt nh\u1ea5t 5 ph\xfat!"):c.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau!");break}case l.default.Code.SEND_OTP:{c.default.instance.showLoading(!1);let e=new l.default.ResSendOTP(t);if(cc.log(e),0!=e.error){switch(e.error){case 0:this.dismiss();break;case 1:case 2:c.default.instance.alertDialog.showMsg("Giao d\u1ecbch th\u1ea5t b\u1ea1i!"),this.dismiss();break;case 3:c.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng ch\xednh x\xe1c, vui l\xf2ng th\u1eed l\u1ea1i!");break;case 4:c.default.instance.alertDialog.showMsg("M\xe3 OTP \u0111\xe3 h\u1ebft h\u1ea1n!");break;default:c.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". Kh\xf4ng x\xe1c \u0111\u1ecbnh."),this.dismiss()}return}this.dismiss();break}case l.default.Code.INSERT_GIFTCODE:{c.default.instance.showLoading(!1);let e=new l.default.ResInsertGiftcode(t);switch(e.error){case 0:c.default.instance.alertDialog.showMsg("M\xe3 Giftcode kh\xf4ng ch\xednh x\xe1c. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!");break;case 1:c.default.instance.alertDialog.showMsg("M\xe3 Giftcode \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.");break;case 3:c.default.instance.alertDialog.showMsg("\u0110\u1ec3 nh\u1eadn giftcode vui l\xf2ng \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt.");break;case 4:case 5:case 6:c.default.instance.alertDialog.showMsg("Giftcode \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7.");break;case 2:h.default.Login.Coin=e.currentMoneyVin,u.default.send(u.default.USER_UPDATE_COIN),c.default.instance.alertDialog.showMsg("Nh\u1eadn th\u01b0\u1edfng th\xe0nh c\xf4ng.")}break}}},this)}show(){super.show(),this.edbCode.string=""}actSubmit(){let t=this.edbCode.string.trim();""!=t?(c.default.instance.showLoading(!0),a.default.getInstance().send(new l.default.ReqSendOTP(t,0))):c.default.instance.alertDialog.showMsg("M\xe3 OTP kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}actGetOTP(){c.default.instance.showLoading(!0),a.default.getInstance().send(new l.default.ReqGetOTP)}actTelegram(){c.default.instance.openTelegram()}};g.instance=null,g.initing=!1,o([p(cc.EditBox)],g.prototype,"edbCode",void 0),o([p([cc.Label])],g.prototype,"lblContainsBotOTPs",void 0),g=n=o([d],g),i.default=g,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","./Lobby.Cmd":"Lobby.Cmd"}],"Lobby.PopupProfile":[function(t,e,i){"use strict";cc._RF.push(e,"e8d07bA9C1GXpc2i+jEc0Dg","Lobby.PopupProfile");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/BroadcastReceiver"),c=t("../../Game/src/common/Utils"),r=t("../../Game/src/common/Configs"),l=t("../../Game/src/common/App"),u=t("../../Game/src/networks/MiniGameNetworkClient"),h=t("./Lobby.Cmd"),d=t("../../Game/src/networks/Network.InPacket"),p=t("./Lobby.PopupChangeAvatar"),g=t("./Authorization/Lobby.PopupChangePassword"),m=t("./Lobby.PopupShop"),f=t("./Lobby.PopupSecurity"),D=t("./Lobby.PopupTransaction"),{ccclass:b,property:C}=cc._decorator;let y=n=class extends s.default{constructor(){super(...arguments),this.lblNickname=null,this.lblCoin=null,this.lblBirthday=null,this.lblIP=null,this.lblJoinDate=null,this.spriteAvatar=null,this.lblPhoneNumber=null,this.btnPhoneNumber=null,this.progressVipPoint=null,this.arrowProgressVipPoint=null,this.lblCurrentVippoint=null,this.stepsProgressVipPoint=null,this.iconVipFrames=[],this.spriteVipPointCurrentRank=null,this.lblVipPointNameCurrentRank=null,this.lblVipPointCurrentRank=null,this.spriteVipPointNextRank=null,this.lblVipPointNameNextRank=null,this.lblVipPointNextRank=null}start(){a.default.register(a.default.USER_UPDATE_COIN,()=>{this.node.active&&(this.lblCoin.string=c.default.formatNumber(r.default.Login.Coin))},this),a.default.register(a.default.USER_INFO_UPDATED,()=>{this.node.active&&(this.spriteAvatar.spriteFrame=l.default.instance.getAvatarSpriteFrame(r.default.Login.Avatar))},this),a.default.register(a.default.USER_VIP_UPDATED,()=>{this.setVipPoint()},this),u.default.getInstance().addListener(t=>{if(this.node.active)switch(new d.default(t).getCmdId()){case h.default.Code.GET_SECURITY_INFO:{l.default.instance.showLoading(!1);let e=new h.default.ResGetSecurityInfo(t);cc.log(e),e.mobile.length>0?(this.lblPhoneNumber.node.active=!0,this.lblPhoneNumber.string="*******"+e.mobile.substring(e.mobile.length-3),this.btnPhoneNumber.active=!1):(this.lblPhoneNumber.node.active=!1,this.btnPhoneNumber.active=!0);break}case h.default.Code.GET_OTP:{if(!this.node.active)return;l.default.instance.showLoading(!1);let e=new h.default.ResGetOTP(t);cc.log(e),0==e.error?l.default.instance.alertDialog.showMsg("M\xe3 OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i!"):30==e.error?l.default.instance.alertDialog.showMsg("M\u1ed7i thao t\xe1c l\u1ea5y SMS OTP ph\u1ea3i c\xe1ch nhau \xedt nh\u1ea5t 5 ph\xfat!"):l.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau!");break}case h.default.Code.SEND_OTP:{let e=new h.default.ResSendOTP(t);switch(cc.log(e),l.default.instance.showLoading(!1),e.error){case 0:break;case 1:case 2:l.default.instance.alertDialog.showMsg("Giao d\u1ecbch th\u1ea5t b\u1ea1i!");break;case 77:case 3:l.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng ch\xednh x\xe1c, vui l\xf2ng th\u1eed l\u1ea1i!");break;case 4:l.default.instance.alertDialog.showMsg("M\xe3 OTP \u0111\xe3 h\u1ebft h\u1ea1n!");break;default:l.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". Kh\xf4ng x\xe1c \u0111\u1ecbnh.")}break}}},this)}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,l.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupProfile",(e,i)=>{if(this.initing=!1,null!=e)return void l.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show(),u.default.getInstance().send(new h.default.ReqGetSecurityInfo),this.lblNickname.string=r.default.Login.Nickname,this.lblCoin.string=c.default.formatNumber(r.default.Login.Coin),this.lblBirthday.string=""==r.default.Login.Birthday?"Ch\u01b0a c\u1eadp nh\u1eadt":r.default.Login.Birthday,this.lblIP.string=r.default.Login.IpAddress,this.lblJoinDate.string=r.default.Login.CreateTime,this.spriteAvatar.spriteFrame=l.default.instance.getAvatarSpriteFrame(r.default.Login.Avatar),this.setVipPoint()}actShowAddCoin(){this.dismiss(),m.default.createAndShow(l.default.instance.popups)}actGetOTP(){l.default.instance.showLoading(!0),u.default.getInstance().send(new h.default.ReqGetOTP)}actChangeAvatar(){p.default.createAndShow(l.default.instance.popups)}actChangePassword(){g.default.createAndShow(l.default.instance.popups)}actSecurity(){f.default.createAndShow(l.default.instance.popups)}actTransaction(){D.default.createAndShow(l.default.instance.popups)}actBack(){l.default.instance.confirmDialog.show3("B\u1ea1n c\xf3 mu\u1ed1n \u0111\u0103ng xu\u1ea5t kh\u1ecfi t\xe0i kho\u1ea3n?","\u0110\u0103ng xu\u1ea5t",t=>{t&&(a.default.send(a.default.USER_LOGOUT),this.dismiss())})}setVipPoint(){if(r.default.Login.VipPoint)if(this.spriteVipPointCurrentRank.spriteFrame=this.iconVipFrames[r.default.Login.getCurrentVipPointRank()],this.lblVipPointNameCurrentRank.string=r.default.Login.getCurrentVipPointName(),this.lblVipPointCurrentRank.string=c.default.formatMoney(r.default.Login.getMinVipPointCurrentRank()),r.default.Login.haveVipPointNextRank()){this.spriteVipPointNextRank.spriteFrame=this.iconVipFrames[r.default.Login.getCurrentVipPointRank()+1],this.lblVipPointNameNextRank.string=r.default.Login.getVipPointNameNextRank(),this.lblVipPointNextRank.string=c.default.formatMoney(r.default.Login.getMinVipPointNextRank()),this.lblCurrentVippoint.string=c.default.formatNumber(r.default.Login.getCurrentVipPoint());const t=(r.default.Login.getCurrentVipPoint()-r.default.Login.getMinVipPointCurrentRank())/(r.default.Login.getMinVipPointNextRank()-r.default.Login.getMinVipPointCurrentRank());this.progressVipPoint.getChildByName("bar").getComponent(cc.Sprite).fillRange=t,this.arrowProgressVipPoint.x=(t-.5)*this.progressVipPoint.width;const e=(r.default.Login.getMinVipPointNextRank()-r.default.Login.getMinVipPointCurrentRank())/5;this.stepsProgressVipPoint.children.forEach((t,i)=>{t.getComponentInChildren(cc.Label).string=c.default.formatMoney(i*e+r.default.Login.getMinVipPointCurrentRank())})}else this.progressVipPoint.active=!1,this.spriteVipPointNextRank.node.parent.active=!1,this.spriteVipPointCurrentRank.node.parent.x=0}};y.instance=null,y.initing=!1,o([C(cc.Label)],y.prototype,"lblNickname",void 0),o([C(cc.Label)],y.prototype,"lblCoin",void 0),o([C(cc.Label)],y.prototype,"lblBirthday",void 0),o([C(cc.Label)],y.prototype,"lblIP",void 0),o([C(cc.Label)],y.prototype,"lblJoinDate",void 0),o([C(cc.Sprite)],y.prototype,"spriteAvatar",void 0),o([C(cc.Label)],y.prototype,"lblPhoneNumber",void 0),o([C(cc.Node)],y.prototype,"btnPhoneNumber",void 0),o([C(cc.Node)],y.prototype,"progressVipPoint",void 0),o([C(cc.Node)],y.prototype,"arrowProgressVipPoint",void 0),o([C(cc.Label)],y.prototype,"lblCurrentVippoint",void 0),o([C(cc.Node)],y.prototype,"stepsProgressVipPoint",void 0),o([C([cc.SpriteFrame])],y.prototype,"iconVipFrames",void 0),o([C(cc.Sprite)],y.prototype,"spriteVipPointCurrentRank",void 0),o([C(cc.Label)],y.prototype,"lblVipPointNameCurrentRank",void 0),o([C(cc.Label)],y.prototype,"lblVipPointCurrentRank",void 0),o([C(cc.Sprite)],y.prototype,"spriteVipPointNextRank",void 0),o([C(cc.Label)],y.prototype,"lblVipPointNameNextRank",void 0),o([C(cc.Label)],y.prototype,"lblVipPointNextRank",void 0),y=n=o([b],y),i.default=y,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Utils":"Utils","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","./Authorization/Lobby.PopupChangePassword":"Lobby.PopupChangePassword","./Lobby.Cmd":"Lobby.Cmd","./Lobby.PopupChangeAvatar":"Lobby.PopupChangeAvatar","./Lobby.PopupSecurity":"Lobby.PopupSecurity","./Lobby.PopupShop":"Lobby.PopupShop","./Lobby.PopupTransaction":"Lobby.PopupTransaction"}],"Lobby.PopupRegister":[function(t,e,i){"use strict";cc._RF.push(e,"f70b5sgzlJJKpPiKlbtFiUW","Lobby.PopupRegister");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../../Game/src/common/Dialog"),s=t("../../../Game/src/common/Http"),a=t("../../../Game/src/common/Configs"),c=t("../../../Game/src/common/App"),r=t("../Lobby.PopupUpdateNickname"),l=t("./Lobby.PopupLogin"),u=t("./AuthorizationController"),h=t("../../../Game/src/common/Utils"),{ccclass:d,property:p}=cc._decorator;var g;(function(t){var e;let i=e=class extends o.default{constructor(){super(...arguments),this.edbUsername=null,this.edbPassword=null,this.edbRePassword=null,this.edbCaptcha=null,this.sprCaptcha=null,this.captchaId=""}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,c.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupRegister",(i,n)=>{if(this.initing=!1,null!=i)return void c.default.instance.alertDialog.showMsg(i);let o=cc.instantiate(n);o.parent=t,this.instance=o.getComponent(e),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show(),this.edbCaptcha.string="",this.actRefreshCaptcha()}actRegister(){let t=this.edbUsername.string.trim(),e=this.edbPassword.string,i=this.edbRePassword.string,n=this.edbCaptcha.string.trim();if(0==t.length)return void c.default.instance.alertDialog.showMsg("T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.");if(0==e.length)return void c.default.instance.alertDialog.showMsg("M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.");if(e!=i)return void c.default.instance.alertDialog.showMsg("Hai m\u1eadt kh\u1ea9u kh\xf4ng kh\u1edbp.");if(0==n.length)return void c.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.");c.default.instance.showLoading(!0);let o={un:t,pw:md5(e),captcha:n,captchaId:this.captchaId,app_id:a.default.App.UPDATE_INFO.provider,c_v:a.default.App.UPDATE_INFO.version};cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS?(o.utm_source="IOS",o.utm_medium="IOS",o.utm_term="IOS",o.utm_content="IOS",o.utm_campaign="IOS"):cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID&&(o.utm_source="ANDROID",o.utm_medium="ANDROID",o.utm_term="ANDROID",o.utm_content="ANDROID",o.utm_campaign="ANDROID"),s.default.post(a.default.App.API+"?c=1",o,(i,n)=>{if(c.default.instance.showLoading(!1),null==i){if(cc.log(n),!n.success)return this.actRefreshCaptcha(),void c.default.instance.alertDialog.showMsg(n.desc||"X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!");this.dismiss(),r.default.createAndShow(c.default.instance.popups,t,e,u.LOGIN_SOURCE.NORMAl)}else c.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})}actLoginFB(){u.AuthorizationController.getInstance().loginFacebook(()=>{this.dismiss()})}actLogin(){l.default.createAndShow(c.default.instance.popups),this.dismiss()}actRefreshCaptcha(){s.default.get(a.default.App.API,{c:124,requireLogin:!1},(t,e)=>{null==t?(this.captchaId=e.id,h.default.loadSpriteFrameFromBase64(e.img,t=>{this.sprCaptcha.spriteFrame=t})):c.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})}};i.instance=null,i.initing=!1,n([p(cc.EditBox)],i.prototype,"edbUsername",void 0),n([p(cc.EditBox)],i.prototype,"edbPassword",void 0),n([p(cc.EditBox)],i.prototype,"edbRePassword",void 0),n([p(cc.EditBox)],i.prototype,"edbCaptcha",void 0),n([p(cc.Sprite)],i.prototype,"sprCaptcha",void 0),i=e=n([d],i),t.PopupRegister=i})(g||(g={})),i.default=g.PopupRegister,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Dialog":"Dialog","../../../Game/src/common/Http":"Http","../../../Game/src/common/Utils":"Utils","../Lobby.PopupUpdateNickname":"Lobby.PopupUpdateNickname","./AuthorizationController":"AuthorizationController","./Lobby.PopupLogin":"Lobby.PopupLogin"}],"Lobby.PopupResetPassword":[function(t,e,i){"use strict";cc._RF.push(e,"04b0eBh3ABIE7l/qSw33HgN","Lobby.PopupResetPassword");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../../Game/src/common/Dialog"),a=t("../../../Game/src/common/App"),c=t("../../../Game/src/common/Http"),r=t("../../../Game/src/common/Configs"),l=t("../../../Game/src/common/SPUtils"),u=t("./AuthorizationController"),{ccclass:h,property:d}=cc._decorator;let p=n=class extends s.default{constructor(){super(...arguments),this.edbPassword=null,this.edbRePassword=null,this.username="",this.nickname="",this.accessToken=""}static createAndShow(t,e,i,o=""){null==this.instance||null==this.instance.node?a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupResetPassword",(s,a)=>{if(null!=s)return;let c=cc.instantiate(a);c.parent=t,this.instance=c.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show(),this.instance.username=e,this.instance.nickname=i,this.instance.accessToken=o}):(this.instance.node.zIndex=1e3,this.instance.show(),this.instance.username=e,this.instance.nickname=i,this.instance.accessToken=o)}show(){this.edbPassword.string="",this.edbRePassword.string="",super.show()}actSubmitResetPassword(){let t=this.edbPassword.string,e=this.edbRePassword.string;0!==t.length?0!==e.length?t===e?c.default.post(r.default.App.API+"?c=6025",{accessToken:this.accessToken,nickname:this.nickname,newPassword:md5(t)},(e,i)=>{null==e?(cc.log(i),i.success?(l.default.setUserName(this.username),l.default.setUserPass(t),u.AuthorizationController.getInstance().autoLogin(),this.dismiss()):a.default.instance.alertDialog.showMsg(i.desc||"L\u1ed7i kh\xf4ng x\xe1c \u0111\u1ecbnh.")):a.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")}):a.default.instance.alertDialog.showMsg("M\u1eadt kh\u1ea9u kh\xf4ng tr\xf9ng nhau. Vui l\xf2ng th\u1eed l\u1ea1i."):a.default.instance.alertDialog.showMsg("Vui l\xf2ng nh\u1eadp l\u1ea1i m\u1eadt kh\u1ea9u m\u1edbi."):a.default.instance.alertDialog.showMsg("Vui l\xf2ng nh\u1eadp m\u1eadt kh\u1ea9u m\u1edbi.")}};p.instance=null,o([d(cc.EditBox)],p.prototype,"edbPassword",void 0),o([d(cc.EditBox)],p.prototype,"edbRePassword",void 0),p=n=o([h],p),i.default=p,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Dialog":"Dialog","../../../Game/src/common/Http":"Http","../../../Game/src/common/SPUtils":"SPUtils","./AuthorizationController":"AuthorizationController"}],"Lobby.PopupSecurity":[function(t,e,i){"use strict";cc._RF.push(e,"0e75cAsFntKPqi/S/aghnaV","Lobby.PopupSecurity");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.TabTelegram=i.TabSafes=i.PanelSmsPlus=void 0;const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Utils"),r=t("../../Game/src/common/Configs"),l=t("../../Game/src/common/BroadcastReceiver"),u=t("../../Game/src/common/Http"),h=t("./Authorization/AuthorizationResponseData"),{ccclass:d,property:p}=cc._decorator;let g=class{constructor(){this.node=null,this.info=null,this.update=null,this.continue=null,this.infoLblUsername=null,this.infoLblPhoneNumber=null,this.infoBtnActive=null,this.infoBtnChange=null,this.updateBtnsNotActive=null,this.continueEdbOTP=null}};o([p(cc.Node)],g.prototype,"node",void 0),o([p(cc.Node)],g.prototype,"info",void 0),o([p(cc.Node)],g.prototype,"update",void 0),o([p(cc.Node)],g.prototype,"continue",void 0),o([p(cc.Label)],g.prototype,"infoLblUsername",void 0),o([p(cc.Label)],g.prototype,"infoLblPhoneNumber",void 0),o([p(cc.Button)],g.prototype,"infoBtnActive",void 0),o([p(cc.Button)],g.prototype,"infoBtnChange",void 0),o([p(cc.Node)],g.prototype,"updateBtnsNotActive",void 0),o([p(cc.EditBox)],g.prototype,"continueEdbOTP",void 0),g=o([d("Lobby.PopupSecurity.PanelSmsPlus")],g),i.PanelSmsPlus=g;let m=class{constructor(){this.node=null,this.tabs=null,this.tabContents=null,this.lblBalance=null,this.lblBalanceSafes=null,this.edbCoinNap=null,this.edbCoinRut=null,this.edbOTP=null,this.toggleAppOTP=null,this.tabSelectedIdx=0}start(){this.edbCoinRut.node.on("editing-did-ended",()=>{let t=c.default.stringToInt(this.edbCoinRut.string);this.edbCoinRut.string=c.default.formatNumber(t)}),this.edbCoinNap.node.on("editing-did-ended",()=>{let t=c.default.stringToInt(this.edbCoinNap.string);this.edbCoinNap.string=c.default.formatNumber(t)});for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("toggle",()=>{this.tabSelectedIdx=t,this.onTabChanged()})}onTabChanged(){for(let t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabSelectedIdx?255:123;switch(this.tabSelectedIdx){case 0:this.edbCoinNap.string="";break;case 1:this.edbCoinRut.string="",this.edbOTP.string=""}}};o([p(cc.Node)],m.prototype,"node",void 0),o([p(cc.ToggleContainer)],m.prototype,"tabs",void 0),o([p(cc.Node)],m.prototype,"tabContents",void 0),o([p(cc.Label)],m.prototype,"lblBalance",void 0),o([p(cc.Label)],m.prototype,"lblBalanceSafes",void 0),o([p(cc.EditBox)],m.prototype,"edbCoinNap",void 0),o([p(cc.EditBox)],m.prototype,"edbCoinRut",void 0),o([p(cc.EditBox)],m.prototype,"edbOTP",void 0),o([p(cc.Toggle)],m.prototype,"toggleAppOTP",void 0),m=o([d("Lobby.PopupSecurity.TabSafes")],m),i.TabSafes=m;let f=class{constructor(){this.settingGroup=null,this.activateGroup=null,this.tgLoginOTP=null,this.tgCashoutOTP=null,this.tgSafesOTP=null}start(){this.tgLoginOTP.isChecked=!1,this.tgCashoutOTP.isChecked=!1,this.tgSafesOTP.isChecked=!1}getSecurityStatus(){u.default.get(r.default.App.API,{c:6027},(t,e)=>{if(a.default.instance.showLoading(!1),t)return void a.default.instance.alertDialog.showMsg("C\xe0i \u0111\u1eb7t l\u1ed7i!");let i=new h.UserInfoResponse(e);cc.log(i),i.success?(this.securityData=i,this.tgLoginOTP.isChecked=this.securityData.userSettings.publicAttributes.isLoginOtp,this.settingGroup.active=1===this.securityData.mobileSecure,this.activateGroup.active=1!==this.securityData.mobileSecure):a.default.instance.alertDialog.showMsg(i.desc||i.errorCode)})}};o([p(cc.Node)],f.prototype,"settingGroup",void 0),o([p(cc.Node)],f.prototype,"activateGroup",void 0),o([p(cc.Toggle)],f.prototype,"tgLoginOTP",void 0),o([p(cc.Toggle)],f.prototype,"tgCashoutOTP",void 0),o([p(cc.Toggle)],f.prototype,"tgSafesOTP",void 0),f=o([d("Lobby.PopupSecurity.TabTelegram")],f),i.TabTelegram=f;let D=n=class extends s.default{constructor(){super(...arguments),this.tabs=null,this.tabContents=null,this.panelSmsPlus=null,this.tabSafes=null,this.lblContainsBotOTPs=[],this.tabTelegram=null,this.tabSelectedIdx=0}start(){for(let t=0;t<this.lblContainsBotOTPs.length;t++){let e=this.lblContainsBotOTPs[t];e.string=e.string.replace("$bot_otp","@"+r.default.App.getLinkTelegram())}this.tabSafes.start();for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("toggle",()=>{this.tabSelectedIdx=t,this.onTabChanged()});l.default.register(l.default.USER_UPDATE_COIN,()=>{this.tabSafes.lblBalance.string=c.default.formatNumber(r.default.Login.Coin)},this),this.tabTelegram.start()}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupSecurity",(e,i)=>{if(this.initing=!1,null!=e)return void a.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show(),this.tabSelectedIdx=0,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged(),this.tabTelegram.getSecurityStatus()}actSmsPlusInfo(){this.panelSmsPlus.info.active=!0,this.panelSmsPlus.update.active=!1,this.panelSmsPlus.continue.active=!1}actSmsPlusUpdate(){this.panelSmsPlus.info.active=!1,this.panelSmsPlus.update.active=!0,this.panelSmsPlus.continue.active=!1}showSmsPlusContinue(){this.panelSmsPlus.info.active=!1,this.panelSmsPlus.update.active=!1,this.panelSmsPlus.continue.active=!0,this.panelSmsPlus.continueEdbOTP.string=""}actSmsPlusSubmitUpdateUserInfo(){}actSmsPlusSubmitUpdatePhoneNumber(){}actSmsPlusSubmitContinuePhoneNumber(){0!=this.panelSmsPlus.continueEdbOTP.string.trim().length?a.default.instance.showLoading(!0):a.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng.")}actSmsPlusActivePhone(){a.default.instance.showLoading(!0)}actSubmitSafesNap(){c.default.stringToInt(this.tabSafes.edbCoinNap.string)<=0?a.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n giao d\u1ecbch kh\xf4ng h\u1ee3p l\u1ec7."):a.default.instance.showLoading(!0)}actSubmitSafesRut(){let t=c.default.stringToInt(this.tabSafes.edbCoinRut.string),e=this.tabSafes.edbOTP.string;t<=0?a.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n giao d\u1ecbch kh\xf4ng h\u1ee3p l\u1ec7."):0!=e.length?a.default.instance.showLoading(!0):a.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c OTP kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng.")}actGetOTP(){a.default.instance.openTelegram(r.default.App.TELE_OTP)}actTelegram(){a.default.instance.openTelegram()}onTabChanged(){for(let t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabSelectedIdx?255:123;switch(this.tabSelectedIdx){case 0:break;case 1:case 2:a.default.instance.toast.showToast("T\xednh n\u0103ng \u0111ang t\u1ea1m kh\xf3a."),this.tabSelectedIdx=0,this.tabs.toggleItems[0].isChecked=!0,this.onTabChanged()}}onToggleLoginOTP(t){let e=t.isChecked;a.default.instance.showLoading(!0),u.default.post(r.default.App.API+"?c=6026",{settingType:"LOGIN_OTP",value:""+e},(t,e)=>{a.default.instance.showLoading(!1),t?a.default.instance.alertDialog.showMsg("C\xe0i \u0111\u1eb7t l\u1ed7i!"):(cc.log(e),e.desc&&a.default.instance.alertDialog.showMsg(e.desc))})}onToggleCashoutOTP(t){a.default.instance.toast.showToast("T\xednh n\u0103ng \u0111ang t\u1ea1m kh\xf3a."),t.isChecked=!1}onToggleSafesOTP(t){a.default.instance.toast.showToast("T\xednh n\u0103ng \u0111ang t\u1ea1m kh\xf3a."),t.isChecked=!1}activateTelegram(){a.default.instance.openTelegram(),this.dismiss()}};D.instance=null,D.initing=!1,o([p(cc.ToggleContainer)],D.prototype,"tabs",void 0),o([p(cc.Node)],D.prototype,"tabContents",void 0),o([p(g)],D.prototype,"panelSmsPlus",void 0),o([p(m)],D.prototype,"tabSafes",void 0),o([p([cc.Label])],D.prototype,"lblContainsBotOTPs",void 0),o([p(f)],D.prototype,"tabTelegram",void 0),D=n=o([d],D),i.default=D,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http","../../Game/src/common/Utils":"Utils","./Authorization/AuthorizationResponseData":"AuthorizationResponseData"}],"Lobby.PopupSetting":[function(t,e,i){"use strict";cc._RF.push(e,"b88a0XjpYtPJa3XtIieO8I2","Lobby.PopupSetting");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/BroadcastReceiver"),a=t("../../Game/src/common/SPUtils"),c=t("../../Game/src/common/App"),r=t("./Lobby.PopupMailBox"),l=t("../../Game/src/common/Configs"),u=t("./Lobby.PopupCommunity"),h=t("./Lobby.PopupMission"),{ccclass:d,property:p}=cc._decorator;let g=n=class extends cc.Component{constructor(){super(...arguments),this.panel=null,this.toggleMusic=null,this.toggleSound=null,this.animation=null,this.notiMission=null,this.animate=!1}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,c.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupSetting",(e,i)=>{if(this.initing=!1,null!=e)return void c.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}start(){s.default.send(s.default.SET_SOUND,this.node),this.toggleMusic.node.on("toggle",()=>{a.default.setMusicVolumn(this.toggleMusic.isChecked?1:0),s.default.send(s.default.ON_AUDIO_CHANGED)}),this.toggleSound.node.on("toggle",()=>{a.default.setSoundVolumn(this.toggleSound.isChecked?1:0),s.default.send(s.default.ON_AUDIO_CHANGED)}),this.animation.node.on("toggle",()=>{a.default.setShowAnim(this.animation.isChecked?"true":"false"),s.default.send(s.default.ON_SHOW_ANIM_CHANGED)}),this.toggleMusic.isChecked=a.default.getMusicVolumn()>0,this.toggleSound.isChecked=a.default.getSoundVolumn()>0,this.toggleMusic.isChecked="true"==a.default.getShowAnim(),s.default.register(s.default.X3_DEPOSIT,()=>{this.notiMission.active=l.default.Login.X3Deposit.length<3},this),s.default.send(s.default.X3_DEPOSIT)}show(){this.animate||(this.animate=!0,this.node.active=!0,this.panel.active=!0,this.panel.stopAllActions(),this.panel.scaleY=0,this.panel.runAction(cc.sequence(cc.scaleTo(.2,1).easing(cc.easeBackOut()),cc.callFunc(()=>{this.animate=!1}))))}dismiss(){this.animate||(this.animate=!0,this.panel.stopAllActions(),this.panel.runAction(cc.sequence(cc.scaleTo(.2,1,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this.node.active=!1,this.panel.active=!1,this.animate=!1}))))}actMailBox(){l.default.Login.IsLogin?(r.default.createAndShow(c.default.instance.popups),this.dismiss()):c.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actCommunity(){u.default.createAndShow(c.default.instance.popups),this.dismiss()}actOTP(){c.default.instance.openTelegram(),this.dismiss()}actEventMission(){l.default.Login.IsLogin?(r.default.createAndShow(c.default.instance.popups,!0),this.dismiss()):c.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}actMission(t,e){l.default.Login.IsLogin?(h.default.createAndShow(c.default.instance.popups,e),this.dismiss()):c.default.instance.alertDialog.showMsg("B\u1ea1n ch\u01b0a \u0111\u0103ng nh\u1eadp.")}};g.instance=null,g.initing=!1,o([p(cc.Node)],g.prototype,"panel",void 0),o([p(cc.Toggle)],g.prototype,"toggleMusic",void 0),o([p(cc.Toggle)],g.prototype,"toggleSound",void 0),o([p(cc.Toggle)],g.prototype,"animation",void 0),o([p(cc.Node)],g.prototype,"notiMission",void 0),g=n=o([d],g),i.default=g,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/SPUtils":"SPUtils","./Lobby.PopupCommunity":"Lobby.PopupCommunity","./Lobby.PopupMailBox":"Lobby.PopupMailBox","./Lobby.PopupMission":"Lobby.PopupMission"}],"Lobby.PopupShop":[function(t,e,i){"use strict";cc._RF.push(e,"f799d8RfyVPQ6kTX/5FYaW1","Lobby.PopupShop");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.TabGiftcode=i.TabBank=i.TabMomo=i.TabBitCoin=i.TabTransfer=i.TabNapThe=void 0;const s=t("../../Game/src/common/Dialog"),a=t("./Lobby.Cmd"),c=t("../../Game/src/networks/Network.InPacket"),r=t("../../Game/src/networks/MiniGameNetworkClient"),l=t("../../Game/src/common/Dropdown"),u=t("../../Game/src/common/Configs"),h=t("../../Game/src/common/App"),d=t("../../Game/src/common/Http"),p=t("../../Game/src/common/Utils"),g=t("../../Game/src/common/BroadcastReceiver"),m=t("../../Game/src/networks/ShootFishNetworkClient"),f=t("../../Game/src/common/Constants"),D=t("../../Game/src/common/SPUtils"),b=t("./Lobby.DropdownBank"),C=t("./Lobby.DropdownTelco"),y=t("../../Game/src/common/ErrorLogger"),{ccclass:v,property:w}=cc._decorator;let A=class{constructor(){this.dropdownTelco=null,this.btnDropdownTelco=null,this.dropdownAmount=null,this.edbCode=null,this.edbSerial=null,this.listFactor=null,this.itemRate=null,this.telcoValues=[],this.fillCardData=null}setCardData(t,e){let i=[];this.telcoValues=[];for(let[o,s]of t){if(s.type!==u.default.App.REWARD_TYPE.CARD)continue;i.push(o);let t={moneys:[],golds:[],ids:[]};s.items.forEach(e=>{t.moneys.push(p.default.formatNumber(e.money)),t.golds.push(p.default.formatNumber(e.gold)),t.ids.push(e.id)}),this.telcoValues.push(t)}if(this.dropdownTelco.setOptions(i),this.dropdownTelco.setOnValueChange(t=>{if(t>=0){this.dropdownAmount.setOptions(this.telcoValues[t].moneys),this.listFactor.removeAllChildren(),this.itemRate.active=!1;let e=this.telcoValues[t];for(let t=0;t<e.moneys.length;t++){let i=cc.instantiate(this.itemRate);i.x=0,i.parent=this.listFactor,i.getChildByName("menhgia").getComponent(cc.Label).string=e.moneys[t],i.getChildByName("nhan").getComponent(cc.Label).string=e.golds[t],i.active=!0}this.btnDropdownTelco.getChildByName("lblTelco").active=!1,this.btnDropdownTelco.getChildByName("currentTelco").active=!0}else this.dropdownAmount.setOptions([]),this.btnDropdownTelco.getChildByName("lblTelco").active=!0,this.btnDropdownTelco.getChildByName("currentTelco").active=!1;this.dropdownAmount.setValue(-1),this.dropdownAmount.label.string="Ch\u1ecdn m\u1ec7nh gi\xe1"}),this.dropdownTelco.setValue(-1),this.fillCardData){var n=null;e.forEach(t=>{t.id==this.fillCardData.provider&&(n=t)}),n&&i.forEach((t,e)=>{t.toLowerCase()==n.image.toLowerCase()&&(this.dropdownTelco.setValue(e),this.dropdownAmount.setOptions(this.telcoValues[e].moneys),this.telcoValues[e].moneys.forEach((t,e)=>{Number(t.replace(/\./g,""))==n.money&&this.dropdownAmount.setValue(e)}))}),this.edbCode.string=this.fillCardData.pin,this.edbSerial.string=this.fillCardData.serial,this.fillCardData=null}}reset(){this.dropdownTelco.setValue(-1),this.edbCode.string="",this.edbSerial.string=""}submit(){let t=this.dropdownTelco.getValue(),e=this.dropdownAmount.getValue(),i=this.edbCode.string.trim(),n=this.edbSerial.string.trim();if(-1!=t)if(-1!=e)if(""==i||parseInt(i)<=0||isNaN(parseInt(i)))h.default.instance.alertDialog.showMsg("M\xe3 th\u1ebb kh\xf4ng h\u1ee3p l\u1ec7.");else if(""==n||parseInt(n)<=0||isNaN(parseInt(n)))h.default.instance.alertDialog.showMsg("M\xe3 serial kh\xf4ng h\u1ee3p l\u1ec7.");else{h.default.instance.showLoading(!0);var o={c:6008,un:u.default.Login.Username,request_id:this.telcoValues[t].ids[e],pin:i,serial:n};d.default.get(u.default.App.API,o,(t,e)=>{if(h.default.instance.showLoading(!1),null!=t)return h.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Telco cashin",JSON.stringify(t));cc.log(e),e.is_success||y.ErrorLogger.sendLogError("Error","Telco cashin",JSON.stringify(e)),h.default.instance.alertDialog.showMsg(e.desc),this.reset()})}else h.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn m\u1ec7nh gi\xe1.");else h.default.instance.alertDialog.showMsg("Vui l\xf2ng ch\u1ecdn nh\xe0 m\u1ea1ng.")}fillCard(t){this.fillCardData=t}};o([w(C.default)],A.prototype,"dropdownTelco",void 0),o([w(cc.Node)],A.prototype,"btnDropdownTelco",void 0),o([w(l.default)],A.prototype,"dropdownAmount",void 0),o([w(cc.EditBox)],A.prototype,"edbCode",void 0),o([w(cc.EditBox)],A.prototype,"edbSerial",void 0),o([w(cc.Node)],A.prototype,"listFactor",void 0),o([w(cc.Node)],A.prototype,"itemRate",void 0),A=o([v("Lobby.PopupShop.TabNapThe")],A),i.TabNapThe=A;let E=class{constructor(){this.panelContent=null,this.panelContinue=null,this.lblBalance=null,this.lblFee=null,this.lblReceive=null,this.lblDaiLy=null,this.lblNote=null,this.edbNickname=null,this.edbCoinTransfer=null,this.edbNote=null,this.edbOTP=null,this.ratioTransfer=u.default.App.SERVER_CONFIG.ratioTransfer}start(){this.edbCoinTransfer.node.on("editing-did-ended",()=>{let t=p.default.stringToInt(this.edbCoinTransfer.string);this.edbCoinTransfer.string=p.default.formatNumber(t),this.lblReceive.string=p.default.formatNumber(Math.round(this.ratioTransfer*t))}),this.edbNickname.node.on("editing-did-ended",()=>{let t=this.edbNickname.string.trim();""!=t&&(h.default.instance.showLoading(!0),r.default.getInstance().send(new a.default.ReqCheckNicknameTransfer(t)))})}reset(){this.panelContent.active=!0,this.panelContinue.active=!1,this.lblDaiLy.node.active=!1,this.lblFee.string="0",this.lblBalance.string=p.default.formatNumber(u.default.Login.Coin),this.lblReceive.string="0",this.edbNickname.string=D.default.getNicknameTransfer(),this.edbNote.string="",this.edbCoinTransfer.string="",this.lblNote.string=this.lblNote.string.replace("%s",Math.round(100*(1-this.ratioTransfer))+"%"),this.lblFee.string=Math.round(100*(1-this.ratioTransfer))+"%"}continue(){let t=this.edbNickname.string.trim(),e=p.default.stringToInt(this.edbCoinTransfer.string),i=this.edbNote.string.trim();""!=t?t!==u.default.Login.Nickname?""!=i?e<1e4?h.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n giao d\u1ecbch ph\u1ea3i l\u1edbn h\u01a1n ho\u1eb7c b\u1eb1ng 10.000."):e>u.default.Login.Coin?h.default.instance.alertDialog.showMsg("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7."):h.default.instance.confirmDialog.show2('B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n chuy\u1ec3n cho\nT\xe0i kho\u1ea3n: "'+t+'" (Kh\xf4ng ph\u1ea3i \u0110.L\xfd)\nS\u1ed1 ti\u1ec1n: '+this.edbCoinTransfer.string+"\nL\xfd do: "+i,n=>{n&&(h.default.instance.showLoading(!0),r.default.getInstance().send(new a.default.ReqTransferCoin(t,e,i,"")))}):h.default.instance.alertDialog.showMsg("L\xfd do chuy\u1ec3n kho\u1ea3n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):h.default.instance.alertDialog.showMsg("Nickname ng\u01b0\u1eddi nh\u1eadn tr\xf9ng v\u1edbi ng\u01b0\u1eddi g\u1eedi."):h.default.instance.alertDialog.showMsg("Nickname kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}};o([w(cc.Node)],E.prototype,"panelContent",void 0),o([w(cc.Node)],E.prototype,"panelContinue",void 0),o([w(cc.Label)],E.prototype,"lblBalance",void 0),o([w(cc.Label)],E.prototype,"lblFee",void 0),o([w(cc.Label)],E.prototype,"lblReceive",void 0),o([w(cc.Label)],E.prototype,"lblDaiLy",void 0),o([w(cc.Label)],E.prototype,"lblNote",void 0),o([w(cc.EditBox)],E.prototype,"edbNickname",void 0),o([w(cc.EditBox)],E.prototype,"edbCoinTransfer",void 0),o([w(cc.EditBox)],E.prototype,"edbNote",void 0),o([w(cc.EditBox)],E.prototype,"edbOTP",void 0),E=o([v("Lobby.PopupShop.TabTransfer")],E),i.TabTransfer=E;let L=class{constructor(){this.edbAddress=null,this.dropdownMoneyType=null,this.moneyTypes=["","BTC","LTC","ETH","TUSD","USDC","USDT.ERC20"],this.moneyTypesName=["Ch\u1ecdn lo\u1ea1i ti\u1ec1n","BTC","LTC","ETH","TUSD","USDC","USDT"],this.address=""}start(t){this.edbAddress.node.on("editing-did-ended",()=>{this.edbAddress.string=this.address}),this.dropdownMoneyType.setOptions(this.moneyTypesName),this.dropdownMoneyType.setOnValueChange(e=>{this.edbAddress.string="",0!=e?(this.edbAddress.placeholder="\u0110ang t\u1ea3i...",h.default.instance.showLoading(!0),m.default.getInstance().request("getbtcaddress",{coin:this.moneyTypes[e]},t=>{h.default.instance.showLoading(!1),200==t.code?(this.address=t.data.result.address,u.default.Login.BitcoinToken=this.edbAddress.string=this.address):this.edbAddress.placeholder="L\u1ed7i r\u1ed3i, vui l\xf2ng th\u1eed l\u1ea1i sau."},t)):this.edbAddress.placeholder="Vui l\xf2ng ch\u1ecdn lo\u1ea1i ti\u1ec1n."}),this.dropdownMoneyType.setValue(0),this.edbAddress.string="",this.edbAddress.placeholder="Vui l\xf2ng ch\u1ecdn lo\u1ea1i ti\u1ec1n."}};o([w(cc.EditBox)],L.prototype,"edbAddress",void 0),o([w(l.default)],L.prototype,"dropdownMoneyType",void 0),L=o([v("Lobby.PopupShop.TabBitCoin")],L),i.TabBitCoin=L;let N=class{constructor(){this.listMomo=null,this.momoItem=null,this.lbContent=null,this.listFactor=null,this.itemRate=null,this.nodeHelpMomo=null,this.noti=null,this.viDienTuSelect=null,this.currentViDienTu=null,this.walletIcons=[],this.walletValues=null,this.recharges=null,this.resMomo={accounts:[],send_content:""},this.resZaloPay={accounts:[],send_content:""},this.resViettelPay={accounts:[],send_content:""}}setWalletData(t){this.recharges=t,this.setWalletByType(u.default.App.REWARD_TYPE.MOMO)}setWalletValueByType(t){this.walletValues={moneys:[],golds:[],ids:[]};for(let[e,i]of this.recharges)i.type==t&&i.items.forEach(t=>{this.walletValues.moneys.push(p.default.formatNumber(t.money)),this.walletValues.golds.push(p.default.formatNumber(t.gold)),this.walletValues.ids.push(t.id)});this.listFactor.removeAllChildren(),this.itemRate.active=!1;for(let e=0;e<this.walletValues.moneys.length;e++){let t=cc.instantiate(this.itemRate);t.x=0,t.parent=this.listFactor,t.getChildByName("menhgia").getComponent(cc.Label).string=this.walletValues.moneys[e],t.getChildByName("nhan").getComponent(cc.Label).string=this.walletValues.golds[e],t.active=!0}}setListShipper(t){this.resMomo=t,this.listMomo.removeAllPages(),this.momoItem.active=!1,t.accounts.forEach(t=>{let e=cc.instantiate(this.momoItem);e.getChildByName("lblPhoneNumber").getComponent(cc.Label).string=t.phone,e.getChildByName("lblAccountName").getComponent(cc.Label).string=t.name,e.getChildByName("btnCopySDT").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.phone)}),e.getChildByName("btnCopyTTK").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.name)}),e.active=!0,e.y=0,this.listMomo.addPage(e)}),this.lbContent.string=t.send_content,this.lbContent.node.getChildByName("btnCopyContent").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(this.resMomo.send_content)})}setViDienTu(t){this.resZaloPay.accounts=[],this.resZaloPay.send_content=t.send_content,t.accounts.forEach(t=>{"ZALOPAY"==t.bankShortName&&this.resZaloPay.accounts.push(t)}),this.resViettelPay.accounts=[],this.resViettelPay.send_content=t.send_content,t.accounts.forEach(t=>{"VIETTELPAY"==t.bankShortName&&this.resViettelPay.accounts.push(t)})}setWalletByType(t){const e=Array.from(this.recharges.values()).map(t=>t.type).indexOf(t)>=0;switch(this.lbContent.node.parent.active=e,this.noti.active=!e,t){case u.default.App.REWARD_TYPE.MOMO:this.currentViDienTu.spriteFrame=this.walletIcons[0],this.listMomo.removeAllPages(),this.momoItem.active=!1,this.resMomo.accounts.forEach(t=>{let e=cc.instantiate(this.momoItem);e.getChildByName("lblPhoneNumber").getComponent(cc.Label).string=t.phone,e.getChildByName("lblAccountName").getComponent(cc.Label).string=t.name,e.getChildByName("btnCopySDT").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.phone)}),e.getChildByName("btnCopyTTK").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.name)}),e.active=!0,e.y=0,this.listMomo.addPage(e)}),this.lbContent.string=this.resMomo.send_content,this.lbContent.node.getChildByName("btnCopyContent").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(this.resMomo.send_content)}),this.setWalletValueByType(u.default.App.REWARD_TYPE.MOMO);break;case u.default.App.REWARD_TYPE.ZALOPAY:this.currentViDienTu.spriteFrame=this.walletIcons[2],this.listMomo.removeAllPages(),this.momoItem.active=!1,this.resZaloPay.accounts.forEach(t=>{let e=cc.instantiate(this.momoItem);e.getChildByName("lbl sdt momo").getComponent(cc.Label).string="S\u1ed1 t\xe0i kho\u1ea3n",e.getChildByName("lblPhoneNumber").getComponent(cc.Label).string=t.accNo,e.getChildByName("lblAccountName").getComponent(cc.Label).string=t.accName,e.getChildByName("btnCopySDT").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.accNo)}),e.getChildByName("btnCopyTTK").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.accName)}),e.active=!0,e.y=0,this.listMomo.addPage(e)}),this.lbContent.string=this.resZaloPay.send_content,this.lbContent.node.getChildByName("btnCopyContent").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(this.resZaloPay.send_content)}),this.setWalletValueByType(u.default.App.REWARD_TYPE.ZALOPAY);break;case u.default.App.REWARD_TYPE.VIETTELPAY:this.currentViDienTu.spriteFrame=this.walletIcons[1],this.listMomo.removeAllPages(),this.momoItem.active=!1,this.resViettelPay.accounts.forEach(t=>{let e=cc.instantiate(this.momoItem);e.getChildByName("lbl sdt momo").getComponent(cc.Label).string="S\u1ed1 t\xe0i kho\u1ea3n",e.getChildByName("lblPhoneNumber").getComponent(cc.Label).string=t.accNo,e.getChildByName("lblAccountName").getComponent(cc.Label).string=t.accName,e.getChildByName("btnCopySDT").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.accNo)}),e.getChildByName("btnCopyTTK").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(t.accName)}),e.active=!0,e.y=0,this.listMomo.addPage(e)}),this.lbContent.string=this.resViettelPay.send_content,this.lbContent.node.getChildByName("btnCopyContent").on(cc.Node.EventType.TOUCH_START,()=>{p.default.copyToClipboard(this.resZaloPay.send_content)}),this.setWalletValueByType(u.default.App.REWARD_TYPE.VIETTELPAY)}}onClickShowHideHelpMomo(t,e){this.nodeHelpMomo.stopAllActions(),"1"===e?(this.nodeHelpMomo.active=!0,this.nodeHelpMomo.scale=0,this.nodeHelpMomo.runAction(cc.scaleTo(.2,1).easing(cc.easeBackOut()))):this.nodeHelpMomo.runAction(cc.sequence(cc.scaleTo(.2,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this.nodeHelpMomo.active=!1})))}showWalletPanel(){this.viDienTuSelect.active?this.viDienTuSelect.runAction(cc.sequence(cc.scaleTo(.2,1,0),cc.callFunc(t=>{t.active=!1}))):(this.viDienTuSelect.scaleY=0,this.viDienTuSelect.active=!0,this.viDienTuSelect.runAction(cc.scaleTo(.2,1,1)))}onChangeViDienTu(t){this.viDienTuSelect.runAction(cc.sequence(cc.scaleTo(.2,1,0),cc.callFunc(t=>{t.active=!1}))),this.setWalletByType(t)}};o([w(cc.PageView)],N.prototype,"listMomo",void 0),o([w(cc.Node)],N.prototype,"momoItem",void 0),o([w(cc.Label)],N.prototype,"lbContent",void 0),o([w(cc.Node)],N.prototype,"listFactor",void 0),o([w(cc.Node)],N.prototype,"itemRate",void 0),o([w(cc.Node)],N.prototype,"nodeHelpMomo",void 0),o([w(cc.Node)],N.prototype,"noti",void 0),o([w(cc.Node)],N.prototype,"viDienTuSelect",void 0),o([w(cc.Sprite)],N.prototype,"currentViDienTu",void 0),o([w([cc.SpriteFrame])],N.prototype,"walletIcons",void 0),N=o([v("Lobby.PopupShop.TabMomo")],N),i.TabMomo=N;let k=class{constructor(){this.itemBanker=null,this.dropdownBank=null,this.btnDropdownBank=null,this.edbAmount=null,this.edbMobile=null,this.edbCode=null,this.listFactor=null,this.itemRate=null,this.nodeHelpBank=null}setBankRate(t){let e={moneys:[],golds:[],ids:[]};for(let[i,n]of t)n.type==u.default.App.REWARD_TYPE.BANK&&n.items.forEach(t=>{e.moneys.push(p.default.formatNumber(t.money)),e.golds.push(p.default.formatNumber(t.gold)),e.ids.push(t.id)});this.listFactor.removeAllChildren(),this.itemRate.active=!1;for(let i=0;i<e.moneys.length;i++){let t=cc.instantiate(this.itemRate);t.x=0,t.parent=this.listFactor,t.getChildByName("menhgia").getComponent(cc.Label).string=e.moneys[i],t.getChildByName("nhan").getComponent(cc.Label).string=e.golds[i],t.active=!0}}setListBank(t){this.itemBanker.getChildByName("lbaccno").getComponent(cc.Label).string="S\u1ed1 t\xe0i kho\u1ea3n",this.itemBanker.getChildByName("lbaccname").getComponent(cc.Label).string="T\xean t\xe0i kho\u1ea3n",this.itemBanker.getChildByName("lbcontent").getComponent(cc.Label).string="N\u1ed9i dung chuy\u1ec3n kho\u1ea3n",this.dropdownBank.setOptions(t.accounts),this.dropdownBank.setOnValueChange(e=>{e>=0?(this.btnDropdownBank.getChildByName("lblDropdown").active=!1,this.btnDropdownBank.getChildByName("currentBank").active=!0,this.itemBanker.getChildByName("lbaccno").getComponent(cc.Label).string=t.accounts[e].accNo,this.itemBanker.getChildByName("lbaccname").getComponent(cc.Label).string=t.accounts[e].accName,this.itemBanker.getChildByName("lbcontent").getComponent(cc.Label).string=t.send_content):(this.btnDropdownBank.getChildByName("lblDropdown").active=!0,this.btnDropdownBank.getChildByName("currentBank").active=!1,this.itemBanker.getChildByName("lbaccno").getComponent(cc.Label).string="S\u1ed1 t\xe0i kho\u1ea3n",this.itemBanker.getChildByName("lbaccname").getComponent(cc.Label).string="T\xean t\xe0i kho\u1ea3n",this.itemBanker.getChildByName("lbcontent").getComponent(cc.Label).string="N\u1ed9i dung chuy\u1ec3n kho\u1ea3n")}),this.dropdownBank.setValue(-1)}copySTK(){p.default.copyToClipboard(this.itemBanker.getChildByName("lbaccno").getComponent(cc.Label).string)}copyTTK(){p.default.copyToClipboard(this.itemBanker.getChildByName("lbaccname").getComponent(cc.Label).string)}copyContent(){p.default.copyToClipboard(this.itemBanker.getChildByName("lbcontent").getComponent(cc.Label).string)}onClickShowHideHelpBank(t,e){this.nodeHelpBank.stopAllActions(),"1"===e?(this.nodeHelpBank.active=!0,this.nodeHelpBank.scale=0,this.nodeHelpBank.runAction(cc.scaleTo(.2,1).easing(cc.easeBackOut()))):this.nodeHelpBank.runAction(cc.sequence(cc.scaleTo(.2,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this.nodeHelpBank.active=!1})))}submit(){let t=this.edbAmount.string.trim(),e=this.edbMobile.string.trim(),i=this.edbCode.string.trim();if(""==t||parseInt(t)<=0||isNaN(parseInt(t)))h.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n kh\xf4ng h\u1ee3p l\u1ec7.");else if(""==e||parseInt(e)<=0||isNaN(parseInt(e)))h.default.instance.alertDialog.showMsg("S\u1ed1 \u0111i\u1ec7n tho\u1ea1i kh\xf4ng h\u1ee3p l\u1ec7.");else if(""==i||parseInt(i)<=0||isNaN(parseInt(i)))h.default.instance.alertDialog.showMsg("M\xe3 giao d\u1ecbch kh\xf4ng h\u1ee3p l\u1ec7.");else{h.default.instance.showLoading(!0);var n={c:6008,un:u.default.Login.Username,amount:t,mobile:e,code:i};d.default.get(u.default.App.API,n,(t,e)=>{if(h.default.instance.showLoading(!1),null!=t)return h.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Bank cashin",JSON.stringify(t));e.is_success||y.ErrorLogger.sendLogError("Error","Bank cashin",JSON.stringify(e)),h.default.instance.alertDialog.showMsg(e.desc),this.reset()})}}reset(){this.edbAmount.string="",this.edbMobile.string="",this.edbCode.string=""}};o([w(cc.Node)],k.prototype,"itemBanker",void 0),o([w(b.default)],k.prototype,"dropdownBank",void 0),o([w(cc.Node)],k.prototype,"btnDropdownBank",void 0),o([w(cc.EditBox)],k.prototype,"edbAmount",void 0),o([w(cc.EditBox)],k.prototype,"edbMobile",void 0),o([w(cc.EditBox)],k.prototype,"edbCode",void 0),o([w(cc.Node)],k.prototype,"listFactor",void 0),o([w(cc.Node)],k.prototype,"itemRate",void 0),o([w(cc.Node)],k.prototype,"nodeHelpBank",void 0),k=o([v("Lobby.PopupShop.TabBank")],k),i.TabBank=k;let P=class{constructor(){this.edbCode=null}reset(){this.edbCode.string=""}setGiftCode(t){this.edbCode.string=t||""}submit(){let t=this.edbCode.string.trim();""!=t?(h.default.instance.showLoading(!0),r.default.getInstance().send(new a.default.ReqInsertGiftcode(t))):h.default.instance.alertDialog.showMsg("Giftcode kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}};o([w(cc.EditBox)],P.prototype,"edbCode",void 0),P=o([v("Lobby.PopupShop.TabGiftcode")],P),i.TabGiftcode=P;let T=n=class extends s.default{constructor(){super(...arguments),this.tabs=null,this.tabContents=null,this.tabNapThe=null,this.tabTransfer=null,this.tabBitCoin=null,this.tabMomo=null,this.tabBank=null,this.tabGiftcode=null,this.lblContainsBotOTPs=[],this.tabSelectedIdx=0,this.rechargeByProvider=new Map,this.shipperData=null,this.bankerData=null}start(){for(let t=0;t<this.lblContainsBotOTPs.length;t++){let e=this.lblContainsBotOTPs[t];e.string=e.string.replace("$bot_otp","@"+u.default.App.getLinkTelegram())}for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("toggle",()=>{this.tabSelectedIdx=t,this.onTabChanged()});r.default.getInstance().addListener(t=>{switch(new c.default(t).getCmdId()){case a.default.Code.DEPOSIT_CARD:{h.default.instance.showLoading(!1);let e=new a.default.ResDepositCard(t);switch(e.error){case 0:h.default.instance.alertDialog.showMsg("N\u1ea1p th\u1ebb th\xe0nh c\xf4ng."),u.default.Login.Coin=e.currentMoney,g.default.send(g.default.USER_UPDATE_COIN);break;case 30:this.tabNapThe.reset(),h.default.instance.alertDialog.showMsg("H\u1ec7 th\u1ed1ng \u0111\xe3 ghi nh\u1eadn giao d\u1ecbch, vui l\xf2ng ch\u1edd h\u1ec7 th\u1ed1ng x\u1eed l\xfd.");break;case 31:h.default.instance.alertDialog.showMsg("Th\u1ebb \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.");break;case 32:h.default.instance.alertDialog.showMsg("Th\u1ebb \u0111\xe3 b\u1ecb kh\xf3a.");break;case 33:h.default.instance.alertDialog.showMsg("Th\u1ebb ch\u01b0a \u0111\u01b0\u1ee3c k\xedch ho\u1ea1t.");break;case 34:h.default.instance.alertDialog.showMsg("Th\u1ebb \u0111\xe3 h\u1ebft h\u1ea1n s\u1eed d\u1ee5ng.");break;case 35:h.default.instance.alertDialog.showMsg("M\xe3 th\u1ebb kh\xf4ng \u0111\xfang.");break;case 36:h.default.instance.alertDialog.showMsg("S\u1ed1 serial kh\xf4ng \u0111\xfang.");break;case 8:h.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n \u0111\xe3 b\u1ecb kh\xf3a n\u1ea1p th\u1ebb do n\u1ea1p sai qu\xe1 nhi\u1ec1u l\u1ea7n! Th\u1eddi gian kh\xf3a n\u1ea1p th\u1ebb c\xf2n l\u1ea1i: "+this.longToTime(e.timeFail));break;default:h.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". Kh\xf4ng x\xe1c \u0111\u1ecbnh.")}break}case a.default.Code.CHECK_NICKNAME_TRANSFER:{h.default.instance.showLoading(!1);let e=new a.default.ResCheckNicknameTransfer(t);if(0==e.error){this.tabTransfer.edbNickname.string="",h.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n kh\xf4ng t\u1ed3n t\u1ea1i.");break}this.tabTransfer.lblDaiLy.node.active=1==e.type||2==e.type,this.tabTransfer.lblFee.string=e.fee+"%",this.tabTransfer.ratioTransfer=(100-e.fee)/100;break}case a.default.Code.TRANSFER_COIN:{h.default.instance.showLoading(!1);let e=new a.default.ResTransferCoin(t);switch(cc.log(e),e.error){case 0:u.default.Login.Coin=e.moneyUse,g.default.send(g.default.USER_UPDATE_COIN),h.default.instance.alertDialog.showMsg("Giao d\u1ecbch chuy\u1ec3n kho\u1ea3n th\xe0nh c\xf4ng!"),D.default.setNicknameTransfer(this.tabTransfer.edbNickname.string);break;case 2:h.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n t\u1ed1i thi\u1ec3u l\xe0 10.000.");break;case 3:h.default.instance.actiontDialog.showMsgWithAction("Ch\u1ee9c n\u0103ng ch\u1ec9 d\xe0nh cho nh\u1eefng t\xe0i kho\u1ea3n \u0111\u0103ng k\xfd b\u1ea3o m\u1eadt.","K\xcdCH HO\u1ea0T NGAY",()=>{h.default.instance.openTelegram()});break;case 4:h.default.instance.alertDialog.showMsg("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.");break;case 5:h.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n b\u1ecb c\u1ea5m chuy\u1ec3n ti\u1ec1n.");break;case 6:h.default.instance.alertDialog.showMsg("Nickname nh\u1eadn kh\xf4ng t\u1ed3n t\u1ea1i.");break;case 10:h.default.instance.alertDialog.showMsg("Ch\u1ee9c n\u0103ng b\u1ea3o m\u1eadt s\u1ebd t\u1ef1 \u0111\u1ed9ng k\xedch ho\u1ea1t sau 24h k\u1ec3 t\u1eeb th\u1eddi \u0111i\u1ec3m \u0111\u0103ng k\xfd th\xe0nh c\xf4ng!");break;case 11:h.default.instance.alertDialog.showMsg("B\u1ea1n ch\u1ec9 \u0111\u01b0\u1ee3c chuy\u1ec3n cho \u0110\u1ea1i l\xfd t\u1ed5ng trong kho\u1ea3ng ti\u1ec1n quy \u0111\u1ecbnh!");break;case 22:let t=e.desc||e.error.toString();e.actions.length>0?h.default.instance.actiontDialog.showMsgWithAction(t,f.UserActions.toName(e.actions[0]).toUpperCase(),()=>{h.default.instance.navigateByAction(e.actions[0])}):h.default.instance.alertDialog.showMsg(t)}this.tabTransfer.reset();break}case a.default.Code.GET_OTP:{if(!this.node.active)return;h.default.instance.showLoading(!1);let e=new a.default.ResGetOTP(t);0==e.error?h.default.instance.alertDialog.showMsg("M\xe3 OTP \u0111\xe3 \u0111\u01b0\u1ee3c g\u1eedi \u0111i!"):30==e.error?h.default.instance.alertDialog.showMsg("M\u1ed7i thao t\xe1c l\u1ea5y SMS OTP ph\u1ea3i c\xe1ch nhau \xedt nh\u1ea5t 5 ph\xfat!"):h.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng vui l\xf2ng th\u1eed l\u1ea1i sau!");break}case a.default.Code.SEND_OTP:{let e=new a.default.ResSendOTP(t);if(0!=e.error){switch(h.default.instance.showLoading(!1),e.error){case 1:case 2:h.default.instance.alertDialog.showMsg("Giao d\u1ecbch th\u1ea5t b\u1ea1i!");break;case 3:h.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng ch\xednh x\xe1c, vui l\xf2ng th\u1eed l\u1ea1i!");break;case 4:h.default.instance.alertDialog.showMsg("M\xe3 OTP \u0111\xe3 h\u1ebft h\u1ea1n!");break;default:h.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". Kh\xf4ng x\xe1c \u0111\u1ecbnh.")}return}h.default.instance.showLoading(!0);break}case a.default.Code.RESULT_TRANSFER_COIN:{if(!this.node.active)return;h.default.instance.showLoading(!1);let e=new a.default.ResResultTransferCoin(t);switch(e.error){case 0:u.default.Login.Coin=e.currentMoney,g.default.send(g.default.USER_UPDATE_COIN),h.default.instance.alertDialog.showMsg("Giao d\u1ecbch chuy\u1ec3n kho\u1ea3n th\xe0nh c\xf4ng!");break;default:h.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+". vui l\xf2ng th\u1eed l\u1ea1i sau.")}this.tabTransfer.reset();break}case a.default.Code.INSERT_GIFTCODE:{h.default.instance.showLoading(!1);let e=new a.default.ResInsertGiftcode(t);switch(e.error){case 0:h.default.instance.alertDialog.showMsg("M\xe3 Giftcode kh\xf4ng ch\xednh x\xe1c. Vui l\xf2ng ki\u1ec3m tra l\u1ea1i!");break;case 1:h.default.instance.alertDialog.showMsg("M\xe3 Giftcode \u0111\xe3 \u0111\u01b0\u1ee3c s\u1eed d\u1ee5ng.");break;case 2:u.default.Login.Coin=e.currentMoneyVin,g.default.send(g.default.USER_UPDATE_COIN),h.default.instance.alertDialog.showMsg("Nh\u1eadn th\u01b0\u1edfng th\xe0nh c\xf4ng.");break;case 3:h.default.instance.actiontDialog.showMsgWithAction("\u0110\u1ec3 nh\u1eadn giftcode vui l\xf2ng k\xedch ho\u1ea1t b\u1ea3o m\u1eadt.","K\xcdCH HO\u1ea0T NGAY",()=>{h.default.instance.openTelegram()});break;case 4:case 5:case 6:h.default.instance.alertDialog.showMsg("Giftcode \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7.")}break}}},this),this.tabTransfer.start()}onTabChanged(t=-1){t>-1&&(this.tabSelectedIdx=t);for(let e=0;e<this.tabContents.childrenCount;e++)this.tabContents.children[e].active=e==this.tabSelectedIdx;switch(this.tabSelectedIdx){case 0:this.tabNapThe.reset();break;case 1:this.tabTransfer.reset();break;case 2:!this.shipperData||this.shipperData.is_success&&0!==this.shipperData.accounts.length||h.default.instance.alertDialog.showMsg("N\u1ea1p Momo \u0111ang t\u1ea1m kh\xf3a.");break;case 3:!this.bankerData||this.bankerData.is_success&&0!==this.bankerData.accounts.length||h.default.instance.alertDialog.showMsg("N\u1ea1p ng\xe2n h\xe0ng \u0111ang t\u1ea1m kh\xf3a.");break;case 4:this.tabGiftcode.reset();break;case 5:this.tabBitCoin.start(this)}}longToTime(t){return t/60+" gi\u1edd "+t%60+" ph\xfat"}static createAndShow(t,e=null,i=3){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,h.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupShop",(o,s)=>{if(this.initing=!1,null!=o)return void h.default.instance.alertDialog.showMsg(o);let a=cc.instantiate(s);a.parent=t,this.instance=a.getComponent(n),this.instance.node.zIndex=1e3,this.instance.tabSelectedIdx=i,this.instance.show(),e&&e()})):(this.instance.node.zIndex=1e3,this.instance.tabSelectedIdx=i,this.instance.show(),e&&e()))}static createAndShowWithGiftcode(t,e=null){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,h.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupShop",(i,o)=>{if(this.initing=!1,null!=i)return void h.default.instance.alertDialog.showMsg(i);let s=cc.instantiate(o);s.parent=t,this.instance=s.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show(),this.instance.onTabChanged(4),this.instance.tabGiftcode.setGiftCode(e)})):(this.instance.node.zIndex=1e3,this.instance.show(),this.instance.onTabChanged(4),this.instance.tabGiftcode.setGiftCode(e)))}show(){super.show(),this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged(),this.getCashInCfg(),this.getListShipper(),this.getListBanker()}dismiss(){this.shipperData=null,this.bankerData=null,super.dismiss()}static createAndShowWithTransfer(t,e=null){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,h.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupShop",(i,o)=>{if(this.initing=!1,null!=i)return void h.default.instance.alertDialog.showMsg(i);let s=cc.instantiate(o);s.parent=t,this.instance=s.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show(),this.instance.onTabChanged(1),null!=e&&(this.instance.tabTransfer.edbNickname.string=e,h.default.instance.showLoading(!0),r.default.getInstance().send(new a.default.ReqCheckNicknameTransfer(e)))})):(this.instance.node.zIndex=1e3,this.instance.show(),this.instance.onTabChanged(1),null!=e&&(this.instance.tabTransfer.edbNickname.string=e,h.default.instance.showLoading(!0),r.default.getInstance().send(new a.default.ReqCheckNicknameTransfer(e)))))}actSubmitNapThe(){this.tabNapThe.submit()}actContinueTransfer(){this.tabTransfer.continue()}actGetOTP(){h.default.instance.showLoading(!0),d.default.get(u.default.App.API,{c:16,nn:u.default.Login.Nickname},(t,e)=>{if(h.default.instance.showLoading(!1),t)return h.default.instance.alertDialog.showMsg("L\u1ea5y OTP l\u1ed7i."),void y.ErrorLogger.sendLogError("Http request error","Get OTP",JSON.stringify(t));cc.log(e)})}actSubmitTransfer(){let t=this.tabTransfer.edbOTP.string.trim();if(0==t.length)return void h.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c b\u1ecf tr\u1ed1ng.");h.default.instance.showLoading(!0);let e=this.tabTransfer.edbNickname.string.trim(),i=p.default.stringToInt(this.tabTransfer.edbCoinTransfer.string),n=this.tabTransfer.edbNote.string.trim();r.default.getInstance().send(new a.default.ReqTransferCoin(e,i,n,t))}actSubmitNapMomo(){}actSubmitNapNganHang(){this.tabBank.submit()}actFillCardData(t){this.tabNapThe.fillCard(t)}copySTK(){this.tabBank.copySTK()}copyTTK(){this.tabBank.copyTTK()}copyContent(){this.tabBank.copyContent()}onClickShowHideHelpBank(t,e){this.tabBank.onClickShowHideHelpBank(t,e)}onClickShowHideHelpMomo(t,e){this.tabMomo.onClickShowHideHelpMomo(t,e)}getCashInCfg(){h.default.instance.showLoading(!0),d.default.get(u.default.App.API,{c:6006},(t,e)=>{if(h.default.instance.showLoading(!1),null!=t)return h.default.instance.alertDialog.showMsg("Thao t\xe1c kh\xf4ng th\xe0nh c\xf4ng, vui l\xf2ng th\u1eed l\u1ea1i sau."),void y.ErrorLogger.sendLogError("Http request error","Cashin config",JSON.stringify(t));cc.log(e),this.onCashInCfgDone(e)})}onCashInCfgDone(t){this.rechargeByProvider=new Map,t.forEach(t=>{t.provider=this.getProvider(t.provider),void 0===this.rechargeByProvider.get(t.provider)?this.rechargeByProvider.set(t.provider,{type:t.type,items:[t]}):this.rechargeByProvider.get(t.provider).items.push(t)}),this.tabNapThe.setCardData(this.rechargeByProvider,t),this.tabMomo.setWalletData(this.rechargeByProvider),this.tabBank.setBankRate(this.rechargeByProvider)}changeViDienTu(){this.tabMomo.showWalletPanel()}onChangeViDienTu(t,e){this.tabMomo.onChangeViDienTu(parseInt(e))}getProvider(t){var e="";switch(t){case"MOBI":case"MOBIFONE":case"VMS":e="VMS";break;case"VINA":case"VINAPHONE":case"VNP":e="VNP";break;case"VT":case"VTT":case"VTE":case"VIETTEL":e="VTT";break;default:e=t.toUpperCase()}return e}getListShipper(){h.default.instance.showLoading(!0);var t={c:6004,un:u.default.Login.Username};d.default.get(u.default.App.API,t,(t,e)=>{if(h.default.instance.showLoading(!1),null==t){if(cc.log(e),this.shipperData=e,!e.is_success)return y.ErrorLogger.sendLogError("Error","Get list shipper cashin",JSON.stringify(e)),void(!this.bankerData||this.bankerData.is_success&&this.bankerData.accounts.length>0?this.tabs.toggleItems[3].getComponent(cc.Toggle).check():h.default.instance.alertDialog.showMsg("N\u1ea1p Momo \u0111ang t\u1ea1m kh\xf3a."));this.tabMomo.setListShipper(e)}else y.ErrorLogger.sendLogError("Http request error","Get list shipper cashin",JSON.stringify(t))})}getListBanker(){h.default.instance.showLoading(!0);var t={c:6005,un:u.default.Login.Username};d.default.get(u.default.App.API,t,(t,e)=>{if(h.default.instance.showLoading(!1),null==t){if(cc.log(e),this.bankerData=e,!e.is_success)return y.ErrorLogger.sendLogError("Error","Get list banker cashin",JSON.stringify(e)),void(!this.shipperData||this.shipperData.is_success&&this.shipperData.accounts.length>0?this.tabs.toggleItems[2].getComponent(cc.Toggle).check():h.default.instance.alertDialog.showMsg("N\u1ea1p ng\xe2n h\xe0ng \u0111ang t\u1ea1m kh\xf3a."));this.tabBank.setListBank(e)}else y.ErrorLogger.sendLogError("Http request error","Get list banker cashin",JSON.stringify(t))})}actSubmitGiftcode(){this.tabGiftcode.submit()}};T.instance=null,T.initing=!1,o([w(cc.ToggleContainer)],T.prototype,"tabs",void 0),o([w(cc.Node)],T.prototype,"tabContents",void 0),o([w(A)],T.prototype,"tabNapThe",void 0),o([w(E)],T.prototype,"tabTransfer",void 0),o([w(L)],T.prototype,"tabBitCoin",void 0),o([w(N)],T.prototype,"tabMomo",void 0),o([w(k)],T.prototype,"tabBank",void 0),o([w(P)],T.prototype,"tabGiftcode",void 0),o([w([cc.Label])],T.prototype,"lblContainsBotOTPs",void 0),T=n=o([v],T),i.default=T,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Constants":"Constants","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Dropdown":"Dropdown","../../Game/src/common/ErrorLogger":"ErrorLogger","../../Game/src/common/Http":"Http","../../Game/src/common/SPUtils":"SPUtils","../../Game/src/common/Utils":"Utils","../../Game/src/networks/MiniGameNetworkClient":"MiniGameNetworkClient","../../Game/src/networks/Network.InPacket":"Network.InPacket","../../Game/src/networks/ShootFishNetworkClient":"ShootFishNetworkClient","./Lobby.Cmd":"Lobby.Cmd","./Lobby.DropdownBank":"Lobby.DropdownBank","./Lobby.DropdownTelco":"Lobby.DropdownTelco"}],"Lobby.PopupTransaction":[function(t,e,i){"use strict";cc._RF.push(e,"4b73fN7osxHRJLHaaKoYUQR","Lobby.PopupTransaction");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Game/src/common/Dialog"),a=t("../../Game/src/common/App"),c=t("../../Game/src/common/Http"),r=t("../../Game/src/common/Configs"),l=t("../../Game/src/common/Utils"),{ccclass:u,property:h}=cc._decorator;var d,p;(function(t){t[t.GAME_PENDING=0]="GAME_PENDING",t[t.SUCCESS=2]="SUCCESS",t[t.REJECT=3]="REJECT",t[t.ERROR=4]="ERROR",t[t.GATE_PENDING=5]="GATE_PENDING"})(d||(d={})),function(t){t.CashOutRequestByCard="\u0110\u1ed5i th\u1ebb",t.CashOutByCard="\u0110\u1ed5i th\u1ebb",t.CashOutRequestByBank="R\xfat bank",t.CashOutByBank="R\xfat bank",t.TransferMoney="Chuy\u1ec3n kho\u1ea3n",t.CashOutByTopUp="Top Up",t.Admin="Admin",t.NapXu="N\u1ea1p Xu",t.ChargeSMS="Charge SMS",t.GcAgent="GcAgent",t.GcAgentExport="GcAgentExport",t.CashOutRequestByMomo="R\xfat Momo",t.CashOutByMomo="R\xfat Momo",t.CashOutRequestByCoin="Coin",t.CashOutByCoin="Coin"}(p||(p={}));let g=n=class extends s.default{constructor(){super(...arguments),this.tabs=null,this.lblPage=null,this.itemTemplate=null,this.page=1,this.maxPage=1,this.items=new Array,this.tabSelectedIdx=0,this.cashoutConfig=null}start(){for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("toggle",()=>{this.tabSelectedIdx=t,this.updateTabsTitleColor(),this.page=1,this.loadData()});this.getCashOutCfg()}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,a.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupTransaction",(e,i)=>{if(this.initing=!1,null!=e)return void a.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.node.zIndex=1e3,this.instance.show()})):(this.instance.node.zIndex=1e3,this.instance.show()))}show(){super.show(),this.tabSelectedIdx=0,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0;for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}actNextPage(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}actPrevPage(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData())}updateTabsTitleColor(){for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabSelectedIdx?255:123}loadData(){a.default.instance.showLoading(!0);let t=null;switch(this.tabSelectedIdx){case 0:t={c:302,nn:r.default.Login.Nickname,mt:r.default.App.MONEY_TYPE,p:this.page};break;case 1:t={c:302,nn:r.default.Login.Nickname,mt:3,p:this.page};break;case 2:t={c:302,nn:r.default.Login.Nickname,mt:5,p:this.page}}c.default.get(r.default.App.API,t,(t,e)=>{if(a.default.instance.showLoading(!1),null==t&&(cc.log(e),e.success)){if(0==this.items.length){for(var i=0;i<10;i++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}this.maxPage=e.totalPages,this.lblPage.string=this.page+"/"+this.maxPage;for(let t=0;t<this.items.length;t++){let i=this.items[t];if(t<e.transactions.length){let n=e.transactions[t];i.getChildByName("bg").opacity=t%2==0?10:0,i.getChildByName("Trans").getComponent(cc.Label).string=n.transId,i.getChildByName("Time").getComponent(cc.Label).string=n.transactionTime,i.getChildByName("Coin").getComponent(cc.Label).string=(n.moneyExchange>0?"+":"")+l.default.formatNumber(n.moneyExchange),i.getChildByName("Balance").getComponent(cc.Label).string=l.default.formatNumber(n.currentMoney);let o=i.getChildByName("DescBtn"),s=i.getChildByName("Service").getComponent(cc.Label),c=i.getChildByName("Desc").getComponent(cc.Label);if(2==this.tabSelectedIdx){o.active=!1,c.node.active=!0;let t=JSON.parse(n.additionalData),e="",i=p[n.actionName];if(t){let o=t.status;switch(o){case d.SUCCESS:e="Th\xe0nh c\xf4ng";break;case d.REJECT:e="T\u1eeb Ch\u1ed1i";break;case d.ERROR:e="L\u1ed7i";break;case d.GAME_PENDING:case d.GATE_PENDING:e="\u0110ang ch\u1edd ph\xea duy\u1ec7t";break;default:e=o+""}if(("CashOutRequestByCard"==n.actionName||"CashOutByCard"==n.actionName)&&this.cashoutConfig){let e=t.itemId;switch(this.cashoutConfig.find(t=>t.id==e).provider){case"VTT":i+=" Viettel";break;case"VINA":i+=" Vinaphone";break;case"VMS":i+=" Mobifone"}}}else{let t=n.description.toLowerCase();t.includes("viettel")?i+=" Viettel":t.includes("vinaphone")?i+=" Vinaphone":t.includes("mobifone")&&(i+=" Mobifone")}c.string=e,s.string=i}else o.active=!0,c.node.active=!1,s.string=this.mappingGameName(n.serviceName),o.on(cc.Node.EventType.TOUCH_START,()=>{a.default.instance.alertDialog.showMsg(this.mappingGameName(n.description))});i.active=!0}else i.active=!1}}})}getCashOutCfg(){c.default.get(r.default.App.API,{c:6002},(t,e)=>{null==t?this.cashoutConfig=e:cc.log("L\u1ea5y c\u1ea5u h\xecnh cashout l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau.")})}mappingGameName(t){var e={"kho b\xe1u":"Sonic","kho bau":"Sonic","n\u1eef \u0111i\u1ec7p vi\xean":"Super Sayan","nu diep vien":"Super Sayan","si\xeau anh h\xf9ng":"Pirate King","sieu anh hung":"Pirate King","v\u01b0\u01a1ng qu\u1ed1c vin":"B.Bee","vuong quoc vin":"B.Bee","th\u1ed5 d\xe2n":"B.Bee","tho dan":"B.Bee","kim c\u01b0\u01a1ng":"Mario","kim cuong":"Mario",pokego:"Mario"};return(t=t.toLowerCase().replace(/kho b\xe1u|kho bau|n\u1eef \u0111i\u1ec7p vi\xean|nu diep vien|si\xeau anh h\xf9ng|sieu anh hung|v\u01b0\u01a1ng qu\u1ed1c vin|vuong quoc vin|th\u1ed5 d\xe2n|tho dan|kim c\u01b0\u01a1ng|kim cuong|pokego/gi,function(t){return e[t]})).charAt(0).toUpperCase()+t.slice(1)}};g.instance=null,g.initing=!1,o([h(cc.ToggleContainer)],g.prototype,"tabs",void 0),o([h(cc.Label)],g.prototype,"lblPage",void 0),o([h(cc.Node)],g.prototype,"itemTemplate",void 0),g=n=o([u],g),i.default=g,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http","../../Game/src/common/Utils":"Utils"}],"Lobby.PopupUpdateNickname":[function(t,e,i){"use strict";cc._RF.push(e,"98fa6a8u0NFcqDx+oNqZYCw","Lobby.PopupUpdateNickname");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/common/Dialog"),s=t("../../Game/src/common/App"),a=t("../../Game/src/common/Http"),c=t("../../Game/src/common/Configs"),r=t("../../Game/src/common/BroadcastReceiver"),l=t("./Authorization/AuthorizationController"),u=t("../../Game/src/common/Utils"),{ccclass:h,property:d}=cc._decorator;var p;(function(t){var e;let i=e=class extends o.default{constructor(){super(...arguments),this.edbNickname=null,this.edbCaptcha=null,this.sprCaptcha=null,this.username="",this.password="",this.source="",this.token="",this.telegramAuthData=null,this.captchaId=""}static createAndShow(t,i,n,o=null,a=null,c=null){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,s.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupUpdateNickname",(r,l)=>{if(this.initing=!1,null!=r)return void s.default.instance.alertDialog.showMsg(r);let u=cc.instantiate(l);u.parent=t,this.instance=u.getComponent(e),this.instance.node.zIndex=1001,this.instance.show2(i,n,o,a,c)})):(this.instance.node.zIndex=1001,this.instance.show2(i,n,o,a,c)))}show(){super.show(),this.edbNickname.string=""}show2(t,e,i="",n="",o=null){this.show(),this.username=t,this.password=e,this.source=i,this.token=n,this.telegramAuthData=o,this.edbCaptcha.string="",i===l.LOGIN_SOURCE.PLAY_NOW?(this.actRefreshCaptcha(),this.edbCaptcha.node.parent.active=!0,this.edbCaptcha.node.parent.parent.getComponent(cc.Layout).spacingY=30):(this.edbCaptcha.node.parent.active=!1,this.edbCaptcha.node.parent.parent.getComponent(cc.Layout).spacingY=50)}actUpdate(){let t=this.edbNickname.string.trim(),e=this.edbCaptcha.string.trim();0!=t.length?this.source!==l.LOGIN_SOURCE.PLAY_NOW||0!=e.length?(s.default.instance.showLoading(!0),a.default.post(c.default.App.API+"?c=5",{username:this.username,password:md5(this.password),nickname:t,s:this.source,socialAccessToken:this.token,telegramUser:this.telegramAuthData,captcha:e,captchaId:this.captchaId},(t,e)=>{if(cc.log(JSON.stringify(e)),s.default.instance.showLoading(!1),null==t)if(e.success)this.dismiss(),r.default.send(r.default.UPDATE_NICKNAME_SUCCESS,{username:this.username,password:this.password,s:this.source,at:this.token}),l.AuthorizationController.getInstance().onUpdateNicknameSuccess(this.username,this.password,this.source,this.token,this.telegramAuthData);else{switch(parseInt(e.errorCode)){case 1001:s.default.instance.alertDialog.showMsg("M\u1ea5t k\u1ebft n\u1ed1i \u0111\u1ebfn Server!");break;case 1005:s.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n kh\xf4ng t\u1ed3n t\u1ea1i.");break;case 1007:s.default.instance.alertDialog.showMsg("M\u1eadt kh\u1ea9u kh\xf4ng ch\xednh x\xe1c.");break;case 1109:s.default.instance.alertDialog.showMsg("T\xe0i kho\u1ea3n \u0111\xe3 b\u1ecb kh\xf3a.");break;case 106:s.default.instance.alertDialog.showMsg("T\xean hi\u1ec3n th\u1ecb kh\xf4ng h\u1ee3p l\u1ec7.");break;case 1010:case 1013:s.default.instance.alertDialog.showMsg("T\xean hi\u1ec3n th\u1ecb \u0111\xe3 t\u1ed3n t\u1ea1i.");break;case 1011:s.default.instance.alertDialog.showMsg("T\xean hi\u1ec3n th\u1ecb kh\xf4n \u0111\u01b0\u1ee3c tr\xf9ng v\u1edbi t\xean \u0111\u0103ng nh\u1eadp.");break;case 116:s.default.instance.alertDialog.showMsg("Kh\xf4ng ch\u1ecdn t\xean hi\u1ec3n th\u1ecb nh\u1ea1y c\u1ea3m.");break;case 1114:s.default.instance.alertDialog.showMsg("H\u1ec7 th\u1ed1ng \u0111ang b\u1ea3o tr\xec. Vui l\xf2ng quay tr\u1edf l\u1ea1i sau!");break;default:s.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")}this.actRefreshCaptcha()}else s.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})):s.default.instance.alertDialog.showMsg("M\xe3 x\xe1c th\u1ef1c kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng."):s.default.instance.alertDialog.showMsg("T\xean hi\u1ec3n th\u1ecb kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}actRefreshCaptcha(){a.default.get(c.default.App.API,{c:124,requireLogin:!1},(t,e)=>{null==t?(this.captchaId=e.id,u.default.loadSpriteFrameFromBase64(e.img,t=>{this.sprCaptcha.spriteFrame=t})):s.default.instance.alertDialog.showMsg("X\u1ea3y ra l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i sau!")})}};i.instance=null,i.initing=!1,n([d(cc.EditBox)],i.prototype,"edbNickname",void 0),n([d(cc.EditBox)],i.prototype,"edbCaptcha",void 0),n([d(cc.Sprite)],i.prototype,"sprCaptcha",void 0),i=e=n([h],i),t.PopupUpdateNickname=i})(p||(p={})),i.default=p.PopupUpdateNickname,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/Configs":"Configs","../../Game/src/common/Dialog":"Dialog","../../Game/src/common/Http":"Http","../../Game/src/common/Utils":"Utils","./Authorization/AuthorizationController":"AuthorizationController"}],"Lobby.PopupVippointRankUp":[function(t,e,i){"use strict";cc._RF.push(e,"7f4d7rbGZtMfKg7g4lI1Rz3","Lobby.PopupVippointRankUp");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../../Game/src/common/App"),a=t("../../../Game/src/common/Common.AudioManager"),c=t("../../../Game/src/common/Dialog"),r=t("./Lobby.PopupVippoint"),{ccclass:l,property:u}=cc._decorator;let h=n=class extends c.default{constructor(){super(...arguments),this.rank=null,this.soundUpVip=null}static createAndShow(t,e){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,s.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupVippointRankUp",(i,o)=>{if(this.initing=!1,null!=i)return void s.default.instance.alertDialog.showMsg(i);let a=cc.instantiate(o);a.parent=t,this.instance=a.getComponent(n),this.instance.showWithRank(e)})):this.instance.showWithRank(e))}showWithRank(t){this.rank.setSkin("viip"+t),this.rank.setAnimation(0,"animation",!0),a.default.getInstance().playEffect(this.soundUpVip,.7),this.show()}actOpenVippoint(){this.dismiss(),r.default.createAndShow(s.default.instance.popups)}};h.instance=null,h.initing=!1,o([u(sp.Skeleton)],h.prototype,"rank",void 0),o([u(cc.AudioClip)],h.prototype,"soundUpVip",void 0),h=n=o([l],h),i.default=h,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/Common.AudioManager":"Common.AudioManager","../../../Game/src/common/Dialog":"Dialog","./Lobby.PopupVippoint":"Lobby.PopupVippoint"}],"Lobby.PopupVippoint":[function(t,e,i){"use strict";cc._RF.push(e,"82031JdYzNB+JzQwhozUdB7","Lobby.PopupVippoint");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../../Game/src/common/App"),a=t("../../../Game/src/common/Configs"),c=t("../../../Game/src/common/Constants"),r=t("../../../Game/src/common/Dialog"),l=t("../../../Game/src/common/ErrorLogger"),u=t("../../../Game/src/common/Http"),h=t("../../../Game/src/common/Utils"),d=t("../Authorization/AuthorizationResponseData"),p=t("./Lobby.VippointItem"),g=t("./VippointDTO"),{ccclass:m,property:f}=cc._decorator;let D=n=class extends r.default{constructor(){super(...arguments),this.tabs=null,this.tabContents=null,this.progressVipPoint=null,this.arrowProgressVipPoint=null,this.lblCurrentVippoint=null,this.stepsProgressVipPoint=null,this.iconVipFrames=[],this.spriteVipPointCurrentRank=null,this.lblVipPointNameCurrentrank=null,this.lblVipPointCurrentRank=null,this.spriteVipPointNextRank=null,this.lblVipPointNameNextRank=null,this.lblVipPointNextRank=null,this.vippointListScroll=null,this.vippointItemTemplate=null,this.tabSelectedIdx=0,this.userVippointRewards=[],this.tabHistorys=null,this.tabHistoryContents=null,this.scrollAddVippointHistory=null,this.addVippointHistoryItem=null,this.lbAddVippointPage=null,this.scrollBenefitHistory=null,this.benefitHistoryItem=null,this.lbbenefitPage=null,this.scrollTopvip=null,this.topvipItem=null,this.iconTopvipRanks=[],this.vipNames=null,this.scrollGuide=null,this.tabHistorySelectedIdx=0,this.vippointHistoryPageSize=10,this.addVippointHistoryPageIdx=1,this.benefitHistoryPageIdx=1}static createAndShow(t){this.initing||(null==this.instance||null==this.instance.node?(this.initing=!0,s.default.instance.loadPrefab("Lobby/res/prefabs/popups/PopupVippoint",(e,i)=>{if(this.initing=!1,null!=e)return void s.default.instance.alertDialog.showMsg(e);let o=cc.instantiate(i);o.parent=t,this.instance=o.getComponent(n),this.instance.show()})):this.instance.show())}start(){super.start();for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("click",()=>{this.tabSelectedIdx=t,this.onTabChanged()});for(let t=0;t<this.tabHistorys.toggleItems.length;t++)this.tabHistorys.toggleItems[t].node.on("click",()=>{this.tabHistorySelectedIdx=t,this.onTabHistoryChanged()})}onTabChanged(){for(let t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabSelectedIdx?255:123;switch(this.tabSelectedIdx){case 0:break;case 1:this.tabHistorySelectedIdx=0,this.tabHistorys.toggleItems[this.tabHistorySelectedIdx].isChecked=!0,this.onTabHistoryChanged();break;case 2:this.getTopvip()}}onTabHistoryChanged(){for(let t=0;t<this.tabHistoryContents.childrenCount;t++)this.tabHistoryContents.children[t].active=t==this.tabHistorySelectedIdx;for(let t=0;t<this.tabHistorys.toggleItems.length;t++)this.tabHistorys.toggleItems[t].node.getComponentInChildren(cc.Label).node.opacity=t==this.tabHistorySelectedIdx?255:123;switch(this.tabHistorySelectedIdx){case 0:this.benefitHistoryPageIdx=1,this.getBenefitHistory();break;case 1:this.addVippointHistoryPageIdx=1,this.getAddVippointHistory(this.addVippointHistoryPageIdx)}}show(){super.show(),this.userVippointRewards=null,this.getUserInfo(),this.tabSelectedIdx=0,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged()}getUserInfo(){u.default.get(a.default.App.API,{c:6027},(t,e)=>{if(s.default.instance.showLoading(!1),t)return void s.default.instance.alertDialog.showMsg("L\u1ed7i!");cc.log(e);const i=new d.UserInfoResponse(e);cc.log(i),this.userVippointRewards=i.userVippointRewards,a.default.Login.getVipPointInfo(()=>{this.setVipPointInfo()})})}setVipPointInfo(){try{const e=a.default.Login.VipPoint.currentVippointRank,i=a.default.Login.VipPoint.vippointRankDetail[e+1];if(this.spriteVipPointCurrentRank.spriteFrame=this.iconVipFrames[e],this.lblVipPointNameCurrentrank.string=a.default.Login.VipPoint.vippointRankDetail[e].name,this.lblVipPointCurrentRank.string=h.default.formatNumber(a.default.Login.VipPoint.vippointRankDetail[e].minVippoint),i){const t=(a.default.Login.VipPoint.vippoint-a.default.Login.VipPoint.vippointRankDetail[e].minVippoint)/(i.minVippoint-a.default.Login.VipPoint.vippointRankDetail[e].minVippoint);this.progressVipPoint.getChildByName("bar").getComponent(cc.Sprite).fillRange=t,this.arrowProgressVipPoint.x=(t-.5)*this.progressVipPoint.width,this.lblCurrentVippoint.string=h.default.formatNumber(a.default.Login.VipPoint.vippoint);const n=(i.minVippoint-a.default.Login.VipPoint.vippointRankDetail[e].minVippoint)/5;this.stepsProgressVipPoint.children.forEach((t,i)=>{t.getComponentInChildren(cc.Label).string=h.default.formatMoney(i*n+a.default.Login.VipPoint.vippointRankDetail[e].minVippoint)}),this.spriteVipPointNextRank.spriteFrame=this.iconVipFrames[i.id],this.lblVipPointNameNextRank.string=i.name,this.lblVipPointNextRank.string=h.default.formatNumber(i.minVippoint)}else this.progressVipPoint.active=!1,this.spriteVipPointNextRank.node.parent.active=!1,this.spriteVipPointCurrentRank.node.parent.x=0;let n="";this.vippointListScroll.content.removeAllChildren();for(let t=0;t<a.default.Login.VipPoint.vippointRankDetail.length;t++){let e=cc.instantiate(this.vippointItemTemplate);e.parent=this.vippointListScroll.content,e.x=0,e.active=!0,e.getComponent(p.default).setVippointRankDetail(t,a.default.Login.VipPoint,this.userVippointRewards,this);let i="";a.default.Login.VipPoint.vippointRankDetail[t].listVipBenefits.forEach((t,e)=>{const n=a.default.Login.VipPoint.benefitDetail.find(e=>e.name===t);if(n){let t=n.award?isNaN(parseInt(n.award))?n.award:h.default.formatNumber(parseInt(n.award)):"";i+=(i&&e>0&&t?", ":"")+t}}),n+="+ "+a.default.Login.VipPoint.vippointRankDetail[t].name+":  "+(i||"0")+"\n"}this.vippointListScroll.scrollToTop(0),this.vippointListScroll.scrollToOffset(cc.v2(0,(a.default.Login.VipPoint.vippointRankDetail.length-e-4.1)*this.vippointItemTemplate.height),.5);const o=a.default.Login.VipPoint.vippointEarnSourceConfigs.find(t=>t.action===c.UserActions.ENUM.PLAY_GAME).rate;this.scrollGuide.content.getComponent(cc.Label).string=cc.js.formatStr("1. VIP l\xe0 g\xec? VIP l\xe0 ch\u01b0\u01a1ng tr\xecnh tri \xe2n th\u01b0\u1eddng xuy\xean d\xe0nh cho t\u1ea5t c\u1ea3 m\u1ecdi kh\xe1ch h\xe0ng \u0111\xe3 ch\u01a1i tr\xean c\u1ed5ng game WIN365\n\n2. Khi l\xean c\u1ea5p VIP t\xf4i s\u1ebd nh\u1eadn \u0111\u01b0\u1ee3c nh\u1eefng ph\u1ea7n qu\xe0 g\xec? B\u1ea1n s\u1ebd c\xf3 c\xe1c ph\u1ea7n qu\xe0 v\xe0 quy\u1ec1n l\u1ee3i nh\u01b0 sau:\n+ \u0110\u01b0\u1ee3c nh\u1eadn th\u01b0\u1edfng theo t\u1eebng c\u1ea5p VIP (m\u1ee5c 5).\n+ T\u0103ng gi\u1edbi h\u1ea1n chuy\u1ec3n ti\u1ec1n trong ng\xe0y.\n+ \u0110\u01b0\u1ee3c quy\u1ec1n \u01b0u ti\xean th\xf4ng b\xe1o v\u1ec1 c\xe1c ho\u1ea1t \u0111\u1ed9ng, s\u1ef1 ki\u1ec7n v\xe0 \u01b0u \u0111\xe3i trong game.\n\n3. L\xe0m sao \u0111\u1ec3 t\u0103ng c\u1ea5p VIP? M\u1ed7i c\u1ea5p vip y\xeau c\u1ea7u m\u1ed9t s\u1ed1 \u0111i\u1ec3m VIP th\u0103ng h\u1ea1ng v\xe0 gi\u1eef h\u1ea1ng ri\xeang theo c\u1ea5p VIP hi\u1ec7n t\u1ea1i c\u1ee7a b\u1ea1n. \u0110i\u1ec3m VIP n\xe0y \u0111\u01b0\u1ee3c t\u1ef1 \u0111\u1ed9ng t\xednh cho b\u1ea1n d\u1ef1a tr\xean t\u1ed5ng c\u01b0\u1ee3c khi ch\u01a1i game(t\u1ed5ng c\u01b0\u1ee3c kh\xf4ng bao g\u1ed3m tr\u1ea3 th\u01b0\u1edfng).\nV\xed d\u1ee5:\n+ B\u1ea1n c\u01b0\u1ee3c T\xe0i X\u1ec9u 100.000 v\xe0 th\u1eafng => t\u1ed5ng c\u01b0\u1ee3c = 100.000\n+ B\u1ea1n c\u01b0\u1ee3c T\xe0i X\u1ec9u 100.000 v\xe0 thua => t\u1ed5ng c\u01b0\u1ee3c = 100.000\nL\u01b0u \xfd: Kh\xf4ng \u0111\u01b0\u1ee3c t\u0103ng \u0111i\u1ec3m vip khi ch\u01a1i game b\xe0i.\n\n4. T\u1ec9 l\u1ec7 nh\u1eadn VIP l\xe0 %s:1\nV\xed d\u1ee5: B\u1ea1n c\u01b0\u1ee3c T\xe0i X\u1ec9u %s Xu b\u1ea1n nh\u1eadn \u0111\u01b0\u1ee3c 1 vippoint.\n\n5. Th\u01b0\u1edfng theo c\u1ea5p VIP:\n%s",o,o,n)}catch(t){l.ErrorLogger.sendLogError("Vippoint data","Vippoint info",JSON.stringify(a.default.Login.VipPoint)+"\n"+JSON.stringify(t.stack))}}getAddVippointHistory(t){u.default.get(a.default.App.API,{c:6028,page:t,recordPerPage:this.vippointHistoryPageSize},(e,i)=>{if(s.default.instance.showLoading(!1),null!=e)return;if(cc.log(i),!i.success)return void s.default.instance.alertDialog.showMsg("L\u1ed7i k\u1ebft n\u1ed1i, vui l\xf2ng th\u1eed l\u1ea1i.");const n=g.AddVippointHistory.toAddVippointHistory(i);n.list.length>0?(this.addVippointHistoryPageIdx=t,this.lbAddVippointPage.string=t.toString(),this.scrollAddVippointHistory.content.removeAllChildren(),n.list.forEach((t,e)=>{let i=cc.instantiate(this.addVippointHistoryItem);i.getChildByName("Bg").active=e%2==0,i.getChildByName("Time").getComponent(cc.Label).string=t.createTime,i.getChildByName("Point").getComponent(cc.Label).string=h.default.formatNumber(t.addVippoint),i.getChildByName("Desc").getComponent(cc.Label).string=t.logMoneyUserVin.serviceName+" "+t.logMoneyUserVin.description,i.active=!0,i.parent=this.scrollAddVippointHistory.content})):1===t&&this.scrollAddVippointHistory.content.removeAllChildren()})}actPreviousAddVippointHistoryPage(){1!==this.addVippointHistoryPageIdx&&this.getAddVippointHistory(this.addVippointHistoryPageIdx-1)}actNextAddVippointHistoryPage(){this.getAddVippointHistory(this.addVippointHistoryPageIdx+1)}getBenefitHistory(){u.default.get(a.default.App.API,{c:6027},(t,e)=>{if(s.default.instance.showLoading(!1),t)return void s.default.instance.alertDialog.showMsg("L\u1ed7i!");cc.log(e);const i=new d.UserInfoResponse(e);cc.log(i),this.userVippointRewards=i.userVippointRewards,this.generateBenefitHistory(this.benefitHistoryPageIdx)})}generateBenefitHistory(t){if(this.userVippointRewards.length>(t-1)*this.vippointHistoryPageSize){this.benefitHistoryPageIdx=t,this.lbbenefitPage.string=this.benefitHistoryPageIdx.toString(),this.scrollBenefitHistory.content.removeAllChildren();for(let e=(t-1)*this.vippointHistoryPageSize;e<t*this.vippointHistoryPageSize;e++){const t=this.userVippointRewards[e];if(!t)return;let i=cc.instantiate(this.benefitHistoryItem);i.getChildByName("Bg").active=e%2==0,i.getChildByName("Time").getComponent(cc.Label).string=t.createTime,i.getChildByName("Receive").getComponent(cc.Label).string=t.rewardValue,i.getChildByName("Desc").getComponent(cc.Label).string=t.rewardDesc,i.active=!0,i.parent=this.scrollBenefitHistory.content}}else 1===t&&this.scrollBenefitHistory.content.removeAllChildren()}actPreviousBenefitHistoryPage(){1!==this.benefitHistoryPageIdx&&this.generateBenefitHistory(this.benefitHistoryPageIdx-1)}actNextBenefitHistoryPage(){this.generateBenefitHistory(this.benefitHistoryPageIdx+1)}getTopvip(){u.default.get(a.default.App.API,{c:6030,recordPerPage:10},(t,e)=>{if(s.default.instance.showLoading(!1),null!=t)return;if(cc.log(e),!e.success)return void s.default.instance.alertDialog.showMsg("L\u1ed7i k\u1ebft n\u1ed1i, vui l\xf2ng th\u1eed l\u1ea1i.");const i=g.Topvip.toTopvip(e);this.scrollTopvip.content.removeAllChildren(),i.list.length>0&&i.list.forEach((t,e)=>{let i=cc.instantiate(this.topvipItem);i.getChildByName("Bg").active=e%2==0;let n=i.getChildByName("Rank"),o=i.getChildByName("IconRank"),s=i.getChildByName("Nickname"),a=i.getChildByName("Vip"),c=i.getChildByName("IconVip"),r=Number(t.rank.replace(/^\D+/g,""));e<=this.iconTopvipRanks.length-1?(n.active=!1,o.active=!0,o.getComponent(cc.Sprite).spriteFrame=this.iconTopvipRanks[e]):(n.active=!0,o.active=!1,n.getComponent(cc.Label).string=e+1+""),s.getComponent(cc.Label).string=t.nickname,s.color=cc.Color.BLACK.fromHEX(h.default.getColorVip("VIP_"+r)),s.getComponent(cc.LabelOutline).color=cc.Color.BLACK.fromHEX(h.default.getColorVip("VIP_"+r)),r<=this.vipNames.getSpriteFrames().length-1?(a.active=!1,c.active=!0,c.getComponent(cc.Sprite).spriteFrame=this.vipNames.getSpriteFrame("VIP_"+r)):(a.active=!0,c.active=!1,a.getComponent(cc.Label).string=t.rank,a.color=cc.Color.BLACK.fromHEX(h.default.getColorVip("VIP_"+r)),a.getComponent(cc.LabelOutline).color=cc.Color.BLACK.fromHEX(h.default.getColorVip("VIP_"+r))),i.active=!0,i.parent=this.scrollTopvip.content,i.position=cc.v3(cc.winSize.width,400),i.runAction(cc.sequence(cc.delayTime(.105*e),cc.moveTo(.105,cc.v2(0,400)),cc.delayTime(.05),cc.moveTo(.2*.7*(1===e?.8:1-Math.pow(2,-10*e)),cc.v2(0,380-85*e)).easing(cc.easeCircleActionOut())))})})}};D.instance=null,D.initing=!1,o([f(cc.ToggleContainer)],D.prototype,"tabs",void 0),o([f(cc.Node)],D.prototype,"tabContents",void 0),o([f(cc.Node)],D.prototype,"progressVipPoint",void 0),o([f(cc.Node)],D.prototype,"arrowProgressVipPoint",void 0),o([f(cc.Label)],D.prototype,"lblCurrentVippoint",void 0),o([f(cc.Node)],D.prototype,"stepsProgressVipPoint",void 0),o([f([cc.SpriteFrame])],D.prototype,"iconVipFrames",void 0),o([f(cc.Sprite)],D.prototype,"spriteVipPointCurrentRank",void 0),o([f(cc.Label)],D.prototype,"lblVipPointNameCurrentrank",void 0),o([f(cc.Label)],D.prototype,"lblVipPointCurrentRank",void 0),o([f(cc.Sprite)],D.prototype,"spriteVipPointNextRank",void 0),o([f(cc.Label)],D.prototype,"lblVipPointNameNextRank",void 0),o([f(cc.Label)],D.prototype,"lblVipPointNextRank",void 0),o([f(cc.ScrollView)],D.prototype,"vippointListScroll",void 0),o([f(cc.Node)],D.prototype,"vippointItemTemplate",void 0),o([f(cc.ToggleContainer)],D.prototype,"tabHistorys",void 0),o([f(cc.Node)],D.prototype,"tabHistoryContents",void 0),o([f(cc.ScrollView)],D.prototype,"scrollAddVippointHistory",void 0),o([f(cc.Node)],D.prototype,"addVippointHistoryItem",void 0),o([f(cc.Label)],D.prototype,"lbAddVippointPage",void 0),o([f(cc.ScrollView)],D.prototype,"scrollBenefitHistory",void 0),o([f(cc.Node)],D.prototype,"benefitHistoryItem",void 0),o([f(cc.Label)],D.prototype,"lbbenefitPage",void 0),o([f(cc.ScrollView)],D.prototype,"scrollTopvip",void 0),o([f(cc.Node)],D.prototype,"topvipItem",void 0),o([f([cc.SpriteFrame])],D.prototype,"iconTopvipRanks",void 0),o([f(cc.SpriteAtlas)],D.prototype,"vipNames",void 0),o([f(cc.ScrollView)],D.prototype,"scrollGuide",void 0),D=n=o([m],D),i.default=D,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Constants":"Constants","../../../Game/src/common/Dialog":"Dialog","../../../Game/src/common/ErrorLogger":"ErrorLogger","../../../Game/src/common/Http":"Http","../../../Game/src/common/Utils":"Utils","../Authorization/AuthorizationResponseData":"AuthorizationResponseData","./Lobby.VippointItem":"Lobby.VippointItem","./VippointDTO":"VippointDTO"}],"Lobby.TabsListGame":[function(t,e,i){"use strict";cc._RF.push(e,"70d69J7j5VAtpzxtw72/FZh","Lobby.TabsListGame");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.Tab=void 0;const o=t("./Lobby.ItemGame"),s=t("../../Game/src/common/Tween"),a=t("../../Game/src/common/SPUtils"),c=t("../../Game/src/common/BroadcastReceiver"),r=t("../../Game/src/common/ErrorLogger"),{ccclass:l,property:u}=cc._decorator;let h=class{constructor(){this.button=null,this.sfActive=null}};n([u(cc.Button)],h.prototype,"button",void 0),n([u(cc.Node)],h.prototype,"sfActive",void 0),h=n([l("Lobby.TabsListGameTab")],h),i.Tab=h;let d=class extends cc.Component{constructor(){super(...arguments),this.tabs=[],this.itemGames=[],this.scrollViewGame=null,this.listHide=null,this.listShow=null,this.listTwoGameCasino=null,this.seletectIdx=0,this.LIST_HIDE_GAME=["BanCa","LoDe","OanTuXi","BaiCao","Baccarat","CasinoLive","CaDo","LoDeSieuToc"],this.SORT_ALL_GAME=["SlotSieuAnhHung","TaiXiu","TaiXiuMD5","TwoGameCasino","BanCa","BauCua","XocDia","TwoGame","SlotNuDiepVien","TLMN","Maubinh","Xidach","SlotVuongQuocVin","SlotKhoBau","PokerGo","LoDe","MiniPoker","Bacay","Lieng"],this.SORT_SLOT=["SlotSieuAnhHung","SlotNuDiepVien","SlotVuongQuocVin","SlotKhoBau"],this.SORT_MINI=["TwoGame","TaiXiu","BanCa","BauCua","XocDia","PokerGo","LoDe","MiniPoker","TaiXiuMD5"],this.SORT_CASINO=["TLMN","TwoGameCasino","Maubinh","Xidach","Bacay","Lieng"]}start(){for(let t=0;t<this.tabs.length;t++){let e=this.tabs[t];e.button.node.on("click",()=>{this.seletectIdx=t;for(let t=0;t<this.tabs.length;t++)this.tabs[t].sfActive.active=this.seletectIdx==t;this.onTabChanged()}),e.sfActive.active=this.seletectIdx==t}this.onTabChanged(),c.default.register(c.default.ON_SHOW_ANIM_CHANGED,()=>{this.setStateAnimation("true"==a.default.getShowAnim())},this)}onTabChanged(){this.listHide.active=!1;let t=null;switch(this.seletectIdx){case 0:for(let e=0;e<this.itemGames.length;e++)null==this.itemGames[e]||this.LIST_HIDE_GAME.indexOf(this.itemGames[e].node.name)>-1||("hide"!=this.itemGames[e].id?(this.itemGames[e].node.active=!0,t=this.SORT_ALL_GAME):this.itemGames[e].node.active=!1);break;case 1:for(let e=0;e<this.itemGames.length;e++)null==this.itemGames[e]||this.LIST_HIDE_GAME.indexOf(this.itemGames[e].node.name)>-1||(t=this.SORT_SLOT);break;case 2:for(let e=0;e<this.itemGames.length;e++)null==this.itemGames[e]||this.LIST_HIDE_GAME.indexOf(this.itemGames[e].node.name)>-1||(t=this.SORT_MINI);break;case 3:for(let e=0;e<this.itemGames.length;e++)null==this.itemGames[e]||this.LIST_HIDE_GAME.indexOf(this.itemGames[e].node.name)>-1||(t=this.SORT_CASINO)}cc.sys.isBrowser&&t.push("SlotCayKhe"),this.showListGame(t)}showListGame(t){try{this.scrollViewGame.scrollToTop(.3),this.scheduleOnce(()=>{for(let t=this.listShow.children.length-1;t>=0;t--){let e=this.listShow.children[t];e.scale=720/cc.winSize.width,e.setParent(this.listHide)}if(0===this.seletectIdx){let t=this.listTwoGameCasino.getComponent(cc.Layout);t.type=cc.Layout.Type.VERTICAL,t.resizeMode=cc.Layout.ResizeMode.CONTAINER,t.paddingTop=10,t.spacingY=0,this.listTwoGameCasino.width=325,this.listTwoGameCasino.children.forEach(t=>t.x=0)}else if(3===this.seletectIdx){let t=this.listTwoGameCasino.getComponent(cc.Layout);t.type=cc.Layout.Type.HORIZONTAL,t.resizeMode=cc.Layout.ResizeMode.CONTAINER,t.paddingLeft=30,t.spacingX=-10,this.listTwoGameCasino.height=220,this.listTwoGameCasino.width=650,this.listTwoGameCasino.children.forEach(t=>t.y=0)}for(let e=0;e<t.length;e++){const i=t[e];let n=this.listHide.children.find(t=>t.name==i);n?(n.stopAllActions(),n.getComponentInChildren(sp.Skeleton).enabled=!1,n.getComponentInChildren(sp.Skeleton).getComponentInChildren(cc.Sprite).node.active=!0,n.opacity=0,n.runAction(cc.sequence(cc.fadeIn(.15*e),cc.callFunc(()=>{n.getComponentInChildren(sp.Skeleton).enabled="true"==a.default.getShowAnim(),n.getComponentInChildren(sp.Skeleton).getComponentInChildren(cc.Sprite).node.active=!("true"==a.default.getShowAnim())}))),n.setParent(this.listShow)):cc.log(i,n)}},.2)}catch(e){r.ErrorLogger.sendLogError("Object empty","Lobby list game",JSON.stringify(t)+"\n"+JSON.stringify(e.stack))}}getItemGameWithId(t){for(let e=0;e<this.itemGames.length;e++)if(this.itemGames[e].id==t)return this.itemGames[e];return null}updateItemJackpots(t,e,i,n,o,a,c){let r=this.getItemGameWithId(t);null!=t&&r&&r.node.parent==this.listShow&&(s.default.numberTo(r.lblJackpots[0],e,2),s.default.numberTo(r.lblJackpots[1],n,2),s.default.numberTo(r.lblJackpots[2],a,2))}setStateAnimation(t=!1){let e="true"==a.default.getShowAnim(),i=[];this.listShow.stopAllActions(),this.listShow.getComponentsInChildren(sp.Skeleton).forEach(n=>{i.push(cc.callFunc(()=>{n.enabled=t&&e,n.getComponentInChildren(cc.Sprite).node.active=!(t&&e)})),t&&e&&i.push(cc.delayTime(.15))}),this.listShow.runAction(cc.sequence(i))}};n([u([h])],d.prototype,"tabs",void 0),n([u([o.default])],d.prototype,"itemGames",void 0),n([u(cc.ScrollView)],d.prototype,"scrollViewGame",void 0),n([u(cc.Node)],d.prototype,"listHide",void 0),n([u(cc.Node)],d.prototype,"listShow",void 0),n([u(cc.Node)],d.prototype,"listTwoGameCasino",void 0),d=n([l],d),i.default=d,cc._RF.pop()},{"../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../Game/src/common/ErrorLogger":"ErrorLogger","../../Game/src/common/SPUtils":"SPUtils","../../Game/src/common/Tween":"Tween","./Lobby.ItemGame":"Lobby.ItemGame"}],"Lobby.VippointItem":[function(t,e,i){"use strict";cc._RF.push(e,"9f43cdlU/FIYokhJ3/Cehs5","Lobby.VippointItem");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../../Game/src/common/App"),s=t("../../../Game/src/common/BroadcastReceiver"),a=t("../../../Game/src/common/Configs"),c=t("../../../Game/src/common/Constants"),r=t("../../../Game/src/common/ErrorLogger"),l=t("../../../Game/src/common/Http"),u=t("../../../Game/src/common/Utils"),{ccclass:h,property:d}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.background=null,this.currentVipHighlight=null,this.vipIconBg=null,this.vipIcon=null,this.vipRankUp=null,this.vipName=null,this.benefitTitle=null,this.benefitListScroll=null,this.benefitItemTemplate=null,this.actionListScroll=null,this.actionItem=null,this.buttonSpriteFrames=[]}onLoad(){s.default.send(s.default.SET_SOUND,this.node)}setVippointRankDetail(t,e,i,n){try{const h=e.vippointRankDetail[t];this.vipIcon.setSkin("vip"+(h.id+1)),this.vipName.string=h.name;const d=e.currentVippointRank===t,p=e.currentVippointRank+1===t;if(this.background.active=!d,this.currentVipHighlight.active=d,this.vipIconBg.active=d,this.vipRankUp.active=p,d||(this.node.height=230,this.vipIcon.node.y=20,this.vipName.node.y=-80),p&&(this.node.height=300,this.vipIcon.node.y=50,this.vipName.node.y=-40,cc.tween(this.vipRankUp).repeatForever(cc.tween().by(.2,{position:{value:cc.v2(0,10),easing:"sineOut"}}).delay(.1).by(.2,{position:{value:cc.v2(0,-10),easing:"sineOut"}}).delay(.1)).start()),this.benefitListScroll.content.removeAllChildren(),0===h.listVipBenefits.length)this.benefitTitle.active=!1;else for(let n=0;n<h.listVipBenefits.length;n++){const s=h.listVipBenefits[n],r=e.benefitDetail.find(t=>t.name===s);if(r){let n=cc.instantiate(this.benefitItemTemplate);n.getComponentInChildren(cc.Label).string=r.award&&!isNaN(parseInt(r.award))?"Th\u01b0\u1edfng "+u.default.formatNumber(parseInt(r.award)):r.desc,n.parent=this.benefitListScroll.content,n.active=!0;let h=n.getChildByName("BtnGetBenefit");if(e.currentVippointRank<t||r.listClientSuggestionAction.length<1){h.active=!1;continue}if(i.find(t=>t.rewardName===s)){h.getComponentInChildren(cc.Label).string="\u0110\xe3 nh\u1eadn",h.getComponent(cc.Button).interactable=!1;continue}h.getComponentInChildren(cc.Label).string=c.UserActions.toName(r.listClientSuggestionAction[0]),h.on("click",()=>{switch(r.listClientSuggestionAction[0]){case c.UserActions.ENUM.GET_REWARD:o.default.instance.showLoading(!0),l.default.get(a.default.App.API,{c:6029,benefitType:r.name},(t,e)=>{o.default.instance.showLoading(!1),null==t&&(cc.log(e),e.success?(h.getComponentInChildren(cc.Label).string="\u0110\xe3 nh\u1eadn",h.getComponent(cc.Button).interactable=!1):o.default.instance.alertDialog.showMsg(e.desc||"Nh\u1eadn th\u01b0\u1edfng l\u1ed7i, vui l\xf2ng th\u1eed l\u1ea1i."))})}})}}this.benefitListScroll.scrollToTop(0),p&&(this.actionListScroll.node.parent.active=!0,e.vippointEarnSourceConfigs.filter(t=>t.action===c.UserActions.ENUM.PLAY_GAME||t.value!==c.UserActions.ENUM.PLAY_GAME&&!t.value.includes(c.UserActions.ENUM.PLAY_GAME)).forEach(t=>{let e=cc.instantiate(this.actionItem);e.getComponentInChildren(cc.Label).string=c.UserActions.toName(t.action),e.active=!0,e.on("click",()=>{t.action===c.UserActions.ENUM.PLAY_GAME?n.dismiss():o.default.instance.navigateByAction(t.action)}),e.parent=this.actionListScroll.content}))}catch(s){r.ErrorLogger.sendLogError("Vippoint data","Vippoint rank detail",JSON.stringify(e)+" "+JSON.stringify(i)+"\n"+JSON.stringify(s.stack))}}};n([d(cc.Node)],p.prototype,"background",void 0),n([d(cc.Node)],p.prototype,"currentVipHighlight",void 0),n([d(cc.Node)],p.prototype,"vipIconBg",void 0),n([d(sp.Skeleton)],p.prototype,"vipIcon",void 0),n([d(cc.Node)],p.prototype,"vipRankUp",void 0),n([d(cc.Label)],p.prototype,"vipName",void 0),n([d(cc.Node)],p.prototype,"benefitTitle",void 0),n([d(cc.ScrollView)],p.prototype,"benefitListScroll",void 0),n([d(cc.Node)],p.prototype,"benefitItemTemplate",void 0),n([d(cc.ScrollView)],p.prototype,"actionListScroll",void 0),n([d(cc.Node)],p.prototype,"actionItem",void 0),n([d(cc.SpriteFrame)],p.prototype,"buttonSpriteFrames",void 0),p=n([h],p),i.default=p,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Constants":"Constants","../../../Game/src/common/ErrorLogger":"ErrorLogger","../../../Game/src/common/Http":"Http","../../../Game/src/common/Utils":"Utils"}],LobbyResponseData:[function(t,e,i){"use strict";cc._RF.push(e,"956456jxNZJxJm9d2CCyMue","LobbyResponseData"),Object.defineProperty(i,"__esModule",{value:!0}),i.MailBoxSuggestionAction=i.MailBoxTransaction=i.MailBoxDTO=void 0;const n=t("../../../Game/src/common/Constants");class o{constructor(){this.transactions=[]}static toMailBoxDTO(t){let e=new o;return e.success=null==t?void 0:t.success,e.errorCode=parseInt(null==t?void 0:t.errorCode),e.desc=null==t?void 0:t.desc,e.totalPages=null==t?void 0:t.totalPages,e.mailNotRead=null==t?void 0:t.mailNotRead,null==t||t.transactions.forEach(t=>{e.transactions.push(s.toMailBoxTransaction(t))}),e}}i.MailBoxDTO=o;class s{constructor(){this.clientSuggestionActions=[]}static toMailBoxTransaction(t){let e=new s;e.mailId=null==t?void 0:t.mail_id,e.type=null==t?void 0:t.type,e.title=null==t?void 0:t.title,e.author=null==t?void 0:t.author,e.createTime=null==t?void 0:t.createTime,e.content=null==t?void 0:t.content,e.status=null==t?void 0:t.status,e.sysMail=null==t?void 0:t.sysMail,e.giftCode=null==t?void 0:t.giftCode,e.provider=null==t?void 0:t.provider,e.serial=null==t?void 0:t.serial,e.pin=null==t?void 0:t.pin;try{let n=JSON.parse(null==t?void 0:t.clientSuggestionActions);Array.isArray(n)&&n.forEach(t=>{e.clientSuggestionActions.push(a.toMailBoxSuggestionAction(t))})}catch(i){cc.log("Cant not parse clientSuggestionActions")}return e}}i.MailBoxTransaction=s;class a{static toMailBoxSuggestionAction(t){let e=new a;return e.suggestionAction=n.UserActions.toEnum(null==t?void 0:t.suggestionAction),e.parameters=null==t?void 0:t.parameters,e}}i.MailBoxSuggestionAction=a,cc._RF.pop()},{"../../../Game/src/common/Constants":"Constants"}],MauBinhNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"ef5e6R1nFhHvZngIpEqlvkV","MauBinhNetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("../common/Configs"),o=t("./Network.Cmd"),s=t("./Network.InPacket"),a=t("./Network.NetworkClient"),c=t("./Network.NetworkListener");class r extends a.default{constructor(){super(),this.listeners=new Array,this.isLogin=!1,this.onLogined=null,this.isUseWSS=n.default.App.USE_WSS}static getInstance(){return null==this.instance&&(this.instance=new r),this.instance}checkConnect(t){this.onLogined=t,null!=this.ws&&this.ws.readyState==WebSocket.CONNECTING||(this.isConnected()?this.isLogin&&null!=this.onLogined&&this.onLogined():this.connect())}connect(){super.connect(n.default.App.HOST_MAUBINH.host,n.default.App.HOST_MAUBINH.port)}onOpen(t){super.onOpen(t),this.send(new o.default.SendLogin(n.default.Login.Nickname,n.default.Login.AccessToken))}onMessage(t){for(var e=new Uint8Array(t.data),i=0;i<this.listeners.length;i++){var n=this.listeners[i];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(i,1),i--)}switch(new s.default(e).getCmdId()){case o.default.Code.LOGIN:this.isLogin=!0,null!=this.onLogined&&this.onLogined()}}addListener(t,e){this.listeners.push(new c.default(e,t))}send(t){for(var e=new Int8Array(t._length),i=0;i<t._length;i++)e[i]=t._data[i];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)}}i.default=r,cc._RF.pop()},{"../common/Configs":"Configs","./Network.Cmd":"Network.Cmd","./Network.InPacket":"Network.InPacket","./Network.NetworkClient":"Network.NetworkClient","./Network.NetworkListener":"Network.NetworkListener"}],MiniGameNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"c72820K6yBNJaQ7FqwxoK9G","MiniGameNetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./Network.NetworkClient"),o=t("./Network.NetworkListener"),s=t("../common/Configs"),a=t("./Network.InPacket"),c=t("./Network.Cmd");class r extends n.default{constructor(){super(),this.listeners=new Array,this.isLogin=!1,this.onLogined=null,this.isUseWSS=s.default.App.USE_WSS}static getInstance(){return null==this.instance&&(this.instance=new r),this.instance}checkConnect(t=null){this.onLogined=t,null!=this.ws&&this.ws.readyState==WebSocket.CONNECTING||(this.isConnected()?this.isLogin&&null!=this.onLogined&&this.onLogined():this.connect())}connect(){super.connect(s.default.App.HOST_MINIGAME.host,s.default.App.HOST_MINIGAME.port)}onOpen(t){super.onOpen(t),this.send(new c.default.SendLogin(s.default.Login.Nickname,s.default.Login.AccessToken))}onMessage(t){for(var e=new Uint8Array(t.data),i=0;i<this.listeners.length;i++){var n=this.listeners[i];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(i,1),i--)}switch(new a.default(e).getCmdId()){case c.default.Code.LOGIN:this.isLogin=!0,null!=this.onLogined&&this.onLogined()}}addListener(t,e){this.listeners.push(new o.default(e,t))}send(t){for(var e=new Int8Array(t._length),i=0;i<t._length;i++)e[i]=t._data[i];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)}sendCheck(t){this.checkConnect(()=>{this.send(t)})}}i.default=r,cc._RF.pop()},{"../common/Configs":"Configs","./Network.Cmd":"Network.Cmd","./Network.InPacket":"Network.InPacket","./Network.NetworkClient":"Network.NetworkClient","./Network.NetworkListener":"Network.NetworkListener"}],MiniGame:[function(t,e,i){"use strict";cc._RF.push(e,"c0443y5h9NOK63Ba/g4+JDh","MiniGame");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Game/src/common/App"),s=t("../../Game/src/common/BroadcastReceiver"),{ccclass:a,property:c}=cc._decorator;var r;(function(t){let e=class extends cc.Component{constructor(){super(...arguments),this.gamePlay=null,this.layoutClose=null,this.currentPosition=null,this.lastPosition=null}start(){s.default.send(s.default.SET_SOUND,this.node),this.gamePlay.on(cc.Node.EventType.TOUCH_START,()=>{this.reOrder()},this),this.gamePlay.on(cc.Node.EventType.TOUCH_MOVE,t=>{if(this.gamePlay.scale>=1)return;var e=this.gamePlay.position;e.x+=t.getDeltaX(),e.y+=t.getDeltaY();let i=Math.min(Math.abs(e.x),cc.winSize.width/2),n=Math.min(Math.abs(e.y),cc.winSize.height/2);e.x=e.x<0?-i:i,e.y=e.y<0?-n:n,this.gamePlay.position=e,this.gamePlay&&1!=this.gamePlay.scale&&(this.lastPosition=this.gamePlay.position)},this),this.gamePlay.on(cc.Node.EventType.TOUCH_END,()=>{if(this.currentPosition){let t=this.currentPosition.x-this.gamePlay.position.x,e=this.currentPosition.y-this.gamePlay.position.y;Math.pow(t/20,2)+Math.pow(e/20,2)<1&&1!=this.gamePlay.scale&&this.zoom(null,1)}this.currentPosition=this.gamePlay.position},this),this.gamePlay.on(cc.Node.EventType.TOUCH_CANCEL,()=>{if(this.currentPosition){let t=this.currentPosition.x-this.gamePlay.position.x,e=this.currentPosition.y-this.gamePlay.position.y;Math.pow(t/20,2)+Math.pow(e/20,2)<1&&1!=this.gamePlay.scale&&this.zoom(null,1)}this.currentPosition=this.gamePlay.position},this)}showLayoutClose(){let t=0==this.layoutClose.scaleY&&1==this.gamePlay.scale?1:0;cc.tween(this.layoutClose).to(.1,{scaleY:t}).start()}reOrder(){for(var t=0,e=0;e<this.node.parent.childrenCount;e++){let i=this.node.parent.children[e];i!=this.node&&(i.zIndex=t++)}this.node.zIndex=t++}show(){this.reOrder(),this.node.active=!0,this.gamePlay.stopAllActions(),this.gamePlay.scale=0,this.gamePlay.getComponentsInChildren(cc.Button).forEach(t=>{t.enabled=!0}),this.subscribe(),o.default.instance.setStateAnimation(!1)}subscribe(){this.onSubscribeSuccess()}onSubscribeSuccess(){this.gamePlay.runAction(cc.sequence(cc.spawn(cc.scaleTo(.3,1).easing(cc.easeBackOut()),cc.moveTo(.3,cc.v2(0,0))),cc.callFunc(()=>{this._onShowed(),this.gamePlay.getComponentInChildren(cc.BlockInputEvents).node.active=!0})))}_onShowed(){}zoom(t,e){this.gamePlay.getComponentInChildren(cc.BlockInputEvents).node.active=1==parseFloat(e),this.gamePlay.getComponentsInChildren(cc.Button).forEach(t=>{t.enabled=1==parseFloat(e)}),1==parseFloat(e)&&(this.gamePlay.position=cc.v3(0,0));let i=1==parseFloat(e)?cc.v3(0,0):this.lastPosition||cc.v3(0,0);cc.tween(this.gamePlay).to(.2,{scale:parseFloat(e),position:i}).start(),this.showLayoutClose(),o.default.instance.setStateAnimation(1!=parseFloat(e))}dismiss(){this.gamePlay.stopAllActions(),this.gamePlay.runAction(cc.sequence(cc.scaleTo(.3,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this._onDismissed()})))}_onDismissed(){this.showLayoutClose(),this.node.active=!1,o.default.instance.setStateAnimation(!0)}};n([c(cc.Node)],e.prototype,"gamePlay",void 0),n([c(cc.Node)],e.prototype,"layoutClose",void 0),e=n([a],e),t.MiniGame=e})(r||(r={})),i.default=r.MiniGame,cc._RF.pop()},{"../../Game/src/common/App":"App","../../Game/src/common/BroadcastReceiver":"BroadcastReceiver"}],"Network.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"9a77535BDFPdLDe/ez3AIxH","Network.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;const n=t("./Network.OutPacket"),o=t("./Network.InPacket");var s;(function(t){class e{}e.LOGIN=1,e.NOTIFY_DISCONNECT=37,t.Code=e,t.Login=class extends n.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.LOGIN)}putData(t,e){this.packHeader(),this.putString(t),this.putString(e),this.updateSize()}},t.SendLogin=class extends n.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.LOGIN),this.packHeader(),this.putString(t),this.putString(i),this.updateSize()}},t.ReceivedNotifyDisconnect=class extends o.default{constructor(t){super(t),this.reason=this.getError()}}})(s=i.cmd||(i.cmd={})),i.default=s,cc._RF.pop()},{"./Network.InPacket":"Network.InPacket","./Network.OutPacket":"Network.OutPacket"}],"Network.InPacket":[function(t,e,i){"use strict";cc._RF.push(e,"851d2yV2EVGOayct/dVBmpt","Network.InPacket"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t){this._pos=0,this._data=new Uint8Array(0),this._length=0,this._controllerId=0,this._cmdId=0,this._error=0,this.init(t)}init(t){this._pos=0,this._data=t,this._length=t.length,this._controllerId=this.parseByte(),this._cmdId=this.getShort(),this._error=this.parseByte()}getCmdId(){return this._cmdId}getControllerId(){return this._controllerId}getError(){return this._error}parseByte(){return this._data[this._pos++]}getByte(){return this.parseByte()}getBool(){return 0<this._data[this._pos++]}getBytes(t){for(var e=[],i=0;i<t;i++)e.push(this.parseByte());return e}getShort(){if(this._pos+2>this._length)return 0;var t=(this.parseByte()<<8)+(255&this.parseByte());return 32767<t?t-65536:t}getUnsignedShort(){return((255&this.parseByte())<<8)+((255&this.parseByte())<<0)}getInt(){return((255&this.parseByte())<<24)+((255&this.parseByte())<<16)+((255&this.parseByte())<<8)+((255&this.parseByte())<<0)}byteArrayToLong(t){var e=!0,i=0,n=0;if(255==t[0]&&(e=!1),e)for(n=0;8>n;n++)i=256*i+t[n];else{for(n=i=1;7>=n;n++)i=256*i-t[n];i=-i}return i}getLong(){for(var t=[],e=0;8>e;e++)t[e]=this.parseByte();return this.byteArrayToLong(t)}getDouble(){for(var t=new ArrayBuffer(8),e=new Uint8Array(t),i=7;0<=i;i--)e[7-i]=this.parseByte();return new DataView(t).getFloat64(0)}getCharArray(){var t=this.getUnsignedShort();return this.getBytes(t)}getString(){for(var t=this.getCharArray(),e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=parseInt(t[i],10);var n=String.fromCharCode.apply(null,e);return decodeURIComponent(escape(n))}clean(){}},cc._RF.pop()},{}],"Network.NetworkClient":[function(t,e,i){"use strict";cc._RF.push(e,"d02d3/cUfVJtbLRo2vAnsLe","Network.NetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./Network.NetworkListener");i.default=class{constructor(){this.ws=null,this.host="",this.port=0,this.isForceClose=!1,this.isUseWSS=!1,this.isAutoReconnect=!1,this._onOpenes=[],this._onCloses=[]}connect(t,e){cc.log("start connect: "+t+":"+e),this.isForceClose=!1,this.host=t,this.port=e,null==this.ws?this.isUseWSS?cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?cc.assetManager.resources.load("cacert",cc.Asset,(i,n)=>{if(i)return void cc.log("Load cacert error");let o=n.nativeUrl;this.ws=new(Function.prototype.bind.apply(WebSocket,[null,"wss://"+t+":"+e+"/websocket",[],o])),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)}):(this.ws=new WebSocket("wss://"+t+":"+e+"/websocket"),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)):(this.ws=new WebSocket("ws://"+t+":"+e+"/websocket"),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)):this.ws.readyState!==WebSocket.OPEN&&(this.ws.close(),this.ws=null,this.connect(t,e))}onOpen(t){this._onOpenes=this._onOpenes.filter(t=>t.target&&t.target instanceof Object&&t.target.node);for(let e=0;e<this._onOpenes.length;e++)this._onOpenes[e].callback(null)}onMessage(t){}onError(t){console.log("onError"),console.log("Onerror called "+JSON.stringify(t)),console.log("code is "+t.code),console.log("reason is "+t.reason),console.log("wasClean is "+t.wasClean)}onClose(t){console.log("onClose"),console.log("Onclose called "+JSON.stringify(t)),console.log("code is "+t.code),console.log("reason is "+t.reason),console.log("wasClean is "+t.wasClean),this._onCloses=this._onCloses.filter(t=>t.target&&t.target instanceof Object&&t.target.node);for(var e=0;e<this._onCloses.length;e++)this._onCloses[e].callback(null);this.isAutoReconnect&&!this.isForceClose&&setTimeout(()=>{this.isForceClose||this.connect(this.host,this.port)},2e3)}addOnOpen(t,e){this._onOpenes.push(new n.default(e,t))}addOnClose(t,e){this._onCloses.push(new n.default(e,t))}close(){this.isForceClose=!0,this.ws&&(this.ws.close(),this.ws=null)}isConnected(){return!!this.ws&&this.ws.readyState==WebSocket.OPEN}},cc._RF.pop()},{"./Network.NetworkListener":"Network.NetworkListener"}],"Network.NetworkListener":[function(t,e,i){"use strict";cc._RF.push(e,"05be0BVFnFFQJR9M4lLsiVt","Network.NetworkListener"),Object.defineProperty(i,"__esModule",{value:!0}),i.default=class{constructor(t,e){this.target=t,this.callback=e}},cc._RF.pop()},{}],"Network.OutPacket":[function(t,e,i){"use strict";cc._RF.push(e,"aad90ZGA2pCGbMidoqrmj74","Network.OutPacket"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./PacketHeaderAnalyze");class o{constructor(){this._controllerId=1,this._cmdId=0,this._data=new Array,this._capacity=new Array,this._length=0,this._pos=0,this._isPackedHeader=!1}setCmdId(t){this._cmdId=t}setControllerId(t){this._controllerId=t}initData(t){this._data=[t],this._capacity=t}reset(){this._length=this._pos=0,this._isPackedHeader=!1}packHeader(){if(!this._isPackedHeader){this._isPackedHeader=!0;var t=n.default.genHeader(!1,!1);this.putByte(t),this.putUnsignedShort(this._length),this.putByte(this._controllerId),this.putShort(this._cmdId)}}putByte(t){return this._data[this._pos++]=t,this._length=this._pos,this}putByteArray(t){return this.putShort(t.length),this.putBytes(t),this}putBytes(t){for(var e=0;e<t.length;e++)this.putByte(t[e]);return this}putShort(t){return this.putByte(t>>8&255),this.putByte(t>>0&255),this}putUnsignedShort(t){return this.putByte(t>>8),this.putByte(t>>0),this}putInt(t){return this.putByte(t>>24&255),this.putByte(t>>16&255),this.putByte(t>>8&255),this.putByte(t>>0&255),this}putLong(t){0>t&&cc.log("hahaha");for(var e=[],i=0;8>i;i++)e[i]=255&t,t=Math.floor(t/256);for(t=7;0<=t;t--)this.putByte(e[t])}putDouble(t){return this.putByte(t>>24&255),this.putByte(t>>16&255),this.putByte(t>>8&255),this.putByte(t>>0&255),this.putByte(t>>24&255),this.putByte(t>>16&255),this.putByte(t>>8&255),this.putByte(t>>0&255),this}putString(t){return this.putByteArray(this._stringConvertToByteArray(t)),this}updateUnsignedShortAtPos(t,e){this._data[e]=t>>8,this._data[e+1]=t>>0}updateSize(){this.updateUnsignedShortAtPos(this._length-3,o.INDEX_SIZE_PACKET)}getData(){return this._data.slice(0,this._length)}_stringConvertToByteArray(t){if(null==t)return null;for(var e=new Uint8Array(t.length),i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}clean(){}}i.default=o,o.INDEX_SIZE_PACKET=1,cc._RF.pop()},{"./PacketHeaderAnalyze":"PacketHeaderAnalyze"}],NodeResizer:[function(t,e,i){"use strict";cc._RF.push(e,"47b78nTZ65Nkozgov27lpvd","NodeResizer");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.designResolution=new cc.Size(720,1280),this.fitX=!1,this.fitY=!1,this.lastWitdh=0,this.lastHeight=0,this.canvas=null}start(){this.canvas=this.getCanvas(),this.updateSize()}update(t){cc.sys.isBrowser&&this.updateSize()}updateSize(){var t=cc.view.getFrameSize();if(this.lastWitdh!==t.width||this.lastHeight!==t.height)if(this.lastWitdh=t.width,this.lastHeight=t.height,null!=this.canvas&&this.fitX&&!this.fitY)this.node.scaleX=this.canvas.designResolution.width/this.designResolution.width;else if(null!=this.canvas&&this.fitY&&!this.fitX)this.node.scaleY=this.canvas.designResolution.height/this.designResolution.height;else{var e=t.width/t.height,i=this.designResolution.width/this.designResolution.height;this.designResolution.width/this.designResolution.height>t.width/t.height?this.node.setScale(i/e):this.node.setScale(e/i)}}getCanvas(t=null){if(null==t&&(t=this.node),null!=t.parent){let e=t.parent.getComponent(cc.Canvas);return null!=e?e:this.getCanvas(t.parent)}return null}};n([s],a.prototype,"designResolution",void 0),n([s],a.prototype,"fitX",void 0),n([s],a.prototype,"fitY",void 0),a=n([o],a),i.default=a,cc._RF.pop()},{}],PacketHeaderAnalyze:[function(t,e,i){"use strict";var n;cc._RF.push(e,"20c46EIfchK67TjWzmS1EFh","PacketHeaderAnalyze"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){class e{static getDataSize(t){return this.isBigSize(t)?this.getIntAt(t,this.BYTE_PACKET_SIZE_INDEX):this.getUnsignedShortAt(t,this.BYTE_PACKET_SIZE_INDEX)}static getCmdIdFromData(t){return this.getShortAt(t,1)}static isBigSize(t){return this.getBit(t[0],this.BIT_IS_BIG_SIZE_INDEX)}static isCompress(t){return this.getBit(t[0],this.BIT_IS_COMPRESS_INDEX)}static getValidSize(t){var e=0,i=0;if(this.isBigSize(t)){if(length<this.BIG_HEADER_SIZE)return-1;e=this.getIntAt(t,this.BYTE_PACKET_SIZE_INDEX),i=this.BIG_HEADER_SIZE}else{if(length<this.NORMAL_HEADER_SIZE)return-1;e=this.getUnsignedShortAt(t,this.BYTE_PACKET_SIZE_INDEX),i=this.NORMAL_HEADER_SIZE}return e+i}static getBit(t,e){return 0!=(t&1<<e)}static genHeader(t,e){var i;return i=this.setBit(0,7,!0),i=this.setBit(i,6,!1),i=this.setBit(i,5,e),i=this.setBit(i,4,!0),this.setBit(i,3,t)}static setBit(t,e,i){return i?t|1<<e:t&~(1<<e)}static getIntAt(t,e){return((255&t[e])<<24)+((255&t[e+1])<<16)+((255&t[e+2])<<8)+((255&t[e+3])<<0)}static getUnsignedShortAt(t,e){return((255&t[e])<<8)+((255&t[e+1])<<0)}static getShortAt(t,e){return(t[e]<<8)+(255&t[e+1])}}e.BIT_IS_BINARY_INDEX=7,e.BIT_IS_ENCRYPT_INDEX=6,e.BIT_IS_COMPRESS_INDEX=5,e.BIT_IS_BLUE_BOXED_INDEX=4,e.BIT_IS_BIG_SIZE_INDEX=3,e.BYTE_PACKET_SIZE_INDEX=1,e.BIG_HEADER_SIZE=5,e.NORMAL_HEADER_SIZE=3,t.PacketHeaderAnalyze=e}(n||(n={})),i.default=n.PacketHeaderAnalyze,cc._RF.pop()},{}],PopupCardDefinations:[function(t,e,i){"use strict";cc._RF.push(e,"73ec1q7e95LNJg633jgtABX","PopupCardDefinations");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../common/App"),a=t("../../common/Configs"),c=t("../../common/Dialog"),{ccclass:r,property:l}=cc._decorator;let u=n=class extends c.default{constructor(){super(...arguments),this.cardsContent=null,this.cardItem=null}static createAndShow(t,e,i){null==this.instance||null==this.instance.node?s.default.instance.loadPrefabInBundle(a.default.App.BUNDLE_NAME.MAIN,a.default.App.UPDATE_INFO[a.default.App.BUNDLE_NAME.MAIN],!0,"Game/res/prefabs/cardgames/PopupCardDefinations",(o,a)=>{if(null!=o)return void s.default.instance.alertDialog.showMsg(o);let c=cc.instantiate(a);c.parent=t,this.instance=c.getComponent(n),this.instance.showAndDrawCards(e,i)}):this.instance.showAndDrawCards(e,i)}showAndDrawCards(t,e){this.cardsContent.removeAllChildren();for(let i=0;i<t.length;i++){let n=t[i],o=cc.instantiate(this.cardItem);o.getChildByName("cardFace").getComponent(cc.Sprite).spriteFrame=e[i],o.getChildByName("cardName").getComponent(cc.Label).string=n.name,o.parent=this.cardsContent,o.active=!0}this.show()}};u.instance=null,o([l(cc.Node)],u.prototype,"cardsContent",void 0),o([l(cc.Node)],u.prototype,"cardItem",void 0),u=n=o([r],u),i.default=u,cc._RF.pop()},{"../../common/App":"App","../../common/Configs":"Configs","../../common/Dialog":"Dialog"}],PopupChatInGame:[function(t,e,i){"use strict";cc._RF.push(e,"409d97ihv9LV6x5eA+YlHTn","PopupChatInGame");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../common/App"),a=t("../../common/Configs"),c=t("../../common/Dialog"),r=t("./CardGameUtils"),{ccclass:l,property:u}=cc._decorator;let h=n=class extends c.default{constructor(){super(...arguments),this.edbChat=null,this.emojis=null,this.currentCardDefinations=[]}static createAndShow(t,e,i,o){null==this.instance||null==this.instance.node?s.default.instance.loadPrefabInBundle(a.default.App.BUNDLE_NAME.MAIN,a.default.App.UPDATE_INFO[a.default.App.BUNDLE_NAME.MAIN],!0,"Game/res/prefabs/cardgames/PopupChatInGame",(a,c)=>{if(null!=a)return void s.default.instance.alertDialog.showMsg(a);let r=cc.instantiate(c);r.parent=t,this.instance=r.getComponent(n),this.instance.showChatDialog(e,i,o)}):this.instance.showChatDialog(e,i,o)}start(){this.emojis.children.forEach((t,e)=>{let i=new cc.Component.EventHandler;i.target=this.node,i.component="PopupChatInGame",i.handler="sendChatEmotion",i.customEventData=(e+1).toString(),t.getComponent(cc.Button).clickEvents=[i]})}showChatDialog(t,e,i){this.currentCardDefinations=t,this.onChatRoom=e,this.onCheatCards=i,this.show()}sendChatEmotion(t,e){this.onChatRoom(1,e),this.dismiss()}sendChatMessage(){if(0===this.edbChat.string.trim().length)return;let t=this.edbChat.string,e=r.default.getCardCheatIdsFromChat(this.currentCardDefinations,t);e?this.onCheatCards(1,e):this.onChatRoom(0,t),this.edbChat.string="",this.dismiss()}};h.instance=null,o([u(cc.EditBox)],h.prototype,"edbChat",void 0),o([u(cc.Node)],h.prototype,"emojis",void 0),h=n=o([l],h),i.default=h,cc._RF.pop()},{"../../common/App":"App","../../common/Configs":"Configs","../../common/Dialog":"Dialog","./CardGameUtils":"CardGameUtils"}],PopupSettingInGame:[function(t,e,i){"use strict";cc._RF.push(e,"27ea8dnIwhPyIoDYNvhMwRS","PopupSettingInGame");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../common/App"),a=t("../../common/BroadcastReceiver"),c=t("../../common/Configs"),r=t("../../common/SPUtils"),{ccclass:l,property:u}=cc._decorator;let h=n=class extends cc.Component{constructor(){super(...arguments),this.panel=null,this.toggleMusic=null,this.toggleSound=null,this.animate=!1}static createAndShow(t,e,i,o){null==this.instance||null==this.instance.node?s.default.instance.loadPrefabInBundle(c.default.App.BUNDLE_NAME.MAIN,c.default.App.UPDATE_INFO[c.default.App.BUNDLE_NAME.MAIN],!0,"Game/res/prefabs/cardgames/PopupSettingInGame",(a,c)=>{if(null!=a)return void s.default.instance.alertDialog.showMsg(a);let r=cc.instantiate(c);r.parent=t,this.instance=r.getComponent(n),this.instance.show(e,i,o)}):this.instance.show(e,i,o)}onLoad(){a.default.send(a.default.SET_SOUND,this.node)}show(t,e,i){this.animate||(this.animate=!0,this.node.active=!0,this.panel.active=!0,this.panel.stopAllActions(),this.panel.scaleY=0,this.panel.runAction(cc.sequence(cc.scaleTo(.2,1).easing(cc.easeBackOut()),cc.callFunc(()=>{this.animate=!1}))),this.onGuide=e,this.onExit=i,this.onGuide||(this.panel.getChildByName("ButtonGuide").active=!1),this.toggleMusic.node.off("toggle"),this.toggleMusic.node.on("toggle",()=>{r.default.setMusicVolumnByGame(t,this.toggleMusic.isChecked?1:0),a.default.send(a.default.ON_AUDIO_CHANGED,t)}),this.toggleSound.node.off("toggle"),this.toggleSound.node.on("toggle",()=>{r.default.setSoundVolumnByGame(t,this.toggleSound.isChecked?1:0)}),this.toggleMusic.isChecked=r.default.getMusicVolumnByGame(t)>0,this.toggleSound.isChecked=r.default.getSoundVolumnByGame(t)>0)}dismiss(){this.animate||(this.animate=!0,this.panel.stopAllActions(),this.panel.runAction(cc.sequence(cc.scaleTo(.2,1,0).easing(cc.easeBackIn()),cc.callFunc(()=>{this.node.active=!1,this.panel.active=!1,this.animate=!1}))))}actGuide(){this.onGuide&&this.onGuide(),this.dismiss()}actExit(){this.onExit&&this.onExit(),this.dismiss()}};h.instance=null,o([u(cc.Node)],h.prototype,"panel",void 0),o([u(cc.Toggle)],h.prototype,"toggleMusic",void 0),o([u(cc.Toggle)],h.prototype,"toggleSound",void 0),h=n=o([l],h),i.default=h,cc._RF.pop()},{"../../common/App":"App","../../common/BroadcastReceiver":"BroadcastReceiver","../../common/Configs":"Configs","../../common/SPUtils":"SPUtils"}],PushNotification:[function(t,e,i){"use strict";cc._RF.push(e,"2a233zKg5lICqNFGDC7K+MQ","PushNotification");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{onLoad(){}};a=n([o],a),i.default=a,cc._RF.pop()},{}],Random:[function(t,e,i){"use strict";cc._RF.push(e,"91ce7IUkVVEnqpB8EDSDCVI","Random");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class{static range(t,e){return Math.random()*(e-t)+t}static rangeInt(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t))+t}};a=n([o],a),i.default=a,cc._RF.pop()},{}],SPUtils:[function(t,e,i){"use strict";var n;cc._RF.push(e,"59866usg1ZMxINvnUez2Ri1","SPUtils"),Object.defineProperty(i,"__esModule",{value:!0}),function(t){t.SPUtils=class{static encode(t,e){var i="";t.toString();for(var n=0;n<t.length;n++){var o=t.charCodeAt(n)^e;i+=String.fromCharCode(o)}return i}static get(t,e=""){var i=this.encode(t,3265812).toString(),n=cc.sys.localStorage.getItem(i);return n?n=this.encode(n,3265812).toString():e}static set(t,e){e=e.toString();var i=""+this.encode(t,3265812),n=""+this.encode(e,3265812);cc.sys.localStorage.setItem(i,n)}static setUserName(t){this.set("username",t)}static getUserName(){return this.get("username","")}static setUserPass(t){this.set("userpass",t)}static getUserPass(){return this.get("userpass","")}static getMusicVolumn(){return Number(this.get("music_volumn","1"))}static setMusicVolumn(t){this.set("music_volumn",t.toString())}static getSoundVolumn(){return Number(this.get("sound_volumn","1"))}static setSoundVolumn(t){this.set("sound_volumn",t.toString())}static getMusicVolumnByGame(t){return Number(this.get("music_volumn_"+t,"1"))}static setMusicVolumnByGame(t,e){this.set("music_volumn_"+t,e.toString())}static getSoundVolumnByGame(t){return Number(this.get("sound_volumn_"+t,"1"))}static setSoundVolumnByGame(t,e){this.set("sound_volumn_"+t,e.toString())}static setShowAnim(t){this.set("mode_anim",t)}static getShowAnim(){return this.get("mode_anim","true")}static setNicknameTransfer(t){this.set("nicknametransfer",t)}static getNicknameTransfer(){return this.get("nicknametransfer","")}static setMomoInfo(t){this.set("momoinfo",t)}static getMomoInfo(){return this.get("momoinfo","")}static setBankInfo(t){this.set("bankinfo",t)}static getBankInfo(){return this.get("bankinfo","")}}}(n||(n={})),i.default=n.SPUtils,cc._RF.pop()},{}],SamNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"54befXq1/NIeqwcU/H8L6Fx","SamNetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./CardGameNetworkClient"),o=t("../common/Configs");class s extends n.default{static getInstance(){return null==this.instance&&(this.instance=new s),this.instance}constructor(){super()}_connect(){super.connect(o.default.App.HOST_SAM.host,o.default.App.HOST_SAM.port)}onOpen(t){super.onOpen(t)}}i.default=s,cc._RF.pop()},{"../common/Configs":"Configs","./CardGameNetworkClient":"CardGameNetworkClient"}],ScaleScreen:[function(t,e,i){"use strict";cc._RF.push(e,"1a4328VyYdOY76EmkFiuYxI","ScaleScreen");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0}),i.AlignMode=i.ScaleScreenType=void 0;const{ccclass:o,property:s}=cc._decorator;var a,c;(function(t){t[t.FIT_IN=0]="FIT_IN",t[t.FIT_OUT=1]="FIT_OUT"})(a=i.ScaleScreenType||(i.ScaleScreenType={})),function(t){t[t.ONCE=0]="ONCE",t[t.ALWAYS=1]="ALWAYS",t[t.ON_SCREEN_RESIZE=2]="ON_SCREEN_RESIZE"}(c=i.AlignMode||(i.AlignMode={}));let r=class extends cc.Component{constructor(){super(...arguments),this.fitWidth=!1,this.fitHeight=!1,this.scaleType=a.FIT_IN,this.heightDegree=0,this.widthDegree=0,this.alignMode=c.ONCE}start(){this.doScale()}doScale(){if(!this.node)return;let t=cc.winSize.width/(this.node.width+this.widthDegree),e=cc.winSize.height/(this.node.height+this.heightDegree);this.fitWidth&&!this.fitHeight&&(this.node.scale=t),this.fitHeight&&!this.fitWidth&&(this.node.scale=e),this.fitWidth&&this.fitHeight&&(this.scaleType==a.FIT_IN?this.node.scale=t<e?t:e:this.scaleType==a.FIT_OUT&&(this.node.scale=t>e?t:e))}update(){cc.sys.isNative||this.alignMode!==c.ALWAYS||this.doScale()}};n([s(cc.Boolean)],r.prototype,"fitWidth",void 0),n([s(cc.Boolean)],r.prototype,"fitHeight",void 0),n([s({type:cc.Enum(a)})],r.prototype,"scaleType",void 0),n([s(cc.Integer)],r.prototype,"heightDegree",void 0),n([s(cc.Integer)],r.prototype,"widthDegree",void 0),n([s({type:cc.Enum(c)})],r.prototype,"alignMode",void 0),r=n([o],r),i.default=r,cc._RF.pop()},{}],ShootFishNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"67b32TSLuBDyITpP+LjS3tz","ShootFishNetworkClient");var n,o=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../common/Configs"),a=t("../common/App"),{ccclass:c,property:r}=cc._decorator;class l{constructor(t,e){this.target=t,this.callback=e}}class u{constructor(t,e){this.target=t,this.callback=e}}class h{constructor(t,e){this.target=t,this.callback=e}}let d=n=class{constructor(){this.isUseWSS=!0,this.isAutoReconnect=!0,this.ws=null,this.host=s.default.App.HOST_SHOOT_FISH.host,this.port=s.default.App.HOST_SHOOT_FISH.port,this.isForceClose=!1,this.onOpenes=[],this.onCloses=[],this.xorKey="dmVyeSBzZWNyZXQ",this.requests=new Object,this.intervalPing=-1,this.listeners=new Array,this.isLogining=!1,this.isLogined=!1,this.onLogined=null}static serverCurrentTimeMillis(){return Date.now()-this.TIME_DISTANCE+Math.round(n.MIN_PING/2)}static systemCurrentTimeMillis(){return Date.now()}static getInstance(){return null==this.instance&&(this.instance=new n),this.instance}checkConnect(t){this.onLogined=t,this.isConnected()?this.isLogined?this.onLogined(this.isLogined):this.login():(cc.log("*** name",cc.director.getScene().name),"ShootFish"==cc.director.getScene().name&&a.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),this.connect())}login(){this.isLogining||(this.isLogining=!0,"ShootFish"==cc.director.getScene().name&&a.default.instance.showErrLoading("\u0110ang \u0111\u0103ng nh\u1eadp..."),this.request("xxenglogin",{username:s.default.Login.isSocialLogin?s.default.Login.socialSource:s.default.Login.Username,password:s.default.Login.isSocialLogin?s.default.Login.socialToken:md5(s.default.Login.Password),platform:s.default.Login.isSocialLogin?"banca_token":s.default.App.getPlatformName()},t=>{this.isLogining=!1,a.default.instance.showLoading(!1),console.log(t),t.ok?(console.log("login oke"),this.isLogined=!0,s.default.Login.CoinFish=t.cash,s.default.Login.UsernameFish=t.username,s.default.Login.PasswordFish=t.password,s.default.Login.UserIdFish=t.userId,s.default.Login.FishConfigs=t.config,null!=this.onLogined&&this.onLogined(!0)):null!=this.onLogined&&this.onLogined(!1)},n.NODE_FIXED))}onOpen(t){console.log("onOpen"),this.intervalPing=setInterval(()=>this.ping(),3e3),this.ping();for(let e=0;e<this.onOpenes.length;e++){let t=this.onOpenes[e];t.target&&t.target instanceof Object&&t.target.node?t.callback():(this.onOpenes.splice(e,1),e--)}null!=this.onLogined&&this.login()}onMessage(t){let e=new Uint8Array(t.data);e=this.doXOR(e,0,e.length);let i=msgpack.decode(e);if(i.hasOwnProperty("msgId"))if(0==i.msgId)for(let n=0;n<this.listeners.length;n++){let t=this.listeners[n];t.target&&t.target instanceof Object&&t.target.node?t.callback(i.route,i.data):(this.listeners.splice(n,1),n--)}else if(this.requests.hasOwnProperty(i.msgId)){let t=this.requests[i.msgId];t.target&&t.target instanceof Object&&t.target.node&&t.callback(i.data),delete this.requests[i.msgId]}}onError(t){console.log("onError")}onClose(t){console.log("onClose"),this.intervalPing>0&&clearInterval(this.intervalPing);for(var e=0;e<this.onCloses.length;e++){var i=this.onCloses[e];i.target&&i.target instanceof Object&&i.target.node?i.callback():(this.onCloses.splice(e,1),e--)}this.isAutoReconnect&&!this.isForceClose&&setTimeout(()=>{this.isForceClose||this.connect()},2e3)}send(t){if(!this.isConnected())return;let e=msgpack.encode(t);e=this.doXOR(e,0,e.length),this.ws.send(e)}doXOR(t,e,i){let n=0,o=e+i;for(let s=e;s<o;s++)t[s]=t[s]^Number(this.xorKey.charAt(n%this.xorKey.length)),n++;return t}connect(){console.log("start connect: "+this.host+":"+this.port),this.isForceClose=!1,null==this.ws?this.isUseWSS?cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?cc.assetManager.loadBundle("raw",(t,e)=>{t?cc.log("Load bundle raw error"):e.load("cacert",cc.Asset,(t,e)=>{if(t)return void cc.log("Load cacert error");let i=e.nativeUrl;this.ws=new(Function.prototype.bind.apply(WebSocket,[null,"wss://"+this.host+":"+this.port,[],i])),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)})}):(this.ws=new WebSocket("wss://"+this.host+":"+this.port),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)):(this.ws=new WebSocket("ws://"+this.host+":"+this.port),this.ws.binaryType="arraybuffer",this.ws.onopen=this.onOpen.bind(this),this.ws.onmessage=this.onMessage.bind(this),this.ws.onerror=this.onError.bind(this),this.ws.onclose=this.onClose.bind(this)):this.ws.readyState!==WebSocket.OPEN&&(this.ws.close(),this.ws=null,this.connect())}addOnOpen(t,e){this.onOpenes.push(new h(e,t))}addOnClose(t,e){this.onCloses.push(new h(e,t))}close(){this.isForceClose=!0,this.ws&&this.ws.close()}isConnected(){return!!this.ws&&this.ws.readyState==WebSocket.OPEN}addListener(t,e){this.listeners.push(new l(e,t))}request(t,e,i,o){n.reqId++,n.reqId>64999&&(n.reqId=1),this.requests[n.reqId]=new u(o,i),this.send({data:"object"==typeof e&&null!=e&&e?e:{},msgId:n.reqId,route:t})}notify(t,e){this.send({data:"object"==typeof e&&null!=e&&e?e:{},msgId:0,route:t})}ping(t=null,e=null){let i=Date.now();this.request("ping",null,e=>{n.PING=Date.now()-i,(n.MIN_PING<0||n.PING<n.MIN_PING)&&(n.MIN_PING=n.PING,n.TIME_DISTANCE=Date.now()-e.time),null!=t&&t()},null!=e?e:n.NODE_FIXED)}};d.reqId=0,d.MIN_PING=-1,d.PING=0,d.TIME_DISTANCE=0,d.NODE_FIXED=(new cc.Node).addComponent(cc.Sprite),d=n=o([c],d),i.default=d,cc._RF.pop()},{"../common/App":"App","../common/Configs":"Configs"}],SlotNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"fa6a5HiidJFNohMYqtMHOjk","SlotNetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./Network.NetworkClient"),o=t("./Network.NetworkListener"),s=t("../common/Configs"),a=t("./Network.Cmd"),c=t("./Network.InPacket"),r=t("../common/BroadcastReceiver");class l extends n.default{constructor(){super(),this.listeners=new Array,this.isLogin=!1,this.onLogined=null,this.isUseWSS=s.default.App.USE_WSS}static getInstance(){return null==this.instance&&(this.instance=new l),this.instance}checkConnect(t){this.onLogined=t,null!=this.ws&&this.ws.readyState==WebSocket.CONNECTING||(this.isConnected()?this.isLogin&&null!=this.onLogined&&this.onLogined():this.connect())}connect(){super.connect(s.default.App.HOST_SLOT.host,s.default.App.HOST_SLOT.port)}onOpen(t){super.onOpen(t),this.send(new a.default.SendLogin(s.default.Login.Nickname,s.default.Login.AccessToken))}onMessage(t){for(var e=new Uint8Array(t.data),i=0;i<this.listeners.length;i++){var n=this.listeners[i];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(i,1),i--)}switch(new c.default(e).getCmdId()){case a.default.Code.LOGIN:this.isLogin=!0,null!=this.onLogined&&this.onLogined()}}addListener(t,e){this.listeners.push(new o.default(e,t))}send(t){for(var e=new Int8Array(t._length),i=0;i<t._length;i++)e[i]=t._data[i];null!=this.ws&&this.isConnected()&&(this.ws.send(e.buffer),r.default.send(r.default.SLOT_WS_SEND,t._cmdId))}sendCheck(t){this.checkConnect(()=>{this.send(t)})}}i.default=l,cc._RF.pop()},{"../common/BroadcastReceiver":"BroadcastReceiver","../common/Configs":"Configs","./Network.Cmd":"Network.Cmd","./Network.InPacket":"Network.InPacket","./Network.NetworkClient":"Network.NetworkClient","./Network.NetworkListener":"Network.NetworkListener"}],SubpackageDownloader:[function(t,e,i){"use strict";cc._RF.push(e,"42427g+lbNAIayqS7v03+/v","SubpackageDownloader");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./Configs"),{ccclass:s,property:a}=cc._decorator;var c;(function(t){var e;let i=e=class{constructor(){this.isDownloading=!1,this._storagePath="",this.failCount=0}static getInstance(){return null==this.instance&&(this.instance=new e),this.instance}_downloadSubpackage(t,e){this.isDownloading||(console.log("CC_JSB: "+!1),console.log("CC_DEBUG: "+!1),console.log("CC_DEV: "+!1),console.log("CC_EDITOR: "+!1),console.log("CC_PREVIEW: "+!1),console.log("CC_TEST: "+!1),console.log("CC_BUILD: "+!0),e(null,0))}checkUpdate(t,e){let i=Date.now();var n=JSON.stringify({packageUrl:o.default.App.SUBPACKAGE_URL+t+"/",remoteManifestUrl:o.default.App.SUBPACKAGE_URL+t+"/project.manifest?t="+i,remoteVersionUrl:o.default.App.SUBPACKAGE_URL+t+"/version.manifest?t="+i,version:"1.9.4"});if(console.log(n),this._am=new jsb.AssetsManager("",this._storagePath,(t,e)=>{console.log("JS Custom Version Compare: version A is "+t+", version B is "+e);for(var i=t.split("."),n=e.split("."),o=0;o<i.length;++o){var s=parseInt(i[o]),a=parseInt(n[o]||0);if(s!==a)return s-a}return n.length>i.length?-1:0}),this._am.getState()===jsb.AssetsManager.State.UNINITED){var s=new jsb.Manifest(n,this._storagePath);this._am.loadLocalManifest(s,this._storagePath)}this._am.setEventCallback(t=>{switch(t.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:console.log("No local manifest file found, hot update skipped."),e("No local manifest file found, hot update skipped.",0);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:console.log("Fail to download manifest file, hot update skipped."),e("Fail to download manifest file, hot update skipped.",0);break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:console.log("Already up to date with the latest remote version 1."),e(null,0);break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:console.log("New version found, please try to update."),this._am.update();break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:console.log("files: "+t.getDownloadedFiles()+" / "+t.getTotalFiles()),console.log("bytes: "+t.getTotalBytes()+" / "+t.getDownloadedBytes()),console.log("event.getPercent(): "+t.getPercent());var i=Number(t.getDownloadedBytes()/t.getTotalBytes());e("progress",i);break;case jsb.EventAssetsManager.UPDATE_FINISHED:e(null,0);break;case jsb.EventAssetsManager.UPDATE_FAILED:console.log("Update failed. "+t.getMessage()),this.failCount<5?this._am.downloadFailedAssets():e("Update failed. "+t.getMessage(),0),this.failCount++;break;case jsb.EventAssetsManager.ERROR_UPDATING:console.log("Asset update error: "+t.getAssetId()+", "+t.getMessage());break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:console.log("Decompress error: "+t.getMessage()),e("Decompress error: "+t.getMessage(),0);break;default:return}}),this._am.checkUpdate()}static downloadSubpackage(t,e){this.getInstance()._downloadSubpackage(t,e)}};i.instance=null,i=e=n([s],i),t.SubpackageDownloader=i})(c||(c={})),i.default=c.SubpackageDownloader,cc._RF.pop()},{"./Configs":"Configs"}],TXMD5NetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"560cdTVHw5GU617XGWrbco/","TXMD5NetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./Network.NetworkClient"),o=t("./Network.NetworkListener"),s=t("../common/Configs"),a=t("./Network.InPacket"),c=t("./Network.Cmd");class r extends n.default{constructor(){super(),this.listeners=new Array,this.isLogin=!1,this.onLogined=null,this.isUseWSS=s.default.App.USE_WSS}static getInstance(){return null==this.instance&&(this.instance=new r),this.instance}checkConnect(t=null){this.onLogined=t,null!=this.ws&&this.ws.readyState==WebSocket.CONNECTING||(this.isConnected()?this.isLogin&&null!=this.onLogined&&this.onLogined():this.connect())}connect(){super.connect(s.default.App.HOST_TAI_XIU_MD5.host,s.default.App.HOST_TAI_XIU_MD5.port)}onOpen(t){super.onOpen(t),this.send(new c.default.SendLogin(s.default.Login.Nickname,s.default.Login.AccessToken))}onMessage(t){for(var e=new Uint8Array(t.data),i=0;i<this.listeners.length;i++){var n=this.listeners[i];n.target&&n.target instanceof Object&&n.target.node?n.callback(e):(this.listeners.splice(i,1),i--)}switch(new a.default(e).getCmdId()){case c.default.Code.LOGIN:this.isLogin=!0,null!=this.onLogined&&this.onLogined()}}addListener(t,e){this.listeners.push(new o.default(e,t))}send(t){for(var e=new Int8Array(t._length),i=0;i<t._length;i++)e[i]=t._data[i];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)}sendCheck(t){this.checkConnect(()=>{this.send(t)})}}i.default=r,cc._RF.pop()},{"../common/Configs":"Configs","./Network.Cmd":"Network.Cmd","./Network.InPacket":"Network.InPacket","./Network.NetworkClient":"Network.NetworkClient","./Network.NetworkListener":"Network.NetworkListener"}],TienLenNetworkClient:[function(t,e,i){"use strict";cc._RF.push(e,"ace2fOmXkREULE7CCaicJmQ","TienLenNetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const n=t("./CardGameNetworkClient"),o=t("../common/Configs");class s extends n.default{static getInstance(){return null==this.instance&&(this.instance=new s),this.instance}constructor(){super()}_connect(){super.connect(o.default.App.HOST_TLMN.host,o.default.App.HOST_TLMN.port)}onOpen(t){super.onOpen(t)}}i.default=s,cc._RF.pop()},{"../common/Configs":"Configs","./CardGameNetworkClient":"CardGameNetworkClient"}],TimeUtils:[function(t,e,i){"use strict";cc._RF.push(e,"761c4r7fCZLrIcT4qTFRPgo","TimeUtils");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class{static currentTimeMillis(){return Date.now()}static serverTime(){return Math.ceil(this.currentTimeMillis()-this.minDistanceTime+this.minPing/2)}};a.ping=0,a.minPing=-1,a.minDistanceTime=0,a=n([o],a),i.default=a,cc._RF.pop()},{}],Toast:[function(t,e,i){"use strict";cc._RF.push(e,"4ebd2fu091Po6VLGPfN6OLx","Toast");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:o,property:s}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.txt=null}start(){this.node.active=!1,this.node.zIndex=1e3}showToast(t,e=.5,i=.5,n=80){this.node.stopAllActions(),this.node.active=!0,this.node.opacity=0,this.node.x=cc.winSize.width/2,this.node.y=cc.winSize.height/2,this.node.scaleX=0,this.node.scaleY=1,this.txt.string=t,this.node.active=!1,this.node.active=!0,this.node.width=this.txt.node.width+50,this.node.runAction(cc.sequence(cc.spawn(cc.fadeIn(i/2),cc.scaleTo(i,1,1).easing(cc.easeBackOut())),cc.spawn(cc.moveBy(e,0,n),cc.sequence(cc.delayTime(e/2),cc.fadeOut(e/2).easing(cc.easeSineIn()))),cc.callFunc(()=>{this.node.active=!1})))}hide(){this.node.active=!1,this.node.stopAllActions()}};n([s(cc.Label)],a.prototype,"txt",void 0),a=n([o],a),i.default=a,cc._RF.pop()},{}],Tween:[function(t,e,i){"use strict";cc._RF.push(e,"b463e/ybFpMl6HKyeG5WLZz","Tween");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("./Utils"),{ccclass:s,property:a}=cc._decorator;var c;(function(t){var e;class i{constructor(){this.target=null,this.duration=0,this.curDuration=0,this.callback=null}}t.TweenListener=i;let a=e=class extends cc.Component{constructor(){super(...arguments),this.skeepFrame=!1,this.countSkeep=1,this.curCountSkeep=0,this.delta=0}static getInstance(){if(null==this.instance){let t=new cc.Node;t.name="Tween",cc.game.addPersistRootNode(t),this.instance=t.addComponent(e)}return this.instance}update(t){if(this.skeepFrame)return this.curCountSkeep++,this.delta+=t,void(this.curCountSkeep>=this.countSkeep&&(this.curCountSkeep=0,this.skeepFrame=!1));for(var i=0;i<e.listeners.length;i++){let n=e.listeners[i];n.target&&n.target instanceof cc.Component&&n.target.node?(n.curDuration=Math.min(n.duration,n.curDuration+t+this.delta),n.callback(n.curDuration/n.duration),n.curDuration>=n.duration&&e.listeners.splice(i--,1)):e.listeners.splice(i--,1)}this.skeepFrame=!0,this.delta=0}static numberTo(t,n,s,a=(t=>o.default.formatNumber(t))){if(this.getInstance(),!cc.isValid(t))return;let c=null;for(var r=0;r<e.listeners.length;r++){let i=e.listeners[r];if(i.target==t){c=i;break}}null==c&&(c=new i,this.listeners.push(c));try{let e=o.default.stringToInt(t.string),i=n-e;c.curDuration=0,c.duration=s,c.target=t,c.callback=n=>{t.string=a(parseInt(""+(e+i*n)))}}catch(l){cc.log("function numberTo :",l.message)}}};a.instance=null,a.listeners=new Array,a=e=n([s],a),t.Tween=a})(c||(c={})),i.default=c.Tween,cc._RF.pop()},{"./Utils":"Utils"}],Utils:[function(t,e,i){"use strict";cc._RF.push(e,"e86efcy15xCqJ8SuQDPKLzT","Utils"),Object.defineProperty(i,"__esModule",{value:!0}),i.common=void 0;const n=t("../../../Lobby/src/Authorization/AuthorizationController"),o=t("./Configs"),s={VIP_10:"#d2ff00",VIP_9:"#ff6ec3",VIP_8:"#fecb00",VIP_7:"#e075ff",VIP_6:"#00fffa",VIP_5:"#ff0b68",VIP_4:"#b763ff",VIP_3:"#68e4ff",VIP_2:"#fe4e00",VIP_1:"#a2a2ec",VIP_0:"#e19565"},{ccclass:a,property:c}=cc._decorator;var r;(function(t){class e{static degreesToVec2(t){return e.radianToVec2(t*e.Deg2Rad)}static radianToVec2(t){return cc.v2(Math.cos(t),Math.sin(t))}static numberToEnum(t,e){return e[e[t]]}static loadSpriteFrameFromBase64(t,e){let i=new Image;i.onload=function(){let t=new cc.Texture2D;t.initWithElement(i),t.handleLoadedTexture();let n=new cc.SpriteFrame(t);e(n)}.bind(this),i.src="data:image/png;base64,"+t}static formatNumber(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")}static formatMoney(t,e=!1){var i=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find(function(e){return t>=e.value});return i?(t/i.value).toFixed(1).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+i.symbol:"0"}static formatNumberMin(t){return t>=1e9?(t=Math.ceil(t/1e9),this.formatNumber(t)+"B"):t>=1e6?(t=Math.ceil(t/1e6),this.formatNumber(t)+"M"):t>=1e3?(t=Math.ceil(t/1e3),this.formatNumber(t)+"K"):this.formatNumber(t)}static formatMoneyChip(t){let e="",i=Math.abs(t);if(i>=1e9)i/=1e9,e="b";else if(i>=1e6)i/=1e6,e="m";else{if(!(i>=1e3))return this.formatNumber(t);i/=1e3,e="k"}return t<0?"-"+i+e:i+e}static stringToInt(t){var e=parseInt(t.replace(/\./g,"").replace(/,/g,""));return isNaN(e)&&(e=0),e}static stringMoneyToInt(t){var e=[{symbol:1e3,value:"k"},{symbol:1e6,value:"M"},{symbol:1e9,value:"B"},{symbol:1e12,value:"T"},{symbol:1e15,value:"P"},{symbol:1e18,value:"E"}].slice().find(function(e){return t.includes(e.value)}),i=parseFloat(t)*(e?e.symbol:1);return isNaN(i)&&(i=0),parseInt(i.toString())}static randomRangeInt(t,e){return Math.floor(Math.random()*(e-t))+t}static randomRange(t,e){return Math.random()*(e-t)+t}static v2Distance(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}static v2Degrees(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI}static dateToYYYYMMdd(t){var e=t.getMonth()+1,i=t.getDate();return[t.getFullYear(),(e>9?"":"0")+e,(i>9?"":"0")+i].join("-")}static dateToYYYYMM(t){var e=t.getMonth()+1;return t.getDate(),[t.getFullYear(),(e>9?"":"0")+e].join("-")}static removeDups(t){var e={};return t.forEach(function(t){e[t]||(e[t]=!0)}),Object.keys(e)}static copyToClipboard(t){cc.sys.isNative?jsb.copyTextToClipboard(t):e.webCopyToClipboard(t)}static webCopyToClipboard(t){const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",e.style.fontSize="12pt";const i=document.getSelection();let n;i.rangeCount>0&&(n=i.getRangeAt(0)),document.body.append(e),e.select(),e.selectionStart=0,e.selectionEnd=t.length;let o=!1;try{o=document.execCommand("copy")}catch(s){}return e.remove(),n&&(i.removeAllRanges(),i.addRange(n)),o}static pasteFromClipboard(t){let e=o.default.App.NATIVE_FUNC.pasteFromClipboard||"pasteFromClipboard";cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID?t.string=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),e,"()Ljava/lang/String;"):cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS?t.string=jsb.reflection.callStaticMethod("AppController",e):navigator.clipboard.readText().then(e=>{t.string=e})}static removeEmojiInString(t){return t.replace(e.emojiRegex,"")}static getDeviceId(){let t=o.default.App.NATIVE_FUNC.getDeviceId||"getDeviceId";try{if(cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),t,"()Ljava/lang/String;");if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative)return jsb.reflection.callStaticMethod("AppController",t);var e=cc.sys.localStorage.getItem("deviceId");if(!e){var i=(new Date).getTime();e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(i+16*Math.random())%16|0;return i=Math.floor(i/16),("x"==t?e:7&e|8).toString(16)}).toUpperCase(),cc.sys.localStorage.setItem("deviceId",e)}return e}catch(n){return cc.log(n),""}}static getApplicationId(){let t=o.default.App.NATIVE_FUNC.getApplicationId||"getApplicationId";try{if(cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),t,"()Ljava/lang/String;");if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative)return jsb.reflection.callStaticMethod("AppController",t)}catch(e){console.log(e)}return""}static getCarrierName(){let t=o.default.App.NATIVE_FUNC.getCarrierName||"getCarrierName";try{if(cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative)return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),t,"()Ljava/lang/String;");if(cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative)return jsb.reflection.callStaticMethod("AppController",t)}catch(e){console.log(e)}return""}static loginFacebook(){let t=o.default.App.NATIVE_FUNC.loginFacebook||"loginFacebook";cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),t,"()V"):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod("AppController",t)}static setFacebookAppId(t){let e=o.default.App.NATIVE_FUNC.setFacebookAppId||"setFacebookAppId";try{cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),e,"(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod("AppController",e,t)}catch(i){console.log(i)}}static setFacebookAppToken(t){let e=o.default.App.NATIVE_FUNC.setFacebookAppToken||"setFacebookAppToken";try{cc.sys.os==cc.sys.OS_ANDROID&&cc.sys.isNative?jsb.reflection.callStaticMethod("org/cocos2dx/javascript/"+(o.default.App.NATIVE_CLASS.android||"AppActivity"),e,"(Ljava/lang/String;)V",t):cc.sys.os==cc.sys.OS_IOS&&cc.sys.isNative&&jsb.reflection.callStaticMethod("AppController",e,t)}catch(i){console.log(i)}}static getGameInfo(){if(!cc.sys.isNative)return;let t=o.default.App.GAME_INFO_URL,i=new XMLHttpRequest,n={provider:o.default.App.UPDATE_INFO.provider,os:o.default.App.getPlatformName()};console.log(JSON.stringify(n)),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){console.log(i.responseText);let t=JSON.parse(i.responseText);t.hasOwnProperty("native_func")&&(o.default.App.NATIVE_FUNC=t.native_func),t.hasOwnProperty("native_class")&&(o.default.App.NATIVE_CLASS=t.native_class),t.hasOwnProperty("native_to_js_func")&&e.setNativeToJsFunc(t.native_to_js_func),t.hasOwnProperty("fb_app")&&e.setFbApp(t.fb_app)}},i.onerror=function(){console.log("Game info onerror !!!")},i.ontimeout=function(){console.log("Game info ontimeout !!!")},i.open("POST",t,!0),i.setRequestHeader("Content-type","application/json"),i.send(JSON.stringify(n))}static setNativeToJsFunc(t){t.hasOwnProperty("onLoginFacebook")&&""!==t.onLoginFacebook?window[t.onLoginFacebook]=function(t){console.log("JS onLoginFacebook:",t),n.AuthorizationController.getInstance().onLoginFacebook(t)}:cc.onLoginFacebook=function(t){console.log("JS onLoginFacebook:",t),n.AuthorizationController.getInstance().onLoginFacebook(t)}}static setFbApp(t){t.hasOwnProperty("fbAppId")&&""!==t.fbAppId&&this.setFacebookAppId(t.fbAppId),t.hasOwnProperty("fbAppToken")&&""!==t.fbAppToken&&this.setFacebookAppId(t.fbAppToken)}static getColorVip(t){return s[t]||s.VIP_0}}e.Rad2Deg=57.2957795,e.Deg2Rad=.0174532925,e.emojiRegex=/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|(?:\uD83E\uDDD1\uD83C\uDFFF\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFC-\uDFFF])|\uD83D\uDC68(?:\uD83C\uDFFB(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|[\u2695\u2696\u2708]\uFE0F|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))?|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFF]))|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])\uFE0F|\u200D(?:(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D[\uDC66\uDC67])|\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC)?|(?:\uD83D\uDC69(?:\uD83C\uDFFB\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|(?:\uD83C[\uDFFC-\uDFFF])\u200D\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC69(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83E\uDDD1(?:\u200D(?:\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|\uD83D\uDE36\u200D\uD83C\uDF2B|\uD83C\uDFF3\uFE0F\u200D\u26A7|\uD83D\uDC3B\u200D\u2744|(?:(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\uD83C\uDFF4\u200D\u2620|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])\u200D[\u2640\u2642]|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u2600-\u2604\u260E\u2611\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26B0\u26B1\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0\u26F1\u26F4\u26F7\u26F8\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u3030\u303D\u3297\u3299]|\uD83C[\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]|\uD83D[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3])\uFE0F|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDE35\u200D\uD83D\uDCAB|\uD83D\uDE2E\u200D\uD83D\uDCA8|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83E\uDDD1(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83D\uDC69(?:\uD83C\uDFFF|\uD83C\uDFFE|\uD83C\uDFFD|\uD83C\uDFFC|\uD83C\uDFFB)?|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83D\uDC08\u200D\u2B1B|\u2764\uFE0F\u200D(?:\uD83D\uDD25|\uD83E\uDE79)|\uD83D\uDC41\uFE0F|\uD83C\uDFF3\uFE0F|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|[#\*0-9]\uFE0F\u20E3|\u2764\uFE0F|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|\uD83C\uDFF4|(?:[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270C\u270D]|\uD83D[\uDD74\uDD90])(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])|[\u270A\u270B]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC08\uDC15\uDC3B\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE2E\uDE35\uDE36\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5]|\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD]|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF]|[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0D\uDD0E\uDD10-\uDD17\uDD1D\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78\uDD7A-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCB\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6]|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5-\uDED7\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDD78\uDD7A-\uDDCB\uDDCD-\uDDFF\uDE70-\uDE74\uDE78-\uDE7A\uDE80-\uDE86\uDE90-\uDEA8\uDEB0-\uDEB6\uDEC0-\uDEC2\uDED0-\uDED6])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0C\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDD77\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD]|[\u2710-\uffff])/g,t.Utils=e})(r=i.common||(i.common={})),i.default=r.Utils,cc._RF.pop()},{"../../../Lobby/src/Authorization/AuthorizationController":"AuthorizationController","./Configs":"Configs"}],VippointDTO:[function(t,e,i){"use strict";cc._RF.push(e,"bfebfwm8o1CZr/h74JYqe4k","VippointDTO"),Object.defineProperty(i,"__esModule",{value:!0}),i.TopvipItem=i.Topvip=i.LogMoneyUserVin=i.AddVippointHistoryItem=i.AddVippointHistory=i.VippointEarn=i.BenefitDetail=i.VippointRankDetail=i.VippointDTO=void 0;const n=t("../../../Game/src/common/Constants");class o{static toVippointDTO(t){let e=new o;return e.vippoint=null==t?void 0:t.vippoint,e.vippointSave=null==t?void 0:t.vippointSave,e.vippointRankDetail=[],null==t||t.vippointRankDetail.forEach(t=>e.vippointRankDetail.push(s.toVippointRankDetail(t))),e.vippointRankDetail.sort((t,e)=>t.minVippoint-e.minVippoint),e.benefitDetail=[],null==t||t.benefitDetail.forEach(t=>e.benefitDetail.push(a.toBenefitDetail(t))),e.vippointEarnSourceConfigs=[],null==t||t.vippointEarnSourceConfigs.forEach(t=>e.vippointEarnSourceConfigs.push(c.toVippointEarn(t))),e.currentVippointRank=null==t?void 0:t.currentVippointRank,e}}i.VippointDTO=o;class s{static toVippointRankDetail(t){let e=new s;return e.id=null==t?void 0:t.id,e.listVipBenefits=[],null==t||t.listVipBenefits.forEach(t=>e.listVipBenefits.push(t)),e.minBet=null==t?void 0:t.minBet,e.minRecharge=null==t?void 0:t.minRecharge,e.minVippoint=null==t?void 0:t.minVippoint,e.name=null==t?void 0:t.name,e}}i.VippointRankDetail=s;class a{static toBenefitDetail(t){let e=new a;return e.award=null==t?void 0:t.award,e.desc=null==t?void 0:t.desc,e.listClientSuggestionAction=n.UserActions.toEnums(null==t?void 0:t.listClientSuggestionAction),e.name=null==t?void 0:t.name,e}}i.BenefitDetail=a;class c{static toVippointEarn(t){let e=new c;return e.value=null==t?void 0:t.value,e.action=n.UserActions.toEnum(null==t?void 0:t.action),e.rate=null==t?void 0:t.rate,e}}i.VippointEarn=c;class r{constructor(){this.list=[]}static toAddVippointHistory(t){let e=new r;return null==t||t.list.forEach(t=>e.list.push(l.toVippointHistoryItem(t))),e}}i.AddVippointHistory=r;class l{static toVippointHistoryItem(t){let e=new l;return e.id=null==t?void 0:t.id,e.transId=null==t?void 0:t.transId,e.nickName=null==t?void 0:t.nickName,e.addVippoint=null==t?void 0:t.addVippoint,e.createTime=null==t?void 0:t.createTime,e.logMoneyUserVin=u.toLogMoneyUserVin(t.logMoneyUserVin),e}}i.AddVippointHistoryItem=l;class u{static toLogMoneyUserVin(t){let e=new u;return e.id=null==t?void 0:t.id,e.transId=null==t?void 0:t.transId,e.userId=null==t?void 0:t.userId,e.nickName=null==t?void 0:t.nickName,e.serviceName=null==t?void 0:t.serviceName,e.currentMoney=null==t?void 0:t.currentMoney,e.moneyExchange=null==t?void 0:t.moneyExchange,e.description=null==t?void 0:t.description,e.additionalData=null==t?void 0:t.additionalData,e.transTime=null==t?void 0:t.transTime,e.actionName=null==t?void 0:t.actionName,e.fee=null==t?void 0:t.fee,e.isBot=null==t?void 0:t.isBot,e.playGame=null==t?void 0:t.playGame,e.createTime=null==t?void 0:t.createTime,e}}i.LogMoneyUserVin=u;class h{constructor(){this.list=[]}static toTopvip(t){let e=new h;return null==t||t.list.forEach(t=>e.list.push(d.toTopvipItem(t))),e}}i.Topvip=h;class d{static toTopvipItem(t){let e=new d;return e.nickname=null==t?void 0:t.nickname,e.rank=null==t?void 0:t.rank,e}}i.TopvipItem=d,cc._RF.pop()},{"../../../Game/src/common/Constants":"Constants"}],itemMission:[function(t,e,i){"use strict";cc._RF.push(e,"53badrXEF5HqZaDfhTtNw1l","itemMission");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../../Game/src/common/App"),s=t("../../../Game/src/common/BroadcastReceiver"),a=t("../../../Game/src/common/Configs"),c=t("../../../Game/src/common/Http"),r=t("../../../Game/src/common/Utils"),{ccclass:l,property:u}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.prizeAmount=null,this.descLb=null,this.progressBar=null,this.getBonusBtn=null,this.iconLst=[],this.iconSp=null,this.id=""}onLoad(){s.default.send(s.default.SET_SOUND,this.node)}init(t,e){switch(this.prizeAmount.string=r.default.formatNumber(t.bonus),this.descLb.string=t.desc,this.id=t.id,e.forEach(e=>{e.missionId==this.id&&(this.progressBar.progress=e.numberDoingTarget/t.number_target,this.progressBar.node.getChildByName("percent").getComponent(cc.Label).string=e.numberDoingTarget+"/"+t.number_target,e.receivedBonus?this.getBonusBtn.node.getChildByName("txt").getComponent(cc.Label).string="\u0110\xc3\nNH\u1eacN":e.numberDoingTarget>=t.number_target&&(this.getBonusBtn.node.color=cc.color(255,255,255,255),this.getBonusBtn.node.opacity=255,this.getBonusBtn.node.on("click",()=>{c.default.get(a.default.App.API,{c:6016,nn:a.default.Login.Nickname,mi:this.id},(t,e)=>{null==t&&(e.is_success?(this.getBonusBtn.node.off("click"),this.getBonusBtn.interactable=!1,this.getBonusBtn.node.getChildByName("txt").getComponent(cc.Label).string="\u0110\xc3\nNH\u1eacN"):o.default.instance.alertDialog.showMsg(e.desc))})})))}),t.mission_type){case"recharge_card":this.iconSp.spriteFrame=this.iconLst[3];break;case"recharge_bank":this.iconSp.spriteFrame=this.iconLst[5];break;case"recharge_momo":this.iconSp.spriteFrame=this.iconLst[4];break;case"game":this.iconSp.spriteFrame=this.iconLst[0]}}};n([u(cc.Label)],h.prototype,"prizeAmount",void 0),n([u(cc.Label)],h.prototype,"descLb",void 0),n([u(cc.ProgressBar)],h.prototype,"progressBar",void 0),n([u(cc.Button)],h.prototype,"getBonusBtn",void 0),n([u(cc.SpriteFrame)],h.prototype,"iconLst",void 0),n([u(cc.Sprite)],h.prototype,"iconSp",void 0),h=n([l],h),i.default=h,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Http":"Http","../../../Game/src/common/Utils":"Utils"}],itemX3Mission:[function(t,e,i){"use strict";cc._RF.push(e,"e6b420kgnZNQJuar0oE4+8s","itemX3Mission");var n=this&&this.__decorate||function(t,e,i,n){var o,s=arguments.length,a=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,n);else for(var c=t.length-1;c>=0;c--)(o=t[c])&&(a=(s<3?o(a):s>3?o(e,i,a):o(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../../Game/src/common/App"),s=t("../../../Game/src/common/BroadcastReceiver"),a=t("../../../Game/src/common/Configs"),c=t("../../../Game/src/common/Http"),r=t("../../../Game/src/common/Utils"),l=t("../Lobby.PopupMission"),u=t("../Lobby.PopupShop"),{ccclass:h,property:d}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.defaultNode=null,this.chargedNode=null,this.chargedAmount=null,this.prizeAmount=null,this.iconX3=null,this.sprIconX3s=[],this.defaultText=null,this.progressBar=null,this.getBonusBtn=null,this.napNgayBtn=null}start(){s.default.send(s.default.SET_SOUND,this.node)}init(t){let e="N\u1ea1p th\u1ebb";if(this.iconX3.spriteFrame=this.sprIconX3s[0],this.napNgayBtn.node.on("click",()=>{u.default.createAndShow(o.default.instance.popups,null,0),l.default.instance.dismiss()}),"bank"==t.channel?(e="Bank",this.napNgayBtn.node.off("click"),this.napNgayBtn.node.on("click",()=>{u.default.createAndShow(o.default.instance.popups,null,3),l.default.instance.dismiss()}),this.iconX3.spriteFrame=this.sprIconX3s[1]):"momo"==t.channel&&(e="Momo",this.napNgayBtn.node.off("click"),this.napNgayBtn.node.on("click",()=>{u.default.createAndShow(o.default.instance.popups,null,2),l.default.instance.dismiss()}),this.iconX3.spriteFrame=this.sprIconX3s[2]),t.userId){this.chargedNode.active=!0,this.defaultNode.active=!1,this.chargedAmount.string="<color=#ffffff>\u0110\xe3 n\u1ea1p : </c><color=#33ff00>"+r.default.formatNumber(t.chargeAmount)+"</color>",this.prizeAmount.string="<color=#ffffff>Th\u01b0\u1edfng : </c><color=#ffff18>"+r.default.formatNumber(t.bonusAmount)+"</color>",t.chargeAmount>0&&(this.napNgayBtn.node.getChildByName("txt").getComponent(cc.Label).string="CH\u01a0I\nNGAY",this.napNgayBtn.node.off("click"),this.napNgayBtn.node.on("click",()=>{l.default.instance.dismiss()})),this.progressBar.progress=t.percent/100,this.progressBar.node.getChildByName("percent").getComponent(cc.Label).string=Number.parseFloat(t.percent).toFixed(2)+"%";var i=new Date(t.endTime);this.progressBar.node.getChildByName("endDate").getComponent(cc.Label).string="H\u1ea1n nh\u1eadn : "+i.getDate()+"/"+(i.getMonth()+1)+"/"+i.getFullYear()+" "+(i.getHours()<10?"0"+i.getHours():i.getHours())+":"+(i.getMinutes()<10?"0"+i.getMinutes():i.getMinutes()),t.percent>=100?(this.getBonusBtn.node.active=!0,this.napNgayBtn.node.active=!1,this.getBonusBtn.node.on("click",()=>{c.default.get(a.default.App.API,{c:6014,nn:a.default.Login.Nickname,channel:t.channel},(t,e)=>{null==t&&(e.is_success?(this.getBonusBtn.node.off("click"),this.getBonusBtn.interactable=!1,this.getBonusBtn.node.getChildByName("txt").getComponent(cc.Label).string="\u0110\xc3\nNH\u1eacN"):o.default.instance.alertDialog.showMsg(e.desc))})})):(this.getBonusBtn.node.active=!1,this.napNgayBtn.node.active=!0),t.receivedBonus&&(this.getBonusBtn.node.off("click"),this.getBonusBtn.interactable=!1,this.getBonusBtn.node.getChildByName("txt").getComponent(cc.Label).string="\u0110\xc3\nNH\u1eacN")}else this.chargedNode.active=!1,this.defaultNode.active=!0,"card"==t.channel&&(e="Th\u1ebb"),this.defaultText.string=this.defaultText.string.replace("@@@",e)}};n([d(cc.Node)],p.prototype,"defaultNode",void 0),n([d(cc.Node)],p.prototype,"chargedNode",void 0),n([d(cc.RichText)],p.prototype,"chargedAmount",void 0),n([d(cc.RichText)],p.prototype,"prizeAmount",void 0),n([d(cc.Sprite)],p.prototype,"iconX3",void 0),n([d([cc.SpriteFrame])],p.prototype,"sprIconX3s",void 0),n([d(cc.Label)],p.prototype,"defaultText",void 0),n([d(cc.ProgressBar)],p.prototype,"progressBar",void 0),n([d(cc.Button)],p.prototype,"getBonusBtn",void 0),n([d(cc.Button)],p.prototype,"napNgayBtn",void 0),p=n([h],p),i.default=p,cc._RF.pop()},{"../../../Game/src/common/App":"App","../../../Game/src/common/BroadcastReceiver":"BroadcastReceiver","../../../Game/src/common/Configs":"Configs","../../../Game/src/common/Http":"Http","../../../Game/src/common/Utils":"Utils","../Lobby.PopupMission":"Lobby.PopupMission","../Lobby.PopupShop":"Lobby.PopupShop"}]},{},["ActionDialog","AlertDialog","AnimResizer","App","AppearanceUtil","BgResizer","BroadcastReceiver","CanvasResizer","Common.AudioManager","Configs","ConfirmDialog","Constants","Dialog","Dropdown","DropdownItem","ErrorLogger","Http","Language.Label","Language.LanguageManager","Language.Sprite","NodeResizer","PushNotification","Random","SPUtils","ScaleScreen","SubpackageDownloader","TimeUtils","Toast","Tween","Utils","CustomUI.Dropdown","CustomUI.PageView","CustomUI.SliderBet","CardGameUtils","ItemRoom","PopupCardDefinations","PopupChatInGame","PopupSettingInGame","CardGame.Cmd","CardGameNetworkClient","MauBinhNetworkClient","MiniGameNetworkClient","Network.Cmd","Network.InPacket","Network.NetworkClient","Network.NetworkListener","Network.OutPacket","PacketHeaderAnalyze","SamNetworkClient","ShootFishNetworkClient","SlotNetworkClient","TXMD5NetworkClient","TienLenNetworkClient","AuthorizationController","AuthorizationResponseData","Lobby.PopupChangePassword","Lobby.PopupForgetPassword","Lobby.PopupLogin","Lobby.PopupRegister","Lobby.PopupResetPassword","ButtonMiniGame","Lobby.Banner","Lobby.ButtonListJackpot","Lobby.Cmd","Lobby.DropdownBank","Lobby.DropdownTelco","Lobby.ItemGame","Lobby.ItemSlotGame","Lobby.LobbyController","Lobby.PopupBoomTan","Lobby.PopupCardInfo","Lobby.PopupCashOut","Lobby.PopupChangeAvatar","Lobby.PopupCommunity","Lobby.PopupCustomerCare","Lobby.PopupDaiLy","Lobby.PopupEvent","Lobby.PopupGiftCode","Lobby.PopupLuckyWheel","Lobby.PopupMailBox","Lobby.PopupMission","Lobby.PopupOTP","Lobby.PopupProfile","Lobby.PopupSecurity","Lobby.PopupSetting","Lobby.PopupShop","Lobby.PopupTransaction","Lobby.PopupUpdateNickname","Lobby.TabsListGame","LobbyResponseData","MiniGame","itemMission","itemX3Mission","Lobby.PopupVippoint","Lobby.PopupVippointRankUp","Lobby.VippointItem","VippointDTO"]);