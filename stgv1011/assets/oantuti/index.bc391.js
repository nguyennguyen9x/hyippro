window.__require=function t(e,i,a){function s(o,l){if(!i[o]){if(!e[o]){var r=o.split("/");if(r=r[r.length-1],!e[r]){var c="function"==typeof __require&&__require;if(!l&&c)return c(r,!0);if(n)return n(r,!0);throw new Error("Cannot find module '"+o+"'")}o=r}var h=i[o]={exports:{}};e[o][0].call(h.exports,function(t){return s(e[o][1][t]||t)},h,h.exports,t,e,i,a)}return i[o].exports}for(var n="function"==typeof __require&&__require,o=0;o<a.length;o++)s(a[o]);return s}({"OanTuTi.OanTuTiController":[function(t,e,i){"use strict";cc._RF.push(e,"efd21JpQ3BI1om0o4SIUbj2","OanTuTi.OanTuTiController");var a=this&&this.__decorate||function(t,e,i,a){var s,n=arguments.length,o=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Main/Lobby/src/MiniGame"),n=t("../../Main/Game/src/networks/ShootFishNetworkClient"),o=t("../../Main/Game/src/common/Configs"),l=t("../../Main/Game/src/common/App"),r=t("../../Main/Game/src/common/Utils"),c=t("../../Main/Game/src/common/BroadcastReceiver"),h=t("./OanTuTi.PopupCoinTransfer"),{ccclass:d,property:m}=cc._decorator;let g=class extends s.default{constructor(){super(...arguments),this.lblCoin=null,this.lblBet=null,this.btnBets=[],this.btnPlayNow=null,this.panelSelectBet=null,this.players=null,this.mePlayer=null,this.otherPlayer=null,this.panelSearchingMatch=null,this.panelPlaying=null,this.panelResult=null,this.lblSearching=null,this.btnCancel=null,this.lblTime=null,this.progressTime=null,this.btnPlays=[],this.sprPlaysActive=[],this.sprPlaysNormal=[],this.sprResults=[],this.toggleAuto=null,this.popups=[],this.popupCoinTransfer=null,this.listBet=[1e3,5e3,1e4,5e4,1e5],this.timePlaying=10,this.remainTime=0,this.lastBetValue=0,this.isPlaying=!1}start(){super.start(),c.default.register(c.default.USER_UPDATE_COIN,()=>{this.node.active&&(this.lblCoin.string=r.default.formatNumber(o.default.Login.CoinFish))},this),c.default.send(c.default.USER_UPDATE_COIN),n.default.getInstance().addListener((t,e)=>{if(this.node.active)switch(["OttOnMatching","OttOnMatchStart","OttOnMatchEnd","OttOnMatchSolved"].indexOf(t)>=0&&(cc.log(t),cc.log(e)),t){case"OttOnMatching":{let t="",i="";e.userId1==o.default.Login.UserIdFish?(t=e.nickname2,i=e.avatar2):(t=e.nickname1,i=e.avatar1),this.panelSelectBet.active=!1,this.panelPlaying.active=!1,this.players.active=!0,this.lblSearching.string="\u0110\xc3 T\xccM TH\u1ea4Y \u0110\u1ed0I TH\u1ee6",this.btnCancel.node.active=!1,this.otherPlayer.active=!0,this.otherPlayer.getChildByName("lblNickname").getComponent(cc.Label).string=t,this.otherPlayer.getChildByName("sprAvatar").getComponent(cc.Sprite).spriteFrame=l.default.instance.getAvatarSpriteFrame(i),this.lblBet.string="C\u01af\u1ee2C: "+Math.floor(e.blind/1e3)+"K"}break;case"OttOnMatchStart":this.panelSearchingMatch.active=!1,this.panelPlaying.active=!0,this.panelResult.active=!1,this.players.active=!0,this.remainTime=this.timePlaying,this.lblTime.node.parent.active=!0,this.progressTime.fillRange=1;for(let t=0;t<this.btnPlays.length;t++)this.btnPlays[t].interactable=!0,this.btnPlays[t].getComponent(cc.Sprite).spriteFrame=this.sprPlaysActive[t];break;case"OttOnMatchEnd":{let t=e.result,i=e.changeCash1,a=e.changeCash2,s=e.blind,n=this.panelResult.getChildByName("lblWin"),l=this.panelResult.getChildByName("lblLose");e.userId1==o.default.Login.UserIdFish?(0!=t&&(1==t?n.getComponent(cc.Label).string="+"+r.default.formatNumber(i):l.getComponent(cc.Label).string=r.default.formatNumber(-s)),o.default.Login.CoinFish=e.cash1):(0!=t&&(2==t?n.getComponent(cc.Label).string="+"+r.default.formatNumber(a):l.getComponent(cc.Label).string=r.default.formatNumber(-s)),o.default.Login.CoinFish=e.cash2),c.default.send(c.default.USER_UPDATE_COIN),this.scheduleOnce(()=>{this.resetView(),this.toggleAuto.isChecked?this.selectBet(this.lastBetValue):this.isPlaying=!1},5)}case"OttOnMatchSolved":{this.panelResult.active=!0,this.lblTime.node.parent.active=!1;let t=e.result,i=e.choice1,a=e.choice2,s=this.panelResult.getChildByName("meValue"),n=this.panelResult.getChildByName("otherValue"),l=s.getChildByName("active"),r=n.getChildByName("active"),c=this.panelResult.getChildByName("lblWin");c.active=!1;let h=this.panelResult.getChildByName("lblLose");h.active=!1;let d=this.panelResult.getChildByName("hoa");d.active=!1;let m=this.panelResult.getChildByName("thang");m.active=!1;let g=this.panelResult.getChildByName("thua");if(g.active=!1,e.userId1==o.default.Login.UserIdFish){s.getComponent(cc.Sprite).spriteFrame=this.sprResults[i],n.getComponent(cc.Sprite).spriteFrame=this.sprResults[a];for(let t=0;t<this.btnPlays.length;t++)this.btnPlays[t].interactable=!1,this.btnPlays[t].getComponent(cc.Sprite).spriteFrame=i==t?this.sprPlaysActive[t]:this.sprPlaysNormal[t];0==t?(d.active=!0,d.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),l.active=!0,r.active=!0):1==t?(m.active=!0,m.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),c.active=!0,l.active=!0,r.active=!1):(g.active=!0,g.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),h.active=!0,l.active=!1,r.active=!0)}else{s.getComponent(cc.Sprite).spriteFrame=this.sprResults[a],n.getComponent(cc.Sprite).spriteFrame=this.sprResults[i];for(let t=0;t<this.btnPlays.length;t++)this.btnPlays[t].interactable=!1,this.btnPlays[t].getComponent(cc.Sprite).spriteFrame=a==t?this.sprPlaysActive[t]:this.sprPlaysNormal[t];0==t?(d.active=!0,d.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),l.active=!0,r.active=!0):2==t?(m.active=!0,m.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),c.active=!0,l.active=!0,r.active=!1):(g.active=!0,g.getComponent(sp.Skeleton).setAnimation(0,"animation",!1),h.active=!0,l.active=!1,r.active=!0)}break}}},this);for(let t=0;t<this.btnBets.length;t++)this.btnBets[t].node.on("click",()=>{this.selectBet(this.listBet[t])});for(let t=0;t<this.btnPlays.length;t++)this.btnPlays[t].node.on("click",()=>{this.play(t)})}update(t){if(this.remainTime>0){this.remainTime=Math.max(0,this.remainTime-t);let e=Math.round(this.remainTime);this.lblTime.string=(e>9?"":"0")+e,this.progressTime.fillRange=this.remainTime/this.timePlaying}}show(){this.node.active?this.reOrder():(super.show(),this.toggleAuto.isChecked=!1,this.resetView())}_onShowed(){super._onShowed(),n.default.getInstance().checkConnect(t=>{this.node.active&&(t?(c.default.send(c.default.USER_UPDATE_COIN),o.default.Login.CoinFish<=0&&l.default.instance.confirmDialog.show3("Ti\u1ec1n trong B\u1eafn C\xe1 c\u1ee7a b\u1ea1n \u0111\xe3 h\u1ebft, b\u1ea1n c\xf3 mu\u1ed1n chuy\u1ec3n ti\u1ec1n v\xe0o kh\xf4ng?","C\xf3",t=>{t&&this.popupCoinTransfer.show()})):this.dismiss())})}dismiss(){if(this.isPlaying)l.default.instance.alertDialog.showMsg("B\u1ea1n \u0111ang ch\u01a1i kh\xf4ng th\u1ec3 tho\xe1t.");else{super.dismiss();for(let t=0;t<this.popups.length;t++)this.popups[t].active=!1}}resetView(){this.lblBet.string="CH\u1eccN C\u01af\u1ee2C",this.panelSelectBet.active=!0,this.panelPlaying.active=!1,this.panelResult.active=!1,this.players.active=!1,this.panelSearchingMatch.active=!1,this.mePlayer.active=!0,this.mePlayer.getChildByName("sprAvatar").getComponent(cc.Sprite).spriteFrame=l.default.instance.getAvatarSpriteFrame(o.default.Login.Avatar),this.otherPlayer.active=!1,this.otherPlayer.getChildByName("lblNickname").getComponent(cc.Label).string="",this.interactableBtnBets(!0)}playNow(){this.selectBet(0)}selectBet(t){this.interactableBtnBets(!1),this.isPlaying=!0,cc.log("betValue: "+t),n.default.getInstance().request("OTT1",{userId:o.default.Login.UserIdFish,nickname:o.default.Login.Nickname,blind:t},e=>{if(200!=e.code){switch(e.code){case 302:l.default.instance.alertDialog.showMsg("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.");break;default:l.default.instance.alertDialog.showMsg("L\u1ed7i "+e.code+", kh\xf4ng x\xe1c \u0111\u1ecbnh.")}return this.interactableBtnBets(!0),void(this.isPlaying=!1)}if(this.lastBetValue=t,t<=0)this.lblBet.string="C\u01af\u1ee2C: __";else{let e=Math.floor(t/1e3);this.lblBet.string="C\u01af\u1ee2C: "+r.default.formatNumber(e)+"K"}this.panelSelectBet.active=!1,this.panelSearchingMatch.active=!0,this.players.active=!0,this.lblSearching.string="\u0110ANG T\xccM KI\u1ebeM \u0110\u1ed0I TH\u1ee6...",this.btnCancel.node.active=!0},this)}play(t){n.default.getInstance().request("OTT2",{userId:o.default.Login.UserIdFish,choice:t},e=>{if(cc.log(e),200!=e.code)return l.default.instance.alertDialog.showMsg("L\u1ed7i "+e.code+", kh\xf4ng x\xe1c \u0111\u1ecbnh."),void this.interactableBtnBets(!0);for(let i=0;i<this.btnPlays.length;i++)this.btnPlays[i].interactable=!1,this.btnPlays[i].getComponent(cc.Sprite).spriteFrame=i==t?this.sprPlaysActive[i]:this.sprPlaysNormal[i]},this)}interactableBtnBets(t){for(let e=0;e<this.btnBets.length;e++)this.btnBets[e].interactable=t;this.btnPlayNow.interactable=t}actCancel(){n.default.getInstance().request("OTT11",{},t=>{200==t.code?(this.resetView(),this.isPlaying=!1):l.default.instance.alertDialog.showMsg("L\u1ed7i "+t.code+", kh\xf4ng x\xe1c \u0111\u1ecbnh.")},this)}};a([m(cc.Label)],g.prototype,"lblCoin",void 0),a([m(cc.Label)],g.prototype,"lblBet",void 0),a([m([cc.Button])],g.prototype,"btnBets",void 0),a([m(cc.Button)],g.prototype,"btnPlayNow",void 0),a([m(cc.Node)],g.prototype,"panelSelectBet",void 0),a([m(cc.Node)],g.prototype,"players",void 0),a([m(cc.Node)],g.prototype,"mePlayer",void 0),a([m(cc.Node)],g.prototype,"otherPlayer",void 0),a([m(cc.Node)],g.prototype,"panelSearchingMatch",void 0),a([m(cc.Node)],g.prototype,"panelPlaying",void 0),a([m(cc.Node)],g.prototype,"panelResult",void 0),a([m(cc.Label)],g.prototype,"lblSearching",void 0),a([m(cc.Button)],g.prototype,"btnCancel",void 0),a([m(cc.Label)],g.prototype,"lblTime",void 0),a([m(cc.Sprite)],g.prototype,"progressTime",void 0),a([m([cc.Button])],g.prototype,"btnPlays",void 0),a([m([cc.SpriteFrame])],g.prototype,"sprPlaysActive",void 0),a([m([cc.SpriteFrame])],g.prototype,"sprPlaysNormal",void 0),a([m([cc.SpriteFrame])],g.prototype,"sprResults",void 0),a([m(cc.Toggle)],g.prototype,"toggleAuto",void 0),a([m([cc.Node])],g.prototype,"popups",void 0),a([m(h.default)],g.prototype,"popupCoinTransfer",void 0),g=a([d],g),i.default=g,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/ShootFishNetworkClient":void 0,"../../Main/Lobby/src/MiniGame":void 0,"./OanTuTi.PopupCoinTransfer":"OanTuTi.PopupCoinTransfer"}],"OanTuTi.PopupCoinTransfer":[function(t,e,i){"use strict";cc._RF.push(e,"d70b9QEdnNK6LswYvb78XXC","OanTuTi.PopupCoinTransfer");var a=this&&this.__decorate||function(t,e,i,a){var s,n=arguments.length,o=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0}),i.TabCashOut=i.TabCashIn=void 0;const s=t("../../Main/Game/src/common/Utils"),n=t("../../Main/Game/src/networks/ShootFishNetworkClient"),o=t("../../Main/Game/src/common/App"),l=t("../../Main/Game/src/common/Configs"),r=t("../../Main/Game/src/common/BroadcastReceiver"),c=t("../../Main/Game/src/networks/MiniGameNetworkClient"),h=t("../../Main/Lobby/src/Lobby.Cmd"),d=t("../../Main/Game/src/common/Dialog"),{ccclass:m,property:g}=cc._decorator;let p=class{constructor(){this.lblBalance=null,this.edbCoin=null,this.quickButtons=null,this.popup=null,this.values=[5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7]}start(t){this.popup=t,this.edbCoin.node.on("editing-did-ended",()=>{let t=s.default.stringToInt(this.edbCoin.string);this.edbCoin.string=s.default.formatNumber(t)});for(let i=0;i<this.quickButtons.childrenCount;i++){var e=this.quickButtons.children[i];let t=this.values[i];e.getComponentInChildren(cc.Label).string=s.default.formatNumber(t),e.on("click",()=>{this.edbCoin.string=s.default.formatNumber(t)})}}submit(){let t=s.default.stringToInt(this.edbCoin.string);t<=0?o.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7."):(o.default.instance.showLoading(!0),n.default.getInstance().request("xxengCashin",{ccash:t},t=>{o.default.instance.showLoading(!1),t.ok?(l.default.Login.CoinFish=t.newCash,r.default.send(r.default.USER_UPDATE_COIN),o.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng."),this.reset(),c.default.getInstance().send(new h.default.ReqGetMoneyUse)):o.default.instance.alertDialog.showMsg("Thao t\xe1c th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau.")},this.popup))}reset(){this.edbCoin.string="",this.lblBalance.string=s.default.formatNumber(l.default.Login.Coin)}};a([g(cc.Label)],p.prototype,"lblBalance",void 0),a([g(cc.EditBox)],p.prototype,"edbCoin",void 0),a([g(cc.Node)],p.prototype,"quickButtons",void 0),p=a([m("OanTuTi.PopupCoinTransfer.TabCashIn")],p),i.TabCashIn=p;let u=class{constructor(){this.lblBalance=null,this.edbCoin=null,this.quickButtons=null,this.popup=null,this.values=[5e4,1e5,2e5,5e5,1e6,2e6,5e6,1e7,2e7]}start(t){this.popup=t,this.edbCoin.node.on("editing-did-ended",()=>{let t=s.default.stringToInt(this.edbCoin.string);this.edbCoin.string=s.default.formatNumber(t)});for(let i=0;i<this.quickButtons.childrenCount;i++){var e=this.quickButtons.children[i];let t=this.values[i];e.getComponentInChildren(cc.Label).string=s.default.formatNumber(t),e.on("click",()=>{this.edbCoin.string=s.default.formatNumber(t)})}}submit(){let t=s.default.stringToInt(this.edbCoin.string);t<=0?o.default.instance.alertDialog.showMsg("S\u1ed1 ti\u1ec1n \u0111\xe3 nh\u1eadp kh\xf4ng h\u1ee3p l\u1ec7."):(o.default.instance.showLoading(!0),n.default.getInstance().request("xxengCashin",{ccash:-t},t=>{o.default.instance.showLoading(!1),t.ok?(l.default.Login.CoinFish=t.newCash,r.default.send(r.default.USER_UPDATE_COIN),o.default.instance.alertDialog.showMsg("Thao t\xe1c th\xe0nh c\xf4ng."),this.reset(),c.default.getInstance().send(new h.default.ReqGetMoneyUse)):o.default.instance.alertDialog.showMsg("Thao t\xe1c th\u1ea5t b\u1ea1i, vui l\xf2ng th\u1eed l\u1ea1i sau.")},this.popup))}reset(){this.edbCoin.string="",this.lblBalance.string=s.default.formatNumber(l.default.Login.CoinFish)}};a([g(cc.Label)],u.prototype,"lblBalance",void 0),a([g(cc.EditBox)],u.prototype,"edbCoin",void 0),a([g(cc.Node)],u.prototype,"quickButtons",void 0),u=a([m("OanTuTi.PopupCoinTransfer.TabCashOut")],u),i.TabCashOut=u;let f=class extends d.default{constructor(){super(...arguments),this.tabs=null,this.tabContents=null,this.tabCashIn=null,this.tabCashOut=null,this.tabSelectedIdx=0}start(){for(let t=0;t<this.tabs.toggleItems.length;t++)this.tabs.toggleItems[t].node.on("toggle",()=>{this.tabSelectedIdx=t,this.onTabChanged()});r.default.register(r.default.USER_UPDATE_COIN,()=>{this.tabCashIn.lblBalance.string=s.default.formatNumber(l.default.Login.Coin),this.tabCashOut.lblBalance.string=s.default.formatNumber(l.default.Login.CoinFish)},this),this.tabCashIn.start(this),this.tabCashOut.start(this)}show(){super.show(),this.tabSelectedIdx=0,this.tabs.toggleItems[this.tabSelectedIdx].isChecked=!0,this.onTabChanged()}onTabChanged(){for(let t=0;t<this.tabContents.childrenCount;t++)this.tabContents.children[t].active=t==this.tabSelectedIdx;switch(this.tabSelectedIdx){case 0:this.tabCashIn.reset();break;case 1:this.tabCashOut.reset()}}actSubmitCashIn(){this.tabCashIn.submit()}actSubmitCashOut(){this.tabCashOut.submit()}actClearCashIn(){this.tabCashIn.edbCoin.string="0"}actClearCashOut(){this.tabCashOut.edbCoin.string="0"}};a([g(cc.ToggleContainer)],f.prototype,"tabs",void 0),a([g(cc.Node)],f.prototype,"tabContents",void 0),a([g(p)],f.prototype,"tabCashIn",void 0),a([g(u)],f.prototype,"tabCashOut",void 0),f=a([m],f),i.default=f,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/ShootFishNetworkClient":void 0,"../../Main/Lobby/src/Lobby.Cmd":void 0}],"OanTuTi.PopupHistory":[function(t,e,i){"use strict";cc._RF.push(e,"f1670dR+nNIG7R6Pfw6NB+L","OanTuTi.PopupHistory");var a=this&&this.__decorate||function(t,e,i,a){var s,n=arguments.length,o=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Main/Game/src/common/Dialog"),n=t("../../Main/Game/src/common/App"),o=t("../../Main/Game/src/networks/ShootFishNetworkClient"),l=t("../../Main/Game/src/common/Configs"),r=t("../../Main/Game/src/common/Utils"),{ccclass:c,property:h}=cc._decorator;let d=class extends s.default{constructor(){super(...arguments),this.lblPage=null,this.itemTemplate=null,this.page=1,this.maxPage=1,this.items=new Array,this.data=null}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}actNextPage(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())}actPrevPage(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())}loadData(){n.default.instance.showLoading(!0),o.default.getInstance().request("OTT3",{userId:l.default.Login.UserIdFish},t=>{if(n.default.instance.showLoading(!1),200==t.code){if(0==this.items.length){for(var e=0;e<10;e++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}this.data=t.data,this.maxPage=Math.ceil(this.data.length/10),this.page=1,this.loadDataLocal()}},this)}loadDataLocal(){if(null==this.data)return;this.lblPage.string=this.page+"/"+this.maxPage;let t=10*(this.page-1),e=10;t+e>this.data.length&&(e=this.data.length-t);for(let i=0;i<this.items.length;i++){let a=this.items[i];if(i<e){let e=this.data[t+i];if(a.getChildByName("bg").opacity=i%2==0?10:0,a.getChildByName("Session").getComponent(cc.Label).string=e.Id,a.getChildByName("Time").getComponent(cc.Label).string=e.GameTime,e.Nickname1==l.default.Login.Nickname){a.getChildByName("Choice").getComponent(cc.Label).string=this.getChoiceName(e.Choice1),a.getChildByName("OtherPlayer").getComponent(cc.Label).string=e.Nickname2;let t="Ho\xe0";1==e.Result?(a.getChildByName("Receive").getComponent(cc.Label).string="+"+r.default.formatNumber(e.CashChange1),t="Th\u1eafng"):2==e.Result?(a.getChildByName("Receive").getComponent(cc.Label).string=r.default.formatNumber(-e.Blind),t="Thua"):a.getChildByName("Receive").getComponent(cc.Label).string="+"+r.default.formatNumber(e.Blind),a.getChildByName("Result").getComponent(cc.Label).string=t}else{a.getChildByName("Choice").getComponent(cc.Label).string=this.getChoiceName(e.Choice2),a.getChildByName("OtherPlayer").getComponent(cc.Label).string=e.Nickname1;let t="Ho\xe0";2==e.Result?(a.getChildByName("Receive").getComponent(cc.Label).string="+"+r.default.formatNumber(e.CashChange2),t="Th\u1eafng"):1==e.Result?(a.getChildByName("Receive").getComponent(cc.Label).string=r.default.formatNumber(-e.Blind),t="Thua"):a.getChildByName("Receive").getComponent(cc.Label).string="+"+r.default.formatNumber(e.Blind),a.getChildByName("Result").getComponent(cc.Label).string=t}a.getChildByName("Bet").getComponent(cc.Label).string=r.default.formatNumber(e.Blind),a.active=!0}else a.active=!1}}getChoiceName(t){switch(t){case 0:return"K\xe9o";case 1:return"Bao";case 2:return"B\xfaa"}}};a([h(cc.Label)],d.prototype,"lblPage",void 0),a([h(cc.Node)],d.prototype,"itemTemplate",void 0),d=a([c],d),i.default=d,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/ShootFishNetworkClient":void 0}],"OanTuTi.PopupHonors":[function(t,e,i){"use strict";cc._RF.push(e,"dbd49yYsz1BmZQ6ZieAMc2B","OanTuTi.PopupHonors");var a=this&&this.__decorate||function(t,e,i,a){var s,n=arguments.length,o=n<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,i):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,a);else for(var l=t.length-1;l>=0;l--)(s=t[l])&&(o=(n<3?s(o):n>3?s(e,i,o):s(e,i))||o);return n>3&&o&&Object.defineProperty(e,i,o),o};Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Main/Game/src/common/Dialog"),n=t("../../Main/Game/src/common/App"),o=t("../../Main/Game/src/networks/ShootFishNetworkClient"),l=t("../../Main/Game/src/common/Configs"),r=t("../../Main/Game/src/common/Utils"),{ccclass:c,property:h}=cc._decorator;let d=class extends s.default{constructor(){super(...arguments),this.lblPage=null,this.itemTemplate=null,this.page=1,this.maxPage=1,this.items=new Array,this.data=null}show(){super.show();for(let t=0;t<this.items.length;t++)this.items[t].active=!1;null!=this.itemTemplate&&(this.itemTemplate.active=!1)}dismiss(){super.dismiss();for(let t=0;t<this.items.length;t++)this.items[t].active=!1}_onShowed(){super._onShowed(),this.page=1,this.maxPage=1,this.lblPage.string=this.page+"/"+this.maxPage,this.loadData()}actNextPage(){this.page<this.maxPage&&(this.page++,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())}actPrevPage(){this.page>1&&(this.page--,this.lblPage.string=this.page+"/"+this.maxPage,this.loadDataLocal())}loadData(){n.default.instance.showLoading(!0),o.default.getInstance().request("OTT4",{userId:l.default.Login.UserIdFish},t=>{if(n.default.instance.showLoading(!1),200==t.code){if(0==this.items.length){for(var e=0;e<10;e++){let t=cc.instantiate(this.itemTemplate);t.parent=this.itemTemplate.parent,this.items.push(t)}this.itemTemplate.destroy(),this.itemTemplate=null}this.data=t.data,this.maxPage=Math.ceil(this.data.length/10),this.page=1,this.loadDataLocal()}},this)}loadDataLocal(){if(null==this.data)return;this.lblPage.string=this.page+"/"+this.maxPage;let t=10*(this.page-1),e=10;t+e>this.data.length&&(e=this.data.length-t);for(let i=0;i<this.items.length;i++){let a=this.items[i];if(i<e){let e=this.data[t+i];a.getChildByName("bg").opacity=i%2==0?10:0,a.getChildByName("Time").getComponent(cc.Label).string=e.GameTime,a.getChildByName("Bet").getComponent(cc.Label).string=r.default.formatNumber(e.Blind),a.getChildByName("Player").getComponent(cc.Label).string=e.Nickname1,a.getChildByName("Choice").getComponent(cc.Label).string=this.getChoiceName(e.Choice1),a.getChildByName("OtherPlayer").getComponent(cc.Label).string=e.Nickname2,a.getChildByName("OtherChoice").getComponent(cc.Label).string=this.getChoiceName(e.Choice2),a.getChildByName("Receive").getComponent(cc.Label).string=e.CashChange1>e.CashChange2?r.default.formatNumber(e.CashChange1):r.default.formatNumber(e.CashChange2),a.active=!0}else a.active=!1}}getChoiceName(t){switch(t){case 0:return"K\xe9o";case 1:return"Bao";case 2:return"B\xfaa"}}};a([h(cc.Label)],d.prototype,"lblPage",void 0),a([h(cc.Node)],d.prototype,"itemTemplate",void 0),d=a([c],d),i.default=d,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/ShootFishNetworkClient":void 0}]},{},["OanTuTi.OanTuTiController","OanTuTi.PopupCoinTransfer","OanTuTi.PopupHistory","OanTuTi.PopupHonors"]);