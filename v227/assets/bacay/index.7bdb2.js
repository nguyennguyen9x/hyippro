window.__require=function t(e,i,s){function a(n,r){if(!i[n]){if(!e[n]){var c=n.split("/");if(c=c[c.length-1],!e[c]){var h="function"==typeof __require&&__require;if(!r&&h)return h(c,!0);if(o)return o(c,!0);throw new Error("Cannot find module '"+n+"'")}n=c}var l=i[n]={exports:{}};e[n][0].call(l.exports,function(t){return a(e[n][1][t]||t)},l,l.exports,t,e,i,s)}return i[n].exports}for(var o="function"==typeof __require&&__require,n=0;n<s.length;n++)a(s[n]);return a}({"BaCay.CardUtil":[function(t,e,i){"use strict";cc._RF.push(e,"2a9298AFAtMALw5rLYRifA2","BaCay.CardUtil"),Object.defineProperty(i,"__esModule",{value:!0}),i.common=void 0;const{ccclass:s,property:a}=cc._decorator;var o;(function(t){t.CardUtils=class{static getCardInfo(t){this.id=t,this.so=this.getSoById(t),this.chat=this.getChatById(t),this.diem=this.getDiemById(t)}static getSoById(t){return Math.floor(t/4)}static getDiemById(t){return Math.floor(t/4)+1}static getChatById(t){return t%4}static getNormalId(t){var e;return e=4>t?11:8>t?12:Math.floor(t/4)-2,3==(t=Math.floor(t%4))?t=2:2==t&&(t=3),4*e+t}static getNormalName(t){var e;return e=4>t?11:8>t?12:Math.floor(t/4)-2,3==(t=Math.floor(t%4))?t=2:2==t&&(t=3),4*e+t}}})(o=i.common||(i.common={})),i.default=o.CardUtils,cc._RF.pop()},{}],"BaCay.Cmd":[function(t,e,i){"use strict";cc._RF.push(e,"620d7luvxtKga1ndG6kqqBK","BaCay.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;const s=t("../../Main/Game/src/networks/Network.OutPacket"),a=t("../../Main/Game/src/networks/Network.InPacket"),o=t("../../Main/Game/src/common/Configs");var n;(function(t){class e{}e.LOGIN=1,e.TOPSERVER=1001,e.CMD_PINGPONG=1050,e.CMD_JOIN_ROOM=3001,e.CMD_RECONNECT_ROOM=3002,e.MONEY_BET_CONFIG=3003,e.JOIN_ROOM_FAIL=3004,e.CHAT_ROOM=3008,e.CREATE_ROOM=3013,e.GET_LIST_ROOM=3014,e.JOIN_GAME_ROOM_BY_ID=3015,e.MO_BAI=3101,e.BAT_DAU=3102,e.KET_THUC=3103,e.YEU_CAU_DANH_BIEN=3104,e.CHIA_BAI=3105,e.KE_CUA=3106,e.TU_DONG_BAT_DAU=3107,e.DONG_Y_DANH_BIEN=3108,e.DAT_CUOC=3109,e.THONG_TIN_BAN_CHOI=3110,e.DANG_KY_THOAT_PHONG=3111,e.VAO_GA=3112,e.DOI_CHUONG=3113,e.MOI_DAT_CUOC=3114,e.CHEAT_CARDS=3115,e.DANG_KY_CHOI_TIEP=3116,e.UPDATE_OWNER_ROOM=3117,e.JOIN_ROOM_SUCCESS=3118,e.LEAVE_GAME=3119,e.NOTIFY_KICK_FROM_ROOM=3120,e.NEW_USER_JOIN=3121,e.NOTIFY_USER_GET_JACKPOT=3122,e.UPDATE_MATCH=3123,e.CARDS_DEFINE=3999,e.PLAYER_STATUS_OUT_GAME=0,e.PLAYER_STATUS_VIEWER=1,e.PLAYER_STATUS_SITTING=2,e.PLAYER_STATUS_PLAYING=3,e.MAX_PLAYER=8,e.ERROR_MONEY=1,e.ERROR_BAO_TRI=2,t.Code=e,t.CmdLogin=class extends s.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.LOGIN),this.packHeader(),this.putString(t),this.putString(i),this.updateSize()}},t.CmdJoinRoom=class extends s.default{constructor(t,i,s){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CMD_JOIN_ROOM),this.packHeader(),this.putInt(t),this.putInt(i),this.putLong(s),this.putInt(0),this.updateSize()}},t.CmdReconnectRoom=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CMD_RECONNECT_ROOM),this.packHeader(),this.updateSize()}},t.SendVaoGa=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.VAO_GA),this.packHeader(),this.updateSize()}},t.CmdSendRequestLeaveGame=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.DANG_KY_THOAT_PHONG),this.packHeader(),this.updateSize()}},t.CmdSendHoldRoom=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.DANG_KY_CHOI_TIEP),this.packHeader(),this.updateSize()}},t.SendGetGameConfig=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.MONEY_BET_CONFIG),this.packHeader(),this.updateSize()}},t.SendGetTopServer=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.TOPSERVER),this.packHeader(),this.putByte(t),this.updateSize()}},t.SendCreateRoom=class extends s.default{constructor(t,i,s,a,o,n,r,c){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CREATE_ROOM),this.packHeader(),this.putInt(t),this.putInt(i),this.putLong(s),this.putInt(a),this.putInt(o),this.putString(n),this.putString(r),this.putLong(c),this.updateSize()}},t.SendCheatCards=class extends s.default{constructor(t,i){if(super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CHEAT_CARDS),this.packHeader(),this.putByte(t),this.putByte(0),this.putShort(i.length),t)for(var s=0;s<i.length;s++)this.putByte(i[s]);this.updateSize()}},t.CmdSendDatCuoc=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.DAT_CUOC),this.packHeader(),this.putByte(t),this.updateSize()}},t.CmdSendDanhBien=class extends s.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.YEU_CAU_DANH_BIEN),this.packHeader(),this.putByte(t),this.putByte(i),this.updateSize()}},t.CmdSendKeCua=class extends s.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.KE_CUA),this.packHeader(),this.putByte(t),this.putByte(i),this.updateSize()}},t.CmdSendAcceptDanhBien=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.DONG_Y_DANH_BIEN),this.packHeader(),this.putByte(t),this.updateSize()}},t.CmdSendMoBai=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.MO_BAI),this.packHeader(),this.updateSize()}},t.CmdSendPing=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CMD_PINGPONG),this.packHeader(),this.updateSize()}},t.SendGetListRoom=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.GET_LIST_ROOM),this.packHeader(),this.putInt(o.default.App.MONEY_TYPE),this.putInt(e.MAX_PLAYER),this.putLong(-1),this.putInt(0),this.putInt(0),this.putInt(50),this.updateSize()}},t.SendJoinRoomById=class extends s.default{constructor(t){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.JOIN_GAME_ROOM_BY_ID),this.packHeader(),this.putInt(t),this.putString(""),this.updateSize()}},t.SendChatRoom=class extends s.default{constructor(t,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CHAT_ROOM),this.packHeader(),this.putByte(t?1:0),this.putString(encodeURI(i)),this.updateSize()}},t.SendCardDefinations=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(e.CARDS_DEFINE),this.packHeader(),this.updateSize()}},t.ReceivedLogin=class extends a.default{constructor(t){super(t)}},t.ReceivedGetListRoom=class extends a.default{constructor(t){super(t),this.list=[];let e=this.getShort();this.list=[];for(var i=0;i<e;i++){let t={};t.id=this.getInt(),t.userCount=this.getByte(),t.limitPlayer=this.getByte(),t.maxUserPerRoom=this.getInt(),t.moneyType=this.getByte(),t.moneyBet=this.getInt(),t.requiredMoney=this.getInt(),t.rule=this.getByte(),t.nameRoom=this.getString(),t.key=this.getBool(),t.quyban=this.getLong(),this.list.push(t)}}},t.ReceivedJoinRoomSucceed=class extends a.default{constructor(t){var e;for(super(t),this.myChair=this.getByte(),this.chuongChair=this.getByte(),this.moneyBet=this.getLong(),this.roomId=this.getInt(),this.matchId=this.getInt(),this.moneyType=this.getByte(),this.rule=this.getByte(),this.playerSize=this.getShort(),this.playerStatus=[],e=0;e<this.playerSize;e++)this.playerStatus.push(this.getByte());for(this.playerSize=this.getShort(),this.playerInfos=[],e=0;e<this.playerSize;e++){var i={};i.nickName=this.getString(),i.avatar=this.getString(),i.money=this.getLong(),this.playerInfos.push(i)}this.gameAction=this.getByte(),this.countDownTime=this.getByte()}},t.ReceivedAutoStart=class extends a.default{constructor(t){super(t),this.isAutoStart=this.getBool(),this.timeAutoStart=this.getByte()}},t.ReceivedChiaBai=class extends a.default{constructor(t){super(t);var e=0;for(this.cardSize=this.getShort(),this.cards=[],e=0;e<this.cardSize;e++)this.cards.push(this.getByte());this.matchId=this.getInt(),this.timeChiaBai=this.getByte()}},t.ReceivedFirstTurnDecision=class extends a.default{constructor(t){super(t),this.isRandom=this.getBool(),this.chair=this.getByte(),this.cardSize=this.getShort(),this.cards=[];for(let e=0;e<this.cardSize;e++)this.cards.push(this.getByte())}},t.ReceivedUserLeaveRoom=class extends a.default{constructor(t){super(t),this.chair=this.getByte(),this.nickName=this.getString()}},t.ReceivedUserJoinRoom=class extends a.default{constructor(t){super(t),this.info={},this.info.nickName=this.getString(),this.info.avatar=this.getString(),this.info.money=this.getLong(),this.uChair=this.getByte(),this.uStatus=this.getByte()}},t.ReceivedUpdateMatch=class extends a.default{constructor(t){super(t),this.myChair=this.getByte();var e=this.getShort();this.hasInfo=[];for(var i=0;i<e;i++)this.hasInfo.push(this.getBool());for(this.infos=[],i=0;i<e;i++){var s={};this.hasInfo[i]&&(s.nickName=this.getString(),s.avatar=this.getString(),s.money=this.getLong(),s.status=this.getInt()),this.infos.push(s)}}},t.ReceivedBaCayConfig=class extends a.default{constructor(t){super(t),this.listSize=this.getShort(),this.list=[];for(var e=0;e<this.listSize;e++){var i={};i.maxUserPerRoom=this.getByte(),i.moneyType=this.getByte(),i.moneyBet=this.getLong(),i.moneyRequire=this.getLong(),i.nPersion=this.getInt(),this.list.push(i)}}},t.ReceivedNotifyRegOutRoom=class extends a.default{constructor(t){super(t),this.outChair=this.getByte(),this.isOutRoom=this.getBool()}},t.ReceivedKickOff=class extends a.default{constructor(t){super(t),this.reason=this.getByte()}},t.ReceivedMoiDatCuoc=class extends a.default{constructor(t){super(t),this.timeDatCuoc=this.getByte()}},t.ReceivedDatCuoc=class extends a.default{constructor(t){super(t),this.chairDatCuoc=this.getByte(),this.level=this.getByte()}},t.ReceivedYeuCauDanhBien=class extends a.default{constructor(t){super(t),this.danhBienChair=this.getByte(),this.level=this.getByte()}},t.ReceivedChapNhanDanhBien=class extends a.default{constructor(t){super(t),this.danhBienChair=this.getByte(),this.level=this.getByte()}},t.ReceivedKeCua=class extends a.default{constructor(t){super(t),this.chairKeCuaFrom=this.getByte(),this.chairKeCuaTo=this.getByte(),this.level=this.getByte()}},t.ReceivedVaoGa=class extends a.default{constructor(t){super(t),this.chair=this.getByte(),this.chicKenBet=this.getLong()}},t.ReceivedMoBai=class extends a.default{constructor(t){super(t),this.chairMoBai=this.getByte(),this.cardSize=this.getShort(),this.cards=[];for(var e=0;e<this.cardSize;e++)this.cards.push(this.getByte())}},t.ReceivedEndGame=class extends a.default{constructor(t){super(t);var i=0,s=this.getShort();for(this.statusList=[],i=0;i<s;i++)this.statusList.push(this.getByte());for(this.cardList=[],i=0;i<this.statusList.length;i++){if(s=[],3==this.statusList[i])for(var a=this.getShort(),o=0;o<a;o++)s.push(this.getByte());this.cardList.push(s)}for(this.tienThangChuong=this.getLong(),this.tienThangGa=this.getLong(),this.keCuaMoneyList=[],this.danhBienMoneyList=[],s=this.getShort(),i=0;i<s;i++)this.keCuaMoneyList.push(this.getLong());for(s=this.getShort(),i=0;i<s;i++)this.danhBienMoneyList.push(this.getLong());for(this.tongTienCuoiVan=this.getLong(),this.tongTienCuocList=[],this.tongDanhBienList=[],this.tongKeCuaList=[],this.tongCuocGaList=[],this.tongCuoiVanList=[],this.currentMoneyList=[],this.getShort(),i=0;i<e.MAX_PLAYER;i++)s=0,3==this.statusList[i]&&(s=this.getLong()),this.tongTienCuocList.push(s);for(this.getShort(),i=0;i<e.MAX_PLAYER;i++)s=0,3==this.statusList[i]&&(s=this.getLong()),this.tongDanhBienList.push(s);for(this.getShort(),i=0;i<e.MAX_PLAYER;i++)s=0,3==this.statusList[i]&&(s=this.getLong()),this.tongKeCuaList.push(s);for(this.getShort(),i=0;i<e.MAX_PLAYER;i++)s=0,3==this.statusList[i]&&(s=this.getLong()),this.tongCuocGaList.push(s);for(this.getShort(),i=0;i<e.MAX_PLAYER;i++)s=0,3==this.statusList[i]&&(s=this.getLong()),this.tongCuoiVanList.push(s);for(this.getShort(),i=0;i<e.MAX_PLAYER;i++)s=0,3==this.statusList[i]&&(s=this.getLong()),this.currentMoneyList.push(s);this.timeEndGame=this.getByte()}},t.ReceivedDoiChuong=class extends a.default{constructor(t){super(t),this.chuongChair=this.getByte()}},t.ReceivedChatRoom=class extends a.default{constructor(t){super(t),this.chair=this.getByte(),this.isIcon=this.getBool(),this.content=decodeURI(this.getString()),this.nickname=this.getString()}},t.ReceivedGameInfo=class extends a.default{constructor(t){super(t),this.myChair=this.getByte(),this.chuongChair=this.getByte();var i=this.getShort();this.cards=[];for(var s=0;s<i;s++)this.cards.push(this.getByte());for(this.cuocDanhBienList=[],i=this.getShort(),s=0;s<i;s++)this.cuocDanhBienList[s]=this.getInt();for(this.cuocKeCuaList=[],i=this.getShort(),s=0;s<i;s++)this.cuocKeCuaList[s]=this.getInt();for(this.gameServerState=this.getByte(),this.isAutoStart=this.getBool(),this.gameAction=this.getByte(),this.countDownTime=this.getByte(),this.moneyType=this.getByte(),this.moneyBet=this.getLong(),this.matchId=this.getInt(),this.roomId=this.getInt(),this.hasInfo=[],i=this.getShort(),s=0;s<i;s++)this.hasInfo[s]=this.getBool();for(this.players=[],s=0;s<e.MAX_PLAYER;s++)this.hasInfo[s]?(this.players[s]=[],this.players[s].status=this.getByte(),this.players[s].money=this.getLong(),this.players[s].cuocGa=this.getInt(),this.players[s].cuocChuong=this.getInt(),this.players[s].avatar=this.getString(),this.players[s].nickName=this.getString()):(this.players[s]=[],this.players[s].status=0)}},t.ReceivedTopServer=class extends a.default{constructor(t){super(t),this.rankType=this.getByte(),this.topDay_money=this.getString(),this.topWeek_money=this.getString(),this.topMonth_money=this.getString(),this.topDay_number=this.getString(),this.topWeek_number=this.getString(),this.topMonth_number=this.getString()}},t.ReceivedJoinRoomFail=class extends a.default{constructor(t){super(t)}},t.ReceivedCardDefinations=class extends a.default{constructor(t){super(t),this.strData=this.getString()}}})(n=i.cmd||(i.cmd={})),i.default=n,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/Network.OutPacket":void 0}],"BaCay.Controller":[function(t,e,i){"use strict";cc._RF.push(e,"d8c0clk/LdHK5HHnJP3Kgny","BaCay.Controller");var s,a=this&&this.__decorate||function(t,e,i,s){var a,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(n=(o<3?a(n):o>3?a(e,i,n):a(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});const o=t("../../Main/Game/src/common/BroadcastReceiver"),n=t("../../Main/Game/src/common/Utils"),r=t("../../Main/Game/src/common/App"),c=t("../../Main/Game/src/networks/Network.InPacket"),h=t("../../Main/Game/src/networks/Network.Cmd"),l=t("../../Main/Game/src/common/Configs"),d=t("./BaCay.Cmd"),u=t("./BaCay.NetworkClient"),p=t("./BaCay.CardUtil"),g=t("../../Main/Game/src/networks/CardGame.Cmd"),m=t("../../Main/Game/src/games/cardgames/PopupCardDefinations"),f=t("../../Main/Game/src/games/cardgames/PopupChatInGame"),C=t("../../Main/Game/src/customui/CustomUI.SliderBet"),y=t("./BaCay.Player"),v=t("../../Main/Game/src/games/cardgames/PopupSettingInGame");var R=[];let I=[[0,1,2,3,4,5,6,7],[1,2,3,4,5,6,7,0],[2,3,4,5,6,7,0,1],[3,4,5,6,7,0,1,2],[4,5,6,7,0,1,2,3],[5,6,7,0,1,2,3,4],[6,7,0,1,2,3,4,5],[7,0,1,2,3,4,5,6]];const{ccclass:B,property:P}=cc._decorator;let b=s=class extends cc.Component{constructor(){super(...arguments),this.UI_ChooseRoom=null,this.labelNickName=null,this.sprAvatar=null,this.labelCoin=null,this.contentListRooms=null,this.prefabItemRoom=null,this.isInitedUIRoom=!1,this.UI_Playing=null,this.meCards=null,this.groupPlayers=null,this.spriteCards=[],this.spriteCardBack=null,this.matchPot=null,this.labelMatchPot=null,this.cardsDeal=null,this.chooseBet=null,this.btnBet=null,this.btnOpenCard=null,this.hubChips=null,this.labelRoomId=null,this.labelRoomBet=null,this.labelMatchId=null,this.actionBetting=null,this.sliderBet=null,this.popupMatchResult=null,this.contentMatchResult=null,this.prefabItemResult=null,this.scrollMatchResult=null,this.notifyTimeStart=null,this.notifyTimeEnd=null,this.notifyTimeBet=null,this.popupNodity=null,this.labelNotifyContent=null,this.popupGuide=null,this.btnShowCardDefinations=null,this.seatOwner=null,this.currentRoomBet=null,this.gameState=null,this.currentCard=null,this.numCardOpened=0,this.arrBetValue=[],this.currentMatchPotValue=0,this.cardDefinations=[],this.isClickBack=!1}onLoad(){s.instance=this,this.initConfigPlayer()}start(){this.showUIRooms(),this.UI_Playing.active=!1,this.seatOwner=-1,this.isClickBack=!1,r.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),u.default.getInstance().addOnOpen(()=>{r.default.instance.showErrLoading("\u0110ang \u0111ang \u0111\u0103ng nh\u1eadp..."),u.default.getInstance().send(new h.default.SendLogin(l.default.Login.Nickname,l.default.Login.AccessToken))},this),u.default.getInstance().addOnClose(()=>{this.isClickBack||!l.default.Login.IsLogin?this.backToLobby():r.default.instance.alertDialog.showMsgWithOnDismissed("B\u1ea1n \u0111\xe3 m\u1ea5t k\u1ebft n\u1ed1i v\u1edbi server",()=>{this.backToLobby()})},this),u.default.getInstance().connect(),o.default.register(o.default.USER_DISCONNECTED,()=>{u.default.getInstance().close()},this),o.default.send(o.default.ON_SHOW_ANIM_CHANGED,this.node)}joinRoom(t){r.default.instance.showLoading(!0),u.default.getInstance().send(new d.default.SendJoinRoomById(t.id))}refeshListRoom(){this.contentListRooms.removeAllChildren(!0),u.default.getInstance().send(new g.default.SendMoneyBetConfig)}showUIRooms(){this.UI_ChooseRoom.active=!0,this.isInitedUIRoom?o.default.send(o.default.USER_UPDATE_COIN):(this.labelNickName.string=l.default.Login.Nickname,this.sprAvatar.spriteFrame=r.default.instance.getAvatarSpriteFrame(l.default.Login.Avatar),o.default.register(o.default.USER_UPDATE_COIN,()=>{this.labelCoin.string=n.default.formatNumber(l.default.Login.Coin)},this),o.default.send(o.default.USER_UPDATE_COIN),this.setupListener())}closeUIRoom(){this.UI_ChooseRoom.active=!1}playingNow(){let t=[];for(let e=0;e<this.contentListRooms.childrenCount;e++)this.contentListRooms.children[e].getComponent("ItemRoom").roomInfo.requiredMoney<l.default.Login.Coin&&t.push(e);if(t.length>0){let e=t[0];for(let s=0;s<t.length;s++){let i=this.contentListRooms.children[t[s]].getComponent("ItemRoom"),a=this.contentListRooms.children[e].getComponent("ItemRoom");i.roomInfo.userCount>a.roomInfo.userCount&&(e=t[s])}let i=this.contentListRooms.children[e].getComponent("ItemRoom");u.default.getInstance().send(new d.default.CmdJoinRoom(l.default.App.MONEY_TYPE,i.roomInfo.maxUserPerRoom,i.roomInfo.moneyBet))}else r.default.instance.actiontDialog.showMsgWithAction("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.","N\u1ea0P NGAY",()=>{r.default.instance.openShop(0)})}showUIChat(){f.default.createAndShow(this.UI_Playing,this.cardDefinations,(t,e)=>{u.default.getInstance().send(new d.default.SendChatRoom(t,e))},(t,e)=>{u.default.getInstance().send(new d.default.SendCheatCards(t,e))})}showPopupGuide(){this.popupGuide.active=!0}closePopupGuide(){this.popupGuide.active=!1}actBack(){this.isClickBack=!0,u.default.getInstance().close()}backToLobby(){r.default.instance.loadScene("Lobby")}showUIPlaying(){this.UI_Playing.active=!0}closeUIPlaying(){this.actionLeaveRoom()}setupMatch(t){this.showUIPlaying(),this.closePopupMatchResult();for(let n=1;n<8;n++)this.getPlayerHouse(n).showPopupBet(!1);let e=t.chuongChair,i=(t.countDownTime,t.gameAction),s=t.matchId,a=t.moneyBet,o=(t.moneyType,t.myChair),r=t.playerInfos,c=(t.playerSize,t.playerStatus),h=t.roomId;t.rule,this.labelRoomId.string=""+h,this.labelRoomBet.string=n.default.formatNumber(a),this.labelMatchId.string=""+s,this.currentRoomBet=a,this.gameState=i,R[0].playerId=l.default.Login.Nickname,R[0].playerPos=o;var u=[],p=[],g=[];this.arrBetValue=[];for(let n=0;n<4;n++)this.arrBetValue.push(this.currentRoomBet*(n+1));for(let n=0;n<r.length;n++)""!==r[n].nickName&&(u.push(n),p.push(r[n]),g.push(c[n]));this.resetHubChips();for(let n=0;n<R.length;n++)R[n].playerPos=I[o][n];for(let n=0;n<R.length;n++){let t=u.indexOf(R[n].playerPos);var m=R[n].seatId;this.getPlayerHouse(m).resetPlayerInfo(),t>-1?(g[t]==d.default.Code.PLAYER_STATUS_SITTING||g[t]==d.default.Code.PLAYER_STATUS_PLAYING?(R[n].isViewer=!1,this.getPlayerHouse(m).setIsViewer(!1)):(R[n].isViewer=!0,this.getPlayerHouse(m).setIsViewer(!0)),this.setupSeatPlayer(m,p[t])):(this.getPlayerHouse(m).showBtnInvite(!0),R[n].isViewer=!0)}for(let n=0;n<8;n++)this.getPlayerHouse(n).setOwner(!1);let f=this.findPlayerSeatByPos(e);-1!==f&&(this.getPlayerHouse(f).setOwner(!0),this.seatOwner=f);let C="";switch(this.gameState){case 1:C="B\u1eaft \u0111\u1ea7u v\xe1n m\u1edbi";break;case 2:C="B\u1eaft \u0111\u1ea7u \u0111\u1eb7t c\u1eeda";break;case 3:break;case 4:C="Nh\xe0 c\xe1i c\xe2n ti\u1ec1n, ho\xe0n ti\u1ec1n";break;case 5:C="B\u1eaft \u0111\u1ea7u ho\xe0n ti\u1ec1n";break;case 6:C="B\u1eaft \u0111\u1ea7u tr\u1ea3 th\u01b0\u1edfng"}}startBettingCountDown(t){let e=t;this.actionBetting.active=!0,this.actionBetting.children[1].getComponent(cc.Sprite).fillRange=Number((e/t).toFixed(1));let i=()=>{e--,this.actionBetting.children[1].getComponent(cc.Sprite).fillRange=Number((e/t).toFixed(1)),e<=0&&(this.unschedule(i),this.actionBetting.active=!1)};this.schedule(i,1)}openMeCard(t,e){let i=parseInt(e);this.getPlayerHouse(0).prepareCardReal(i);let s=this.currentCard[i];this.getPlayerHouse(0).transformToCardReal(i,this.spriteCards[s]),this.numCardOpened+=1,3==this.numCardOpened&&(this.btnOpenCard.active=!0,this.chooseBet.active=!1,this.getPlayerHouse(0).showCardName(this.getCardsScore(this.currentCard)+" \u0110i\u1ec3m"),this.scheduleOnce(()=>{this.getPlayerHouse(0).resetCardReady()},.2))}getCardsScore(t){let e=0;for(let i=0;i<3;i++)e+=p.default.getDiemById(t[i]);return 0==(e%=10)&&(e=10),e}moveChipsToHubNow(t){this.hubChips.children[2*t].setPosition(cc.v2(25,80)),this.hubChips.children[2*t].scale=0,this.hubChips.children[2*t+1].setPosition(cc.v2(25,80)),this.hubChips.children[2*t+1].scale=0}fxMoveChips(t,e,i,s){t.runAction(cc.sequence(cc.delayTime(e),cc.scaleTo(0,1,1),cc.spawn(cc.moveTo(.8,i,s),cc.scaleTo(.8,0,0))))}resetHubChips(){var t=[70,280,280,260,100,-260,-375,-360],e=[-195,-150,-55,70,90,85,-30,-155];for(let i=0;i<8;i++)this.hubChips.children[2*i].setPosition(cc.v2(t[i],e[i])),this.hubChips.children[2*i+1].setPosition(cc.v2(t[i],e[i]));for(let i=0;i<16;i++)this.hubChips.children[i].active=!1}showPopupMatchResult(t){this.popupMatchResult.active=!0,this.contentMatchResult.removeAllChildren(!0);for(let e=0;e<t.length;e++){let i=cc.instantiate(this.prefabItemResult);i.getComponent("BaCay.ItemResult").initItem(t[e]),this.contentMatchResult.addChild(i)}this.scrollMatchResult.scrollToTop(.2)}closePopupMatchResult(){this.popupMatchResult.active=!1}setupListener(){u.default.getInstance().addListener(t=>{switch(new c.default(t).getCmdId()){case d.default.Code.LOGIN:r.default.instance.showLoading(!1),this.refeshListRoom(),u.default.getInstance().send(new d.default.CmdReconnectRoom);break;case d.default.Code.TOPSERVER:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedTopServer(t);cc.log(e)}break;case d.default.Code.CMD_PINGPONG:case d.default.Code.CMD_JOIN_ROOM:case d.default.Code.CMD_RECONNECT_ROOM:case d.default.Code.CMD_RECONNECT_ROOM:r.default.instance.showLoading(!1);break;case d.default.Code.MONEY_BET_CONFIG:{r.default.instance.showLoading(!1);let e=new g.default.ResMoneyBetConfig(t);cc.log(e),this.initRooms(e.list)}break;case d.default.Code.JOIN_ROOM_FAIL:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedJoinRoomFail(t);cc.log(e);let i="L\u1ed7i "+e.getError()+", kh\xf4ng x\xe1c \u0111\u1ecbnh.";switch(e.getError()){case 1:i="L\u1ed7i ki\u1ec3m tra th\xf4ng tin!";break;case 2:i="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 3:i="B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n v\xe0o ph\xf2ng ch\u01a1i n\xe0y!";break;case 4:i="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 5:i="M\u1ed7i l\u1ea7n v\xe0o ph\xf2ng ph\u1ea3i c\xe1ch nhau 10 gi\xe2y!";break;case 6:i="H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!";break;case 7:i="Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng ch\u01a1i!";break;case 8:i="M\u1eadt kh\u1ea9u ph\xf2ng ch\u01a1i kh\xf4ng \u0111\xfang!";break;case 9:i="Ph\xf2ng ch\u01a1i \u0111\xe3 \u0111\u1ee7 ng\u01b0\u1eddi!";break;case 10:i="B\u1ea1n b\u1ecb ch\u1ee7 ph\xf2ng kh\xf4ng cho v\xe0o b\xe0n!"}r.default.instance.alertDialog.showMsg(i)}break;case d.default.Code.GET_LIST_ROOM:break;case d.default.Code.JOIN_GAME_ROOM_BY_ID:r.default.instance.showLoading(!1);break;case d.default.Code.MO_BAI:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedMoBai(t);cc.log(e);let i=e.chairMoBai,s=e.cards,a=this.findPlayerSeatByPos(i);if(-1!=a&&0!=a){this.getPlayerHouse(a).prepareToTransform();for(let t=0;t<3;t++){let e=s[t];this.getPlayerHouse(a).transformToCardReal(t,this.spriteCards[e])}this.getPlayerHouse(a).showCardName(this.getCardsScore(s)+" \u0110i\u1ec3m")}}break;case d.default.Code.BAT_DAU:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedFirstTurnDecision(t);cc.log(e),this.resetHubChips(),this.closePopupMatchResult()}break;case d.default.Code.KET_THUC:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedEndGame(t);cc.log(e),this.notifyTimeEnd.parent.active=!1;let i=e.cardList,s=(e.tienThangChuong,e.tienThangGa,e.keCuaMoneyList,e.danhBienMoneyList,e.tongTienCuoiVan,e.tongTienCuocList),a=e.tongDanhBienList,o=e.tongKeCuaList,n=e.tongCuocGaList,c=e.tongCuoiVanList,h=e.currentMoneyList,l=(e.timeEndGame,[]);for(let t=0;t<8;t++)i[t].length>0&&l.push(t);let u=[];for(let t=0;t<8;t++){let e=l.indexOf(R[t].playerPos);if(-1!==e){let r=i[l[e]],d=this.getPlayerHouse(t).node.children[2].children[0];for(let e=0;e<3;e++)if(1==d.children[e].scale){let i=r[e];this.getPlayerHouse(t).transformToCardReal(e,this.spriteCards[i])}this.getPlayerHouse(t).showCardName(this.getCardsScore(r)+" \u0110i\u1ec3m"),u.push({userName:R[t].playerId,bet:s[l[e]],bien:a[l[e]],ke:o[l[e]],ga:n[l[e]],total:c[l[e]]});let p={moneyChange:c[l[e]],money:h[l[e]],ga:n[l[e]]};p.moneyChange>=0?this.getPlayerHouse(t).fxWin(p):this.getPlayerHouse(t).fxLose(p)}}u.length>0&&this.scheduleOnce(()=>{this.labelMatchPot.string="0",this.showPopupMatchResult(u)},4)}break;case d.default.Code.YEU_CAU_DANH_BIEN:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedYeuCauDanhBien(t);cc.log(e);let i=e.danhBienChair,s=e.level,a=this.findPlayerSeatByPos(i),o=R[a].playerId+" mu\u1ed1n \u0111\xe1nh bi\xean "+n.default.formatNumber(this.arrBetValue[s-1]);switch(e._error){case 0:r.default.instance.confirmDialog.show2(o,t=>{t&&u.default.getInstance().send(new d.default.CmdSendAcceptDanhBien(this.findPlayerPosBySeat(a)))});break;case 1:r.default.instance.alertDialog.showMsg("B\u1ea1n \u0111\xe3 \u0111\xe1nh bi\xean v\u1edbi "+R[a].playerId+" r\u1ed3i!");break;case 2:r.default.instance.alertDialog.showMsg("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 \u0111\xe1nh bi\xean!");break;default:r.default.instance.alertDialog.showMsg("C\xf3 l\u1ed7i \u0111\xe3 x\u1ea3y ra, h\xe3y th\u1eed l\u1ea1i sau v\xe0i gi\xe2y!")}}break;case d.default.Code.CHIA_BAI:{r.default.instance.showLoading(!1);let i=new d.default.ReceivedChiaBai(t);cc.log(i),this.labelMatchId.string=""+i.matchId,this.chooseBet.active=!1,this.btnOpenCard.active=!1;for(let t=1;t<8;t++)this.getPlayerHouse(t).showPopupBet(!1);this.matchPot.getComponent(cc.Button).interactable=!1,this.matchPot.children[0].color=cc.Color.GRAY,this.currentCard=i.cards,this.notifyTimeEnd.parent.active=!0;let s=i.timeChiaBai,a=()=>{s--,this.notifyTimeEnd.getComponent(cc.Label).string=" K\u1ebft th\xfac sau : "+Math.floor(s%60)+"s ",s<1&&(this.unschedule(a),this.notifyTimeEnd.parent.active=!1)};this.schedule(a,1);var e=this.getNumPlayers();let o=e.length;for(let t=0;t<24;t++)this.cardsDeal.children[t].active=!(t>=3*o),this.cardsDeal.children[t].setPosition(cc.v2(0,0));for(let t=0;t<3;t++)for(let i=0;i<o;i++){let s=e[i];if(-1!==s){let e=this.cardsDeal.children[t*o+i],a=this.groupPlayers.children[s].getPosition();e.runAction(cc.sequence(cc.delayTime(.15*(t*o+i)),cc.moveTo(.2,a)))}}let n=.4+.15*(2*o+(o-1));this.scheduleOnce(()=>{for(let t=0;t<24;t++)this.cardsDeal.children[t].active=!1;for(let t=0;t<o;t++){let i=e[t];-1!==i&&(0==i&&this.getPlayerHouse(i).resetCardReady(),this.getPlayerHouse(i).showCardReady(!0),this.getPlayerHouse(i).showCardReal(!1))}},n)}break;case d.default.Code.KE_CUA:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedKeCua(t);cc.log(e);let i=e.chairKeCuaTo,s=e.level,a=this.findPlayerSeatByPos(i);-1!=a&&this.getPlayerHouse(a).addBet(this.arrBetValue[s-1])}break;case d.default.Code.TU_DONG_BAT_DAU:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedAutoStart(t);if(cc.log(e),e.isAutoStart){this.resetHubChips();let t=e.timeAutoStart;this.notifyTimeStart.parent.active=!0,this.notifyTimeStart.getComponent(cc.Label).string=" B\u1eaft \u0111\u1ea7u sau : "+Math.floor(t%60)+"s ";let i=()=>{t--,this.notifyTimeStart.getComponent(cc.Label).string=" B\u1eaft \u0111\u1ea7u sau : "+Math.floor(t%60)+"s ",t<1&&(this.unschedule(i),this.notifyTimeStart.parent.active=!1)};this.schedule(i,1),this.chooseBet.active=!1,this.btnOpenCard.active=!1,this.matchPot.active=!1,this.matchPot.getComponent(cc.Button).interactable=!0,this.matchPot.children[0].color=cc.Color.WHITE,this.resetPlayersPlaying()}this.closePopupMatchResult()}break;case d.default.Code.DONG_Y_DANH_BIEN:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedChapNhanDanhBien(t);cc.log(e);let i=e.danhBienChair,s=(e.level,this.findPlayerSeatByPos(i));-1!=s&&this.getPlayerHouse(s).showNotify("Cho \u0111\xe1nh bi\xean")}break;case d.default.Code.DAT_CUOC:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedDatCuoc(t);cc.log(e);let i=e.chairDatCuoc,s=e.level,a=this.findPlayerSeatByPos(i);-1!=a&&(this.getPlayerHouse(a).setBet(this.arrBetValue[s-1]),this.getPlayerHouse(a).addChips())}break;case d.default.Code.THONG_TIN_BAN_CHOI:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedGameInfo(t);cc.log(e),this.closeUIRoom(),this.showUIPlaying(),this.closePopupMatchResult();let a=e.myChair,o=e.chuongChair,c=e.cards,h=(e.cuocDanhBienList,e.cuocKeCuaList,e.gameServerState,e.isAutoStart,e.gameAction),u=(e.countDownTime,e.moneyType,e.moneyBet),p=e.matchId,g=e.roomId,m=e.hasInfo;e.players,this.labelRoomId.string=""+g,this.labelRoomBet.string=n.default.formatNumber(u),this.labelMatchId.string=""+p,this.currentRoomBet=u,this.arrBetValue=[];for(let t=0;t<4;t++)this.arrBetValue.push(this.currentRoomBet*(t+1));this.gameState=h,this.currentCard=c,R[0].playerId=l.default.Login.Nickname,R[0].playerPos=a;var i=[];for(let t=0;t<m.length;t++)m[t]&&i.push(t);for(let t=0;t<R.length;t++)R[t].playerPos=I[a][t];for(let t=0;t<R.length;t++){let e=i.indexOf(R[t].playerPos);var s=R[t].seatId;this.getPlayerHouse(s).resetPlayerInfo(),e>-1?(this.getPlayerHouse(s).setIsViewer(!1),this.setupSeatPlayer(s,{nickName:"",avatar:n.default.randomRange(1,9),money:""})):(this.getPlayerHouse(s).showBtnInvite(!0),R[t].isViewer=!0)}for(let t=0;t<8;t++)this.getPlayerHouse(t).setOwner(!1);let f=this.findPlayerSeatByPos(o);-1!==f&&(this.getPlayerHouse(f).setOwner(!0),this.seatOwner=f),this.resetHubChips()}break;case d.default.Code.DANG_KY_THOAT_PHONG:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedNotifyRegOutRoom(t);cc.log(e);let i=e.outChair,s=e.isOutRoom,a=this.findPlayerSeatByPos(i);-1!==a&&this.getPlayerHouse(a).showNotify(s?"S\u1eafp r\u1eddi b\xe0n !":"Hu\u1ef7 r\u1eddi b\xe0n !")}break;case d.default.Code.VAO_GA:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedVaoGa(t);cc.log(e);let i=e.chair,s=e.chicKenBet,a=this.findPlayerSeatByPos(i);-1!=a&&(this.hubChips.children[2*a].active=!0,this.hubChips.children[2*a+1].active=!0,this.fxMoveChips(this.hubChips.children[2*a],.1,this.matchPot.x,this.matchPot.y),this.fxMoveChips(this.hubChips.children[2*a+1],.2,this.matchPot.x,this.matchPot.y),this.currentMatchPotValue+=s,this.labelMatchPot.string=n.default.formatNumber(this.currentMatchPotValue))}break;case d.default.Code.DOI_CHUONG:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedDoiChuong(t);cc.log(e);for(let t=0;t<8;t++)this.getPlayerHouse(t).setOwner(!1);let i=this.findPlayerSeatByPos(e.chuongChair);-1!=i&&(this.getPlayerHouse(i).setOwner(!0),this.seatOwner=i)}break;case d.default.Code.MOI_DAT_CUOC:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedMoiDatCuoc(t);cc.log(e),this.startBettingCountDown(e.timeDatCuoc),this.arrBetValue=[],this.matchPot.active=!0,this.currentMatchPotValue=0,this.labelMatchPot.string="0";for(let t=0;t<4;t++)this.arrBetValue.push(this.currentRoomBet*(t+1));0==this.seatOwner?(this.btnOpenCard.active=!1,this.chooseBet.active=!1,this.matchPot.getComponent(cc.Button).interactable=!1,this.matchPot.children[0].color=cc.Color.GRAY):(this.chooseBet.active=!0,this.btnOpenCard.active=!1,this.matchPot.getComponent(cc.Button).interactable=!0,this.matchPot.children[0].color=cc.Color.WHITE,this.sliderBet.initValue(this.currentRoomBet,this.currentRoomBet,4*this.currentRoomBet,t=>{let e=this.getPlayerHouse(0).getGold();this.btnBet.interactable=t<=e})),this.numCardOpened=0}break;case d.default.Code.CHEAT_CARDS:case d.default.Code.DANG_KY_CHOI_TIEP:case d.default.Code.UPDATE_OWNER_ROOM:r.default.instance.showLoading(!1);break;case d.default.Code.JOIN_ROOM_SUCCESS:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedJoinRoomSucceed(t);cc.log(e),this.closeUIRoom(),this.setupMatch(e),this.getCardDefinations()}break;case d.default.Code.LEAVE_GAME:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedUserLeaveRoom(t);cc.log(e);let i=e.chair,s=this.findPlayerSeatByPos(i);if(-1!==s){for(let t=0;t<R.length;t++)R[t].seatId==s&&(R[t].playerId=-1,R[t].isViewer=!0);this.getPlayerHouse(s).resetPlayerInfo(),this.getPlayerHouse(s).showBtnInvite(!0),1==this.getNumPlayers().length&&(this.resetPlayersPlaying(),this.matchPot.active=!1),0==s&&(this.UI_Playing.active=!1,this.UI_ChooseRoom.active=!0,this.refeshListRoom())}}break;case d.default.Code.NOTIFY_KICK_FROM_ROOM:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedKickOff(t);cc.log(e),this.onKickFromRoom(e.reason)}break;case d.default.Code.NEW_USER_JOIN:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedUserJoinRoom(t);cc.log(e);let i=e.info,s=e.uChair,n=e.uStatus;for(let t=0;t<R.length;t++)if(R[t].playerPos==s){var a=R[t].seatId;this.getPlayerHouse(a).resetPlayerInfo();var o={avatar:i.avatar,nickName:i.nickName,money:i.money};this.setupSeatPlayer(a,o),R[t].isViewer=n==d.default.Code.PLAYER_STATUS_VIEWER,this.getPlayerHouse(a).setIsViewer(n==d.default.Code.PLAYER_STATUS_VIEWER)}}break;case d.default.Code.NOTIFY_USER_GET_JACKPOT:r.default.instance.showLoading(!1);break;case d.default.Code.UPDATE_MATCH:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedUpdateMatch(t);cc.log(e),e.myChair;let i=e.hasInfo,s=e.infos;for(let t=0;t<i.length;t++){let e=R[t].playerPos;i[e]?(this.getPlayerHouse(t).setGold(s[e].money),R[t].playerId=s[e].nickName,s[e].status==d.default.Code.PLAYER_STATUS_SITTING||s[e].status==d.default.Code.PLAYER_STATUS_PLAYING?(R[t].isViewer=!1,this.getPlayerHouse(t).setIsViewer(!1)):(R[t].isViewer=!0,this.getPlayerHouse(t).setIsViewer(!0)),this.setupSeatPlayer(t,s[e])):(R[t].playerId=-1,R[t].isViewer=!0)}}break;case d.default.Code.CHAT_ROOM:{r.default.instance.showLoading(!1);let e=new d.default.ReceivedChatRoom(t);cc.log(e);let i=e.chair,s=e.isIcon,a=e.content;if(s){let t=this.findPlayerSeatByPos(i);-1!=t&&this.getPlayerHouse(t).showChatEmotion(a)}else{let t=this.findPlayerSeatByPos(i);-1!=t&&this.getPlayerHouse(t).showChatMsg(a)}}break;case d.default.Code.CARDS_DEFINE:{let e=new d.default.ReceivedCardDefinations(t);cc.log(e),this.receivedCardDefinations(e)}}},this)}initRooms(t){let e=[];this.contentListRooms.removeAllChildren();for(let s=0;s<t.length;s++){let i=t[s];-1==e.indexOf(i.moneyBet)&&i.moneyType==l.default.App.MONEY_TYPE&&e.push(i.moneyBet)}e.sort(function(t,e){return t-e});for(let s=0;s<e.length;s++){let a=0,o=0,n=0;for(let i=0;i<t.length;i++){let r=t[i];r.moneyBet==e[s]&&(a+=r.nPersion,o=r.maxUserPerRoom,n=r.moneyRequire)}var i=cc.instantiate(this.prefabItemRoom);i.getComponent("ItemRoom").initItem({id:s+1,moneyBet:e[s],requiredMoney:n,userCount:a,maxUserPerRoom:o}),i.getComponent("ItemRoom").labelNumPlayers.string=a,i.on(cc.Node.EventType.TOUCH_END,()=>{l.default.Login.Coin<n?r.default.instance.actiontDialog.showMsgWithAction("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.","N\u1ea0P NGAY",()=>{r.default.instance.openShop(0)}):u.default.getInstance().send(new g.default.SendJoinRoom(l.default.App.MONEY_TYPE,o,e[s],0))}),i.y=-30;let c=.2*.7*(1===s?.8:1-Math.pow(2,-10*s));i.runAction(cc.sequence(cc.fadeOut(0),cc.delayTime(.105*(e.length-s)),cc.spawn(cc.fadeIn(c),cc.moveTo(c,cc.v2(0,-30-85*s)).easing(cc.easeCircleActionOut())))),i.parent=this.contentListRooms}this.contentListRooms.parent.parent.getComponent(cc.ScrollView).scrollToBottom(0),this.contentListRooms.parent.parent.getComponent(cc.ScrollView).scrollToTop(2)}actionLeaveRoom(){u.default.getInstance().send(new d.default.CmdSendRequestLeaveGame)}actionOpenCard(){u.default.getInstance().send(new d.default.CmdSendMoBai),this.btnOpenCard.active=!1}actionSendVaoGa(){u.default.getInstance().send(new d.default.SendVaoGa),this.matchPot.children[0].color=cc.Color.WHITE,this.matchPot.getComponent(cc.Button).interactable=!1}actionBet(){let t=this.getPlayerHouse(0).userGold.string.replace(/\./g,""),e=parseInt(t),i=Math.min(this.sliderBet.current_raise,e),s=Math.round(i/this.currentRoomBet);u.default.getInstance().send(new d.default.CmdSendDatCuoc(s)),this.chooseBet.active=!1;for(let a=0;a<R.length;a++)a===this.seatOwner||R[a].isViewer||-1===R[a].playerId||0==a||(this.getPlayerHouse(a).showPopupBet(!0),this.getPlayerHouse(a).setupBetValue(this.currentRoomBet))}actionDanhBien(t,e){let i=parseInt(e.substring(0,1)),s=parseInt(e.substring(1,2)),a=this.findPlayerPosBySeat(i);-1!=a&&(this.getPlayerHouse(i).disableDanhBien(s),this.getPlayerHouse(0).showNotify("\u0110\xe1nh bi\xean"),u.default.getInstance().send(new d.default.CmdSendDanhBien(a,s)))}actionKeCua(t,e){let i=parseInt(e.substring(0,1)),s=parseInt(e.substring(1,2))-2,a=this.findPlayerPosBySeat(i);-1!=a&&(this.getPlayerHouse(i).disableKeCua(s),u.default.getInstance().send(new d.default.CmdSendKeCua(a,s)))}initConfigPlayer(){R=[];for(let t=0;t<8;t++)R.push({seatId:t,playerId:-1,playerPos:-1,isViewer:!0})}resetPlayersPlaying(){for(let t=0;t<8;t++)this.getPlayerHouse(t).resetMatchHistory()}setupSeatPlayer(t,e){R[t].playerId=e.nickName,this.getPlayerHouse(t).setAvatar(e.avatar),this.getPlayerHouse(t).setName(e.nickName),this.getPlayerHouse(t).setGold(e.money)}findPlayerSeatByUid(t){let e=-1;for(let i=0;i<R.length;i++)R[i].playerId===t&&(e=R[i].seatId);return e}findPlayerPosBySeat(t){return R[t].playerPos}findPlayerSeatByPos(t){if(-1==t)return-1;let e=-1;for(let i=0;i<R.length;i++)R[i].playerPos===t&&(e=R[i].seatId);return e}getPlayerHouse(t){return this.groupPlayers.children[t].getComponent(y.default)}getNumPlayers(){var t=[];for(let e=0;e<R.length;e++)-1===R[e].playerId||R[e].isViewer||t.push(R[e].seatId);return t}onKickFromRoom(t){for(let e=0;e<R.length;e++)0==R[e].seatId&&(R[e].playerId=-1,R[e].isViewer=!0);this.getPlayerHouse(0).resetPlayerInfo(),this.getPlayerHouse(0).showBtnInvite(!0),1==this.getNumPlayers().length&&(this.resetPlayersPlaying(),this.matchPot.active=!1),this.UI_Playing.active=!1,this.UI_ChooseRoom.active=!0,this.refeshListRoom(),this.scheduleOnce(()=>{switch(t){case d.default.Code.ERROR_MONEY:r.default.instance.actiontDialog.showMsgWithAction("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.","N\u1ea0P NGAY",()=>{r.default.instance.openShop(0)});break;case d.default.Code.ERROR_BAO_TRI:r.default.instance.alertDialog.showMsg("H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!");break;default:r.default.instance.alertDialog.showMsg("B\u1ea1n b\u1ecb kick kh\u1ecfi b\xe0n ch\u01a1i!")}},.5)}getCardDefinations(){u.default.getInstance().send(new d.default.SendCardDefinations)}receivedCardDefinations(t){(JSON.parse(t.strData).object||[]).forEach(t=>this.cardDefinations.push(new g.default.CardDefination(t))),this.btnShowCardDefinations.node.active=!1}actShowCardDefinations(){m.default.createAndShow(r.default.instance.popups,this.cardDefinations,this.spriteCards)}actSetting(){v.default.createAndShow(this.UI_Playing,l.default.App.BUNDLE_NAME.BACAY,()=>{this.showPopupGuide()},()=>{this.actionLeaveRoom()})}};b.instance=null,a([P(cc.Node)],b.prototype,"UI_ChooseRoom",void 0),a([P(cc.Label)],b.prototype,"labelNickName",void 0),a([P(cc.Sprite)],b.prototype,"sprAvatar",void 0),a([P(cc.Label)],b.prototype,"labelCoin",void 0),a([P(cc.Node)],b.prototype,"contentListRooms",void 0),a([P(cc.Prefab)],b.prototype,"prefabItemRoom",void 0),a([P(cc.Node)],b.prototype,"UI_Playing",void 0),a([P(cc.Node)],b.prototype,"meCards",void 0),a([P(cc.Node)],b.prototype,"groupPlayers",void 0),a([P(cc.SpriteFrame)],b.prototype,"spriteCards",void 0),a([P(cc.SpriteFrame)],b.prototype,"spriteCardBack",void 0),a([P(cc.Node)],b.prototype,"matchPot",void 0),a([P(cc.Label)],b.prototype,"labelMatchPot",void 0),a([P(cc.Node)],b.prototype,"cardsDeal",void 0),a([P(cc.Node)],b.prototype,"chooseBet",void 0),a([P(cc.Button)],b.prototype,"btnBet",void 0),a([P(cc.Node)],b.prototype,"btnOpenCard",void 0),a([P(cc.Node)],b.prototype,"hubChips",void 0),a([P(cc.Label)],b.prototype,"labelRoomId",void 0),a([P(cc.Label)],b.prototype,"labelRoomBet",void 0),a([P(cc.Label)],b.prototype,"labelMatchId",void 0),a([P(cc.Node)],b.prototype,"actionBetting",void 0),a([P(C.default)],b.prototype,"sliderBet",void 0),a([P(cc.Node)],b.prototype,"popupMatchResult",void 0),a([P(cc.Node)],b.prototype,"contentMatchResult",void 0),a([P(cc.Prefab)],b.prototype,"prefabItemResult",void 0),a([P(cc.ScrollView)],b.prototype,"scrollMatchResult",void 0),a([P(cc.Node)],b.prototype,"notifyTimeStart",void 0),a([P(cc.Node)],b.prototype,"notifyTimeEnd",void 0),a([P(cc.Node)],b.prototype,"notifyTimeBet",void 0),a([P(cc.Node)],b.prototype,"popupNodity",void 0),a([P(cc.Label)],b.prototype,"labelNotifyContent",void 0),a([P(cc.Node)],b.prototype,"popupGuide",void 0),a([P(cc.Button)],b.prototype,"btnShowCardDefinations",void 0),b=s=a([B],b),i.default=b,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/customui/CustomUI.SliderBet":void 0,"../../Main/Game/src/games/cardgames/PopupCardDefinations":void 0,"../../Main/Game/src/games/cardgames/PopupChatInGame":void 0,"../../Main/Game/src/games/cardgames/PopupSettingInGame":void 0,"../../Main/Game/src/networks/CardGame.Cmd":void 0,"../../Main/Game/src/networks/Network.Cmd":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"./BaCay.CardUtil":"BaCay.CardUtil","./BaCay.Cmd":"BaCay.Cmd","./BaCay.NetworkClient":"BaCay.NetworkClient","./BaCay.Player":"BaCay.Player"}],"BaCay.ItemResult":[function(t,e,i){"use strict";cc._RF.push(e,"f8789ktNuxEQY435mcEk8v1","BaCay.ItemResult");var s=this&&this.__decorate||function(t,e,i,s){var a,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(n=(o<3?a(n):o>3?a(e,i,n):a(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/Utils"),{ccclass:o,property:n}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.labelUserName=null,this.labelBet=null,this.labelBien=null,this.labelKe=null,this.labelGa=null,this.labelTotal=null}initItem(t){this.labelUserName.string=t.userName,this.labelBet.string=a.default.formatNumber(t.bet),this.labelBien.string=a.default.formatNumber(t.bien),this.labelKe.string=a.default.formatNumber(t.ke),this.labelGa.string=a.default.formatNumber(t.ga),this.labelTotal.string=a.default.formatNumber(t.total),this.labelBet.node.color=t.bet>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelBien.node.color=t.bien>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelKe.node.color=t.ke>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelGa.node.color=t.ga>0?cc.Color.YELLOW:cc.Color.WHITE,this.labelTotal.node.color=t.total>0?cc.Color.YELLOW:cc.Color.WHITE}};s([n(cc.Label)],r.prototype,"labelUserName",void 0),s([n(cc.Label)],r.prototype,"labelBet",void 0),s([n(cc.Label)],r.prototype,"labelBien",void 0),s([n(cc.Label)],r.prototype,"labelKe",void 0),s([n(cc.Label)],r.prototype,"labelGa",void 0),s([n(cc.Label)],r.prototype,"labelTotal",void 0),r=s([o],r),i.default=r,cc._RF.pop()},{"../../Main/Game/src/common/Utils":void 0}],"BaCay.ItemRoom":[function(t,e,i){"use strict";cc._RF.push(e,"e07a8lBr39OXr5c0VekIC9q","BaCay.ItemRoom");var s=this&&this.__decorate||function(t,e,i,s){var a,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(n=(o<3?a(n):o>3?a(e,i,n):a(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});const a=t("./BaCay.Controller"),o=t("../../Main/Game/src/common/Utils"),{ccclass:n,property:r}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.labelBet=null,this.labelBetMin=null,this.labelNumPlayers=null,this.progressNumPlayers=null,this.roomInfo=null}initItem(t){this.roomInfo=t,this.labelBet.string=o.default.formatNumber(t.moneyBet),this.labelBetMin.string=o.default.formatNumber(t.requiredMoney),this.labelNumPlayers.string=t.userCount+"/"+t.maxUserPerRoom,this.progressNumPlayers.fillRange=t.userCount/t.maxUserPerRoom}chooseRoom(){a.default.instance.joinRoom(this.roomInfo)}};s([r(cc.Label)],c.prototype,"labelBet",void 0),s([r(cc.Label)],c.prototype,"labelBetMin",void 0),s([r(cc.Label)],c.prototype,"labelNumPlayers",void 0),s([r(cc.Sprite)],c.prototype,"progressNumPlayers",void 0),c=s([n],c),i.default=c,cc._RF.pop()},{"../../Main/Game/src/common/Utils":void 0,"./BaCay.Controller":"BaCay.Controller"}],"BaCay.NetworkClient":[function(t,e,i){"use strict";cc._RF.push(e,"d86bcBhKaBPX7iIPcz+pM23","BaCay.NetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const s=t("../../Main/Game/src/networks/Network.NetworkClient"),a=t("../../Main/Game/src/networks/Network.NetworkListener"),o=t("../../Main/Game/src/common/Configs");class n extends s.default{constructor(){super(),this.listeners=new Array,this.isUseWSS=o.default.App.USE_WSS}static getInstance(){return null==this.instance&&(this.instance=new n),this.instance}connect(){super.connect(o.default.App.HOST_BACAY.host,o.default.App.HOST_BACAY.port)}onOpen(t){super.onOpen(t)}onMessage(t){for(var e=new Uint8Array(t.data),i=0;i<this.listeners.length;i++){var s=this.listeners[i];s.target&&s.target instanceof Object&&s.target.node?s.callback(e):(this.listeners.splice(i,1),i--)}}addListener(t,e){this.listeners.push(new a.default(e,t))}send(t){for(var e=new Int8Array(t._length),i=0;i<t._length;i++)e[i]=t._data[i];null!=this.ws&&this.isConnected()&&this.ws.send(e.buffer)}}i.default=n,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/networks/Network.NetworkClient":void 0,"../../Main/Game/src/networks/Network.NetworkListener":void 0}],"BaCay.Player":[function(t,e,i){"use strict";cc._RF.push(e,"a69f2nHXcZBJ4K9vYGrZxlY","BaCay.Player");var s=this&&this.__decorate||function(t,e,i,s){var a,o=arguments.length,n=o<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,i,s);else for(var r=t.length-1;r>=0;r--)(a=t[r])&&(n=(o<3?a(n):o>3?a(e,i,n):a(e,i))||n);return o>3&&n&&Object.defineProperty(e,i,n),n};Object.defineProperty(i,"__esModule",{value:!0});const a=t("../../Main/Game/src/common/App"),o=t("../../Main/Game/src/common/BroadcastReceiver"),n=t("../../Main/Game/src/common/Utils"),{ccclass:r,property:c}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.btnInvite=null,this.avatar=null,this.cardReady=null,this.cardReal=null,this.userName=null,this.userGold=null,this.owner=null,this.cardsName=null,this.actionAllIn=null,this.actionFold=null,this.actionViewer=null,this.actionThinking=null,this.actionWin=null,this.goldWin=null,this.actionLose=null,this.goldLose=null,this.hub=null,this.goldBet=null,this.prefabItemChip=null,this.notify=null,this.chatEmotion=null,this.chatMsg=null,this.shadowAvatar=null,this.shadowInfo=null,this.spriteCardBack=null,this.popupBet=null,this.betted=0,this.keCua=0,this.timeoutNotify=null,this.timeoutChat=null}start(){o.default.send(o.default.SET_SOUND,this.node)}showChatEmotion(t){this.node.children[7].active=!0,this.chatEmotion.active=!0,this.chatMsg.active=!1,this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0,t,!0),this.unschedule(this.timeoutChat),this.timeoutChat=()=>{this.chatEmotion.active=!1,this.chatMsg.active=!1},this.scheduleOnce(this.timeoutChat,3)}showChatMsg(t){this.node.children[7].active=!0,this.chatEmotion.active=!1,this.chatMsg.active=!0,this.chatMsg.children[1].getComponent(cc.Label).string=t,this.unschedule(this.timeoutChat),this.timeoutChat=()=>{this.chatEmotion.active=!1,this.chatMsg.active=!1},this.scheduleOnce(this.timeoutChat,3)}showPopupBet(t){this.popupBet.active=t,t&&(this.popupBet.children[2].active=!0,this.popupBet.children[3].active=!0,this.popupBet.children[5].active=!0,this.popupBet.children[6].active=!0,this.setCanDanhBien(!0),this.setCanKeCua(!0))}setupBetValue(t){this.popupBet.children[2].children[1].getComponent(cc.Label).string=n.default.formatNumber(t),this.popupBet.children[3].children[1].getComponent(cc.Label).string=n.default.formatNumber(2*t),this.popupBet.children[5].children[1].getComponent(cc.Label).string=n.default.formatNumber(t),this.popupBet.children[6].children[1].getComponent(cc.Label).string=n.default.formatNumber(2*t)}disableDanhBien(t){1==t?this.popupBet.children[2].active=!1:this.popupBet.children[3].active=!1,this.setCanDanhBien(!1)}disableKeCua(t){1==t?this.popupBet.children[5].active=!1:this.popupBet.children[6].active=!1,this.setCanKeCua(!1)}setCanDanhBien(t){this.popupBet.children[2].getComponent(cc.Button).interactable=t,this.popupBet.children[3].getComponent(cc.Button).interactable=t}setCanKeCua(t){this.popupBet.children[5].getComponent(cc.Button).interactable=t,this.popupBet.children[6].getComponent(cc.Button).interactable=t}showBtnInvite(t){this.btnInvite.active=t}setOwner(t){this.owner.active=t}setAvatar(t){this.node.children[1].active=!0,this.avatar.getComponent(cc.Sprite).spriteFrame=a.default.instance.getAvatarSpriteFrame(t)}setIsViewer(t){this.shadowAvatar.active=t,this.shadowInfo.active=t}setName(t){this.node.children[3].active=!0,this.userName.string=t}showCardReady(t){this.node.children[2].active=!0,this.cardReady.active=t}showCardReal(t){this.node.children[2].active=!0,this.cardReal.active=t}prepareToTransform(){this.prepareCardReal(0),this.prepareCardReal(1),this.prepareCardReal(2)}prepareCardReal(t){this.cardReal.children[t].scaleX=0,this.cardReal.children[t].scaleY=1}transformToCardReal(t,e){this.showCardReal(!0);let i=this.cardReal.children[t].children[0].getComponent(cc.Sprite);if(i.spriteFrame===e)return this.cardReal.children[t].scaleX=1,this.cardReal.children[t].scaleY=1,this.cardReady.children[t].scaleX=0,this.cardReady.children[t].scaleY=1,void(i.spriteFrame=e);i.spriteFrame=e,this.cardReady.children[t].runAction(cc.sequence(cc.scaleTo(.15,0,1),cc.callFunc(()=>{}))),this.cardReal.children[t].runAction(cc.sequence(cc.delayTime(.15),cc.scaleTo(.15,1,1),cc.callFunc(()=>{})))}showCardName(t){this.cardsName.active=!0,this.cardsName.children[0].getComponent(cc.Label).string=t,this.scheduleOnce(()=>{this.cardsName.active=!1},4.5)}setGold(t){this.actionViewer.active=!1,this.actionThinking.active=!1,this.showGold(!0),this.userGold.string=this.formatGold(t)}setBet(t){this.showPlayerBet(!0),this.betted=isNaN(parseInt(t))?0:parseInt(t),this.goldBet.string=n.default.formatMoney(this.betted)}addBet(t){this.showPlayerBet(!0),this.keCua+=isNaN(parseInt(t))?0:parseInt(t),this.goldBet.string=n.default.formatMoney(this.betted+this.keCua)+" (k\xe9 "+n.default.formatMoney(this.keCua)+" )"}addChips(){var t=cc.instantiate(this.prefabItemChip),e=cc.instantiate(this.prefabItemChip);this.hub.addChild(t),this.hub.addChild(e)}showPlayerBet(t){this.node.children[5].active=t,t||this.hub.removeAllChildren(!0)}setCardReal01(t){this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=t}setCardReal02(t){this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=t}showPlayCountdown(){this.node.children[4].active=!0,this.actionThinking.active=!0,this.processThinking(0)}hidePlayCountdown(){this.actionThinking.active=!1}processThinking(t){this.actionThinking.getComponent(cc.Sprite).fillRange=t}showGold(t){this.node.children[3].children[2].active=t}prepareFxAction(){this.showGold(!1),this.node.children[4].active=!0,this.resetAction()}playFxFold(){this.actionFold.active=!0,this.actionFold.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))}playFxAllIn(){this.actionAllIn.active=!0,this.actionAllIn.runAction(cc.sequence(cc.scaleTo(0,0),cc.scaleTo(.1,1.1,1.1),cc.scaleTo(.05,1,1)))}playFxViewer(){this.prepareFxAction(),this.actionViewer.active=!0}fxOtherPlayerFold(){this.cardReady.runAction(cc.moveBy(.5,0,-100))}fxMeFold(){this.shadowCardReal(!0),this.cardReal.runAction(cc.moveBy(.5,0,-20))}showEatGa(t){this.actionWin.children[3].active=t}fxWin(t){this.node.children[4].active=!0,this.actionWin.active=!0,this.fxGoldChange(0,t.moneyChange,this.goldWin.node),this.setGold(this.formatGold(t.money)),this.showEatGa(t.ga>0),this.scheduleOnce(()=>{this.actionWin.active=!1,this.node.children[4].active=!1},2.5)}fxLose(t){this.node.children[4].active=!0,this.actionLose.active=!0,this.fxGoldChange(0,t.moneyChange,this.goldLose.node),this.setGold(this.formatGold(t.money)),this.scheduleOnce(()=>{this.actionLose.active=!1,this.node.children[4].active=!1},2.5)}shadowCardReady(t){this.cardReady.children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[1].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReady.children[2].color=t?cc.Color.GRAY:cc.Color.WHITE}shadowCardReal(t){this.cardReal.children[0].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[1].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE,this.cardReal.children[2].children[0].color=t?cc.Color.GRAY:cc.Color.WHITE}setCardWin(t,e){this.cardReal.children[t].children[0].color=e?cc.Color.WHITE:cc.Color.GRAY}showNotify(t){this.notify.active=!0,this.notify.children[1].getComponent(cc.Label).string=t,this.unschedule(this.timeoutNotify),this.timeoutNotify=()=>{this.notify.active=!1},this.scheduleOnce(this.timeoutNotify,1.5)}resetAction(){for(let t=0;t<this.node.children[4].childrenCount;t++)this.node.children[4].children[t].active=!1}resetMatchHistory(){this.resetCardReady(),this.resetCardReal(),this.node.children[2].active=!1,this.showGold(!0),this.cardsName.active=!1,this.resetAction(),this.node.children[5].active=!1,this.goldBet.string="0",this.betted=0,this.keCua=0,this.hub.removeAllChildren(!0)}resetCardReady(){this.cardReady.children[0].scale=1,this.cardReady.children[1].scale=1,this.cardReady.children[2].scale=1,this.cardReady.active=!1}resetCardReal(){this.cardReal.active=!1,this.cardReal.y=0,this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[2].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.shadowCardReal(!1)}resetPlayerInfo(){for(let t=0;t<this.node.childrenCount;t++)this.node.children[t].active=!1;this.cardReal.children[0].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[1].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReal.children[2].children[0].getComponent(cc.Sprite).spriteFrame=this.spriteCardBack,this.cardReady.active=!1,this.cardReal.active=!1,this.cardsName.active=!1,this.actionViewer.active=!1,this.actionThinking.active=!1,this.actionWin.active=!1,this.actionLose.active=!1,this.goldBet.string="0",this.betted=0,this.keCua=0,this.hub.removeAllChildren(!0),this.setIsViewer(!0)}fxGoldChange(t,e,i){var s=e-t;i.getComponent(cc.Label).string=this.formatGold(t);var a=Math.floor(s/10),o=cc.repeat(cc.sequence(cc.delayTime(.05),cc.callFunc(()=>{t+=a,i.getComponent(cc.Label).string=(s>0?"+":"")+this.formatGold(t)})),10),n=cc.sequence(o,cc.callFunc(()=>{t=e,i.getComponent(cc.Label).string=(s>0?"+":"")+this.formatGold(t)}));i.runAction(n)}formatGold(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):t}getGold(){let t=this.userGold.string.replace(/\./g,"");return parseInt(t)}};s([c(cc.Node)],h.prototype,"btnInvite",void 0),s([c(cc.Node)],h.prototype,"avatar",void 0),s([c(cc.Node)],h.prototype,"cardReady",void 0),s([c(cc.Node)],h.prototype,"cardReal",void 0),s([c(cc.Label)],h.prototype,"userName",void 0),s([c(cc.Label)],h.prototype,"userGold",void 0),s([c(cc.Node)],h.prototype,"owner",void 0),s([c(cc.Node)],h.prototype,"cardsName",void 0),s([c(cc.Node)],h.prototype,"actionAllIn",void 0),s([c(cc.Node)],h.prototype,"actionFold",void 0),s([c(cc.Node)],h.prototype,"actionViewer",void 0),s([c(cc.Node)],h.prototype,"actionThinking",void 0),s([c(cc.Node)],h.prototype,"actionWin",void 0),s([c(cc.Label)],h.prototype,"goldWin",void 0),s([c(cc.Node)],h.prototype,"actionLose",void 0),s([c(cc.Label)],h.prototype,"goldLose",void 0),s([c(cc.Node)],h.prototype,"hub",void 0),s([c(cc.Label)],h.prototype,"goldBet",void 0),s([c(cc.Prefab)],h.prototype,"prefabItemChip",void 0),s([c(cc.Node)],h.prototype,"notify",void 0),s([c(cc.Node)],h.prototype,"chatEmotion",void 0),s([c(cc.Node)],h.prototype,"chatMsg",void 0),s([c(cc.Node)],h.prototype,"shadowAvatar",void 0),s([c(cc.Node)],h.prototype,"shadowInfo",void 0),s([c(cc.SpriteFrame)],h.prototype,"spriteCardBack",void 0),s([c(cc.Node)],h.prototype,"popupBet",void 0),h=s([r],h),i.default=h,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Utils":void 0}]},{},["BaCay.CardUtil","BaCay.Cmd","BaCay.Controller","BaCay.ItemResult","BaCay.ItemRoom","BaCay.NetworkClient","BaCay.Player"]);