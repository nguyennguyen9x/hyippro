window.__require=function e(t,i,s){function n(a,c){if(!i[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(o)return o(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){return n(t[a][1][e]||e)},h,h.exports,e,t,i,s)}return i[a].exports}for(var o="function"==typeof __require&&__require,a=0;a<s.length;a++)n(s[a]);return n}({"XocDia.BankerControl":[function(e,t,i){"use strict";cc._RF.push(t,"36b7fjVXSdDd7tf49SjRCAj","XocDia.BankerControl");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/BroadcastReceiver"),o=e("../../Main/Game/src/common/Utils"),a=e("./XocDia.Cmd"),c=e("./XocDia.NetworkClient"),{ccclass:r,property:l}=cc._decorator;let h=class extends cc.Component{constructor(){super(...arguments),this.lblTitle=null,this.slider=null,this.lblCoin=null,this.panelSell=null,this.coinOdd=0,this.coinEven=0,this.maxCoin=0,this.minCoin=1,this.coin=0,this.sellingEven=!1}start(){n.default.send(n.default.SET_SOUND,this.node),this.slider.node.on("slide",()=>{this.coin=this.minCoin+Math.round((this.maxCoin-this.minCoin)*this.slider.progress),this.lblCoin.string=o.default.formatNumber(this.coin)})}show(e,t){this.coinOdd=e,this.coinEven=t,this.panelSell.active=!1,this.node.active=!0}actCanTat(){this.node.active=!1,c.default.getInstance().send(new a.default.SendBankerSellGate(1,this.coin))}actSellOdd(){this.lblTitle.string="B\xc1N L\u1eba",this.maxCoin=this.coinOdd,this.coin=this.maxCoin,this.lblCoin.string=o.default.formatNumber(this.coin),this.slider.progress=1,this.panelSell.active=!0,this.sellingEven=!1}actSellEven(){this.lblTitle.string="B\xc1N CH\u1eb4N",this.maxCoin=this.coinEven,this.coin=this.maxCoin,this.lblCoin.string=o.default.formatNumber(this.coin),this.slider.progress=1,this.panelSell.active=!0,this.sellingEven=!0}actSell(){this.node.active=!1,c.default.getInstance().send(new a.default.SendBankerSellGate(this.sellingEven?2:3,this.coin))}};s([l(cc.Label)],h.prototype,"lblTitle",void 0),s([l(cc.Slider)],h.prototype,"slider",void 0),s([l(cc.Label)],h.prototype,"lblCoin",void 0),s([l(cc.Node)],h.prototype,"panelSell",void 0),h=s([r],h),i.default=h,cc._RF.pop()},{"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Utils":void 0,"./XocDia.Cmd":"XocDia.Cmd","./XocDia.NetworkClient":"XocDia.NetworkClient"}],"XocDia.BtnBet":[function(e,t,i){"use strict";cc._RF.push(t,"a7b5fPk1DhBUIdjn73/qfit","XocDia.BtnBet");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/BroadcastReceiver"),{ccclass:o,property:a}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.sp_active=null,this.sp_normal=null,this.label=null}start(){n.default.send(n.default.SET_SOUND,this.node),cc.tween(this.sp_active.node).by(1.5,{angle:-360}).repeatForever().start()}};s([a(cc.Sprite)],c.prototype,"sp_active",void 0),s([a(cc.Sprite)],c.prototype,"sp_normal",void 0),s([a(cc.Label)],c.prototype,"label",void 0),c=s([o],c),i.default=c,cc._RF.pop()},{"../../Main/Game/src/common/BroadcastReceiver":void 0}],"XocDia.BtnPayBet":[function(e,t,i){"use strict";cc._RF.push(t,"a3459e6zgREZIOLiazh9KoS","XocDia.BtnPayBet");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/BroadcastReceiver"),o=e("../../Main/Game/src/common/Utils"),{ccclass:a,property:c}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.lblTotalBet=null,this.lblTotalMyBet=null,this.active=null,this.title=null,this.totalMyBet=0}start(){n.default.send(n.default.SET_SOUND,this.node)}reset(){this.lblTotalBet.string="",this.lblTotalMyBet.string="",this.active.active=!1,this.title&&(this.title.active=!0),this.totalMyBet=0}setTotalBet(e,t=0){this.totalMyBet+=t,this.lblTotalBet.string=e>0?o.default.formatNumber(e):"",this.lblTotalMyBet.string=this.totalMyBet>0?o.default.formatNumber(this.totalMyBet):""}addTotalMyBet(e){this.totalMyBet+=e,this.lblTotalMyBet.string=this.totalMyBet>0?o.default.formatNumber(this.totalMyBet):""}getTotalMyBet(){return this.totalMyBet}hightlight(){this.active.active=!0,this.title&&(this.title.active=!1)}};s([c(cc.Label)],r.prototype,"lblTotalBet",void 0),s([c(cc.Label)],r.prototype,"lblTotalMyBet",void 0),s([c(cc.Node)],r.prototype,"active",void 0),s([c(cc.Node)],r.prototype,"title",void 0),r=s([a],r),i.default=r,cc._RF.pop()},{"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Utils":void 0}],"XocDia.Cmd":[function(e,t,i){"use strict";cc._RF.push(t,"10b98AUpqVENYK8MM95BNtG","XocDia.Cmd"),Object.defineProperty(i,"__esModule",{value:!0}),i.cmd=void 0;const s=e("../../Main/Game/src/networks/Network.OutPacket"),n=e("../../Main/Game/src/networks/Network.InPacket"),o=e("../../Main/Game/src/common/Configs"),a=e("../../Main/Game/src/common/Constants");var c;(function(e){class t{}t.LOGIN=1,t.JOIN_ROOM=3001,t.CMDRECONNECTGAMEROOM=3002,t.MONEY_BET_CONFIG=3003,t.JOIN_ROOM_FAIL=3004,t.CHAT_ROOM=3008,t.REQUEST_INFO_MOI_CHOI=3010,t.MOI_CHOI=3011,t.ACCEPT_MOI_CHOI=3012,t.GETLISTROOM=3014,t.JOIN_GAME_ROOM_BY_ID=3015,t.DANG_KY_THOAT_PHONG=3100,t.JOIN_ROOM_SUCCESS=3101,t.USER_JOIN_ROOM_SUCCESS=3102,t.QUIT_ROOM=3103,t.USER_OUT_ROOM=3104,t.ACTION_IN_GAME=3105,t.PUT_MONEY=3106,t.BANKER_SELL_GATE=3110,t.BUY_GATE=3111,t.FINISH_GAME=3112,t.ORDER_BANKER=3113,t.PUT_MONEY_X2=3115,t.PUT_ALL_IN=3116,t.START_GAME=3117,t.REFUND_MONEY=3118,t.GET_TIME=3119,t.NOTIFY_KICK_FROM_ROOM=3120,t.SOI_CAU=3121,t.STOP_GAME=3122,t.MESSAGE_ERROR_BANKER=3123,t.SET_CHEAT=3124,t.INFO_GATE_SELL=3126,t.ACTION_BANKER=3127,t.INFO_MONEY_AFTER_BANKER_SELL=3128,t.HUY_LAM_CAI=3130,t.LOCK_GATE=3131,t.KICK_OUT_XOCDIA=3132,t.DESTROY_ROOM=3133,t.GET_MONEY_LAI=3134,t.UPDATE_CURRENT_MONEY=3135,t.LOG_CHAT=18003,t.SEND_CHAT=18e3,t.SCRIBE_CHAT=18001,t.UNSCRIBE_CHAT=18002,e.Code=t,e.SendLogin=class extends s.default{constructor(e,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.LOGIN),this.packHeader(),this.putString(e),this.putString(i),this.updateSize()}},e.SendMoneyBetConfig=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.MONEY_BET_CONFIG),this.packHeader(),this.updateSize()}},e.SendScribeChat=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SCRIBE_CHAT),this.packHeader(),this.putString(a.ChatChannel.XOC_DIA),this.updateSize()}},e.SendUnScribeChat=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.UNSCRIBE_CHAT),this.packHeader(),this.putString(a.ChatChannel.XOC_DIA),this.updateSize()}},e.SendChat=class extends s.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SEND_CHAT),this.packHeader(),this.putString(e),this.putString(a.ChatChannel.XOC_DIA),this.updateSize()}},e.ReceivedMoneyBetConfig=class extends n.default{constructor(e){super(e),this.list=[],this.rules=[];let t=this.getShort();for(var i=0;i<t;i++){var s={maxUserPerRoom:this.getInt(),moneyType:this.getByte(),moneyBet:this.getLong(),moneyRequire:this.getLong(),nPersion:this.getInt()};this.list.push(s)}for(i=0;i<t;i++)this.rules.push(this.getByte())}},e.SendChatRoom=class extends s.default{constructor(e,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.CHAT_ROOM),this.packHeader(),this.putByte(e?1:0),this.putString(encodeURI(i)),this.updateSize()}},e.SendGetListRoom=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.GETLISTROOM),this.packHeader(),this.putInt(o.default.App.MONEY_TYPE),this.putInt(30),this.putLong(-1),this.putInt(0),this.putInt(0),this.putInt(50),this.updateSize()}},e.ReceiveGetListRoom=class extends n.default{constructor(e){super(e),this.list=[];let t=this.getShort();this.list=[];for(var i=0;i<t;i++){let e={};e.id=this.getInt(),e.userCount=this.getByte(),e.limitPlayer=this.getByte(),e.maxUserPerRoom=this.getInt(),e.moneyType=this.getByte(),e.moneyBet=this.getInt(),e.requiredMoney=this.getInt(),e.rule=this.getByte(),e.nameRoom=this.getString(),e.key=this.getBool(),e.quyban=this.getLong(),this.list.push(e)}}},e.SendJoinRoom=class extends s.default{constructor(e,i,s,n){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.JOIN_ROOM),this.packHeader(),this.putInt(e),this.putInt(i),this.putLong(s),this.putInt(n),this.updateSize()}},e.SendJoinRoomById=class extends s.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.JOIN_GAME_ROOM_BY_ID),this.packHeader(),this.putInt(e),this.putString(""),this.updateSize()}},e.ReceiveJoinRoomSuccess=class extends n.default{constructor(e){super(e),this.moneyBet=0,this.roomId=0,this.gameId=0,this.moneyType=0,this.gameState=0,this.countTime=0,this.playerCount=0,this.potID=[],this.playerInfos=[],this.money=0,this.banker=!1,this.isSubBanker=!1,this.purchaseStatus=0,this.potPurchase=0,this.moneyPurchaseEven=0,this.moneyPurchaseOdd=0,this.moneyRemain=0,this.subListCount=0,this.list_buy_gate=[],this.bankerReqDestroy=!1,this.bossReqDestroy=!1,this.rule=0,this.diceIDs=[],this.moneyBet=this.getInt(),this.roomId=this.getInt(),this.gameId=this.getInt(),this.moneyType=this.getByte(),this.gameState=this.getByte(),this.countTime=this.getInt(),this.playerCount=this.getByte(),this.potID=[];for(let i=0;6>i;i++){let e={};e.id=this.getByte(),e.ratio=this.getInt(),e.maxMoneyBet=this.getLong(),e.totalMoney=this.getLong(),e.moneyBet=this.getLong(),e.isLock=this.getBool(),this.potID.push(e)}this.playerInfos=[];for(let i=0;i<this.playerCount;i++){let e={};e.nickname=this.getString(),e.avatar=this.getString(),e.money=this.getLong(),e.banker=this.getBool(),e.isSubBanker=this.getBool(),e.reqKickroom=this.getBool(),this.playerInfos.push(e)}this.money=this.getLong(),this.banker=this.getBool(),this.isSubBanker=this.getBool(),this.purchaseStatus=this.getInt(),this.potPurchase=this.getInt(),this.moneyPurchaseEven=this.getLong(),this.moneyPurchaseOdd=this.getLong(),this.moneyRemain=this.getLong(),this.subListCount=this.getInt(),this.list_buy_gate=[];for(let i=0;i<this.subListCount;i++){let e={};e.nickname=this.getString(),e.money=this.getLong(),this.list_buy_gate.push(e)}this.bankerReqDestroy=this.getBool(),this.bossReqDestroy=this.getBool(),this.rule=this.getInt();const t=this.getInt();for(let i=0;t>i;i++)this.diceIDs.push(this.getInt())}},e.ReceivedJoinRoomFail=class extends n.default{constructor(e){super(e)}},e.SendLeaveRoom=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.DANG_KY_THOAT_PHONG),this.packHeader(),this.updateSize()}},e.ReceiveLeavedRoom=class extends n.default{constructor(e){super(e),this.reason=0,this.reason=this.getByte()}},e.ReceiveLeaveRoom=class extends n.default{constructor(e){super(e),this.bRegis=!1,this.nickname="",this.bRegis=this.getBool(),this.nickname=this.getString()}},e.ReceiveUserJoinRoom=class extends n.default{constructor(e){super(e),this.nickname="",this.avatar="",this.money=0,this.nickname=this.getString(),this.avatar=this.getString(),this.money=this.getLong()}},e.ReceiveUserOutRoom=class extends n.default{constructor(e){super(e),this.nickname="",this.nickname=this.getString()}},e.ReceiveActionInGame=class extends n.default{constructor(e){super(e),this.action=0,this.time=0,this.action=this.getByte(),this.time=this.getByte()}},e.ReceiveStartGame=class extends n.default{constructor(e){super(e),this.banker="",this.gameId=0,this.moneyBanker=0,this.list_lock_gate=[],this.banker=this.getString(),this.gameId=this.getInt(),this.moneyBanker=this.getLong(),this.list_lock_gate=[];for(var t=0;6>t;t++){var i={};i.id=this.getByte(),i.isLock=this.getBool(),this.list_lock_gate.push(i)}}},e.SendPutMoney=class extends s.default{constructor(e,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.PUT_MONEY),this.packHeader(),this.putByte(e),this.putLong(i),this.updateSize()}},e.ReceivePutMoney=class extends n.default{constructor(e){super(e),this.error=0,this.nickname="",this.betMoney=0,this.potId=0,this.potMoney=0,this.currentMoney=0,this.error=this.getError(),this.nickname=this.getString(),this.betMoney=this.getLong(),this.potId=this.getByte(),this.potMoney=this.getLong(),this.currentMoney=this.getLong()}},e.ReceiveBankerSellGate=class extends n.default{constructor(e){super(e),this.action=0,this.moneySell=0,this.action=this.getByte(),this.moneySell=this.getLong()}},e.SendBuyGate=class extends s.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.BUY_GATE),this.packHeader(),this.putLong(e),this.updateSize()}},e.ReceiveBuyGate=class extends n.default{constructor(e){super(e),this.error=0,this.nickname="",this.moneyBuy=0,this.rmMoneySell=0,this.currentMoney=0,this.error=this.getError(),this.nickname=this.getString(),this.moneyBuy=this.getLong(),this.rmMoneySell=this.getLong(),this.currentMoney=this.getLong()}},e.ReceiveRefundMoney=class extends n.default{constructor(e){super(e),this.rfCount=0,this.potID=[],this.playerInfosRefund=[],this.rfCount=this.getInt();for(let t=0;6>t;t++){let e={};e.id=this.getByte(),e.moneyRefund=this.getLong(),e.totalMoney=this.getLong(),this.potID.push(e)}this.playerInfosRefund=[];for(let t=0;t<this.rfCount;t++){let e={};e.nickname=this.getString(),e.moneyRefund=this.getLong(),e.currentMoney=this.getLong(),e.pots=this.getString(),e.moneyRfPots=this.getString(),this.playerInfosRefund.push(e)}}},e.ReceiveFinishGame=class extends n.default{constructor(e){super(e),this.infoAllPot=[],this.diceIDs=[],this.moneyBankerBefore=0,this.moneyBankerAfter=0,this.moneyBankerExchange=0,this.playerInfoWin=[],this.subListCount=0,this.infoSubBanker=[];for(let i=0;6>i;i++){let e={};e.potId=this.getByte(),e.totalMoney=this.getLong(),e.win=this.getBool(),this.infoAllPot.push(e)}for(let i=0;4>i;i++)this.diceIDs.push(this.getInt());this.moneyBankerBefore=this.getLong(),this.moneyBankerAfter=this.getLong(),this.moneyBankerExchange=this.getLong();let t=this.getInt();for(let i=0;i<t;i++){let e={};e.nickname=this.getString(),e.moneyWin=this.getLong(),e.currentMoney=this.getLong(),e.potsWin=this.getString(),e.moneyWinPots=this.getString(),this.playerInfoWin.push(e)}this.subListCount=this.getInt();for(let i=0;i<this.subListCount;i++){let e={};e.nicknameSubbanker=this.getString(),e.potSubBanker=this.getByte(),e.moneySubBanker=this.getLong(),e.moneySubBankerNoFee=this.getLong(),e.currentMoneySubBanker=this.getLong(),this.infoSubBanker.push(e)}}},e.ReceivedKickOff=class extends n.default{constructor(e){super(e),this.reason=this.getByte()}},e.SendReconnect=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.CMDRECONNECTGAMEROOM),this.packHeader(),this.updateSize()}},e.CmdSendGetCau=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.SOI_CAU),this.packHeader(),this.updateSize()}},e.ReceiveGetCau=class extends n.default{constructor(e){super(e),this.totalEven=0,this.totalOdd=0,this.rsCount=0,this.arrayCau=[],this.totalEven=this.getInt(),this.totalOdd=this.getInt(),this.rsCount=this.getInt();for(var t=0;t<this.rsCount;t++)this.arrayCau.push(this.getByte())}},e.SendOrderBanker=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.ORDER_BANKER),this.packHeader(),this.updateSize()}},e.ReceiveOrderBanker=class extends n.default{constructor(e){super(e),this.error=0,this.moneyRequire=0,this.error=this.getError(),this.moneyRequire=this.getLong()}},e.ReceiveInfoGateSell=class extends n.default{constructor(e){super(e),this.moneyEven=0,this.moneyOdd=0,this.moneyEven=this.getLong(),this.moneyOdd=this.getLong()}},e.SendCancelBanker=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.HUY_LAM_CAI),this.packHeader(),this.updateSize()}},e.ReceiveCancelBanker=class extends n.default{constructor(e){super(e),this.bDestroy=!1,this.nickname="",this.bDestroy=this.getBool(),this.nickname=this.getString()}},e.SendBankerSellGate=class extends s.default{constructor(e,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.BANKER_SELL_GATE),this.packHeader(),this.putByte(e),this.putLong(i),this.updateSize()}},e.ReceiveInfoMoneyAfterBankerSell=class extends n.default{constructor(e){super(e),this.money=0,this.money=this.getLong()}},e.SendRequestInfoMoiChoi=class extends s.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.REQUEST_INFO_MOI_CHOI),this.packHeader(),this.updateSize()}},e.SendMoiChoi=class extends s.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.MOI_CHOI),this.packHeader(),this.putShort(e.length);for(var i=0;i<e.length;i++)this.putString(e[i]);this.updateSize()}},e.SendAcceptMoiChoi=class extends s.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.ACCEPT_MOI_CHOI),this.packHeader(),this.putString(e),this.updateSize()}},e.ReceivedChatRoom=class extends n.default{constructor(e){super(e),this.suggestionActions=[],this.chair=this.getByte(),this.isIcon=this.getBool(),this.content=decodeURI(this.getString()),this.nickname=this.getString(),this.error=this.getByte(),this.desc=this.getString();let t=this.getString();if(t){let e=JSON.parse(t);e.hasOwnProperty("suggestionActions")&&Array.isArray(e.suggestionActions)&&(this.suggestionActions=a.UserActions.toEnums(e.suggestionActions))}}},e.ReceiveLogChat=class extends n.default{constructor(e){super(e),this.message="",this.minVipPoint=0,this.timeBan=0,this.userType=0,this.chatChannel="",this.message=this.getString(),this.minVipPoint=this.getByte(),this.timeBan=this.getLong(),this.userType=this.getByte(),this.chatChannel=this.getString()}},e.ReceiveSendChat=class extends n.default{constructor(e){super(e),this.error=0,this.nickname="",this.message="",this.desc="",this.suggestionActions=[],this.vip=0,this.chatChannel="",this.error=this.getError(),this.nickname=this.getString(),this.message=this.getString(),this.desc=this.getString();let t=this.getString();if(this.vip=this.getInt(),t){let e=JSON.parse(t);e.hasOwnProperty("suggestionActions")&&Array.isArray(e.suggestionActions)&&(this.suggestionActions=a.UserActions.toEnums(e.suggestionActions))}this.chatChannel=this.getString()}}})(c=i.cmd||(i.cmd={})),i.default=c,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/Network.OutPacket":void 0}],"XocDia.Constant":[function(e,t,i){"use strict";cc._RF.push(t,"d9607+fuuNML4a5XbayNeOL","XocDia.Constant"),Object.defineProperty(i,"__esModule",{value:!0}),i.XocDiaContant=void 0,function(e){class t{}t.ERROR_MONEY=1,t.ERROR_BAO_TRI=2,e.KickReasonCodes=t}(i.XocDiaContant||(i.XocDiaContant={})),cc._RF.pop()},{}],"XocDia.Controller":[function(e,t,i){"use strict";cc._RF.push(t,"c930d7rTZRE4oeBVh3a3fLa","XocDia.Controller");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/BroadcastReceiver"),o=e("./XocDia.Cmd"),a=e("./XocDia.Player"),c=e("../../Main/Game/src/common/Random"),r=e("../../Main/Game/src/common/Configs"),l=e("./XocDia.BtnPayBet"),h=e("./XocDia.NetworkClient"),d=e("../../Main/Game/src/networks/Network.InPacket"),u=e("./XocDia.PanelPayDoor"),p=e("../../Main/Game/src/common/App"),g=e("./XocDia.BtnBet"),m=e("../../Main/Game/src/common/Utils"),f=e("./XocDia.BankerControl"),y=e("./XocDia.HidePlayer"),C=e("./XocDia.Constant"),v=e("../../Main/Game/src/games/cardgames/PopupSettingInGame"),b=e("./XocDia.PopupGuide"),k=e("../../Main/Game/src/common/Common.AudioManager"),I=e("./XocDia.PanelChat"),{ccclass:R,property:S}=cc._decorator;let B=class extends cc.Component{constructor(){super(...arguments),this.lbGameId=null,this.players=[],this.hidePlayers=null,this.btnBets=[],this.btnBetTempl=null,this.btnBetParent=null,this.btn_next_bet=null,this.btn_pre_bet=null,this.btnPayBets=[],this.dealer=null,this.lbDealerMsg=null,this.dealerHandPoint=null,this.bowl=null,this.dices=null,this.sprChips=[],this.sprChipSmalls=[],this.chips=null,this.chipTemplate=null,this.lbProgressTime=null,this.panelPayDoor=null,this.lblHistoryOdd=null,this.lblHistoryEven=null,this.sfOdd=null,this.sfEven=null,this.lblHistoryItems=null,this.bankerControl=null,this.backgroundMusic=null,this.chipSound=null,this.xocxocSound=null,this.startBetSound=null,this.winSound=null,this.countDownSound=null,this.panelChat=null,this.chipsInDoors={},this.gameState=0,this.listBets=[1e3,5e3,1e4,5e4,1e5,5e5,1e6,5e6,1e7],this.betIdx=0,this.isBanker=!1,this.banker="",this.scheduleDicesResult=null,this.scheduleDoorsResult=null,this.listChip=[]}start(){n.default.send(n.default.SET_SOUND,cc.find("Canvas")),this.initializeListener();for(let t=0;t<this.btnPayBets.length;t++)this.btnPayBets[t].node.on("click",()=>{2==this.gameState&&h.default.getInstance().send(new o.default.SendPutMoney(t,this.listBets[this.betIdx]))});this.betIdx=r.default.Login.Coin>=r.default.App.RICH_MAN?2:0;for(let t=0;t<this.listBets.length;t++){let e=cc.instantiate(this.btnBetTempl).getComponent(g.default);e.node.active=!0,e.node.parent=this.btnBetParent.content,e.sp_normal.spriteFrame=this.sprChips[t],e.label.string=m.default.formatMoneyChip(this.listBets[t]),e.sp_active.node.active=t===this.betIdx,e.node.indexI=t,e.node.on("click",e=>{this.betIdx=e.node.indexI;for(let t=0;t<this.btnBets.length;t++)this.btnBets[t].sp_active.node.active=t===this.betIdx}),this.btnBets.push(e)}r.default.Login.Coin>=r.default.App.RICH_MAN&&this.scheduleOnce(()=>{this.btnBetParent.scrollToPercentHorizontal(.4,.5)},1),k.default.getInstance().playBackgroundMusicByGame(r.default.App.BUNDLE_NAME.XOCDIA,this.backgroundMusic);let e=this;cc.game.on(cc.game.EVENT_HIDE,function(){cc.sys.localStorage.setItem("xocxoc_time_hide",(new Date).getTime())}),cc.game.on(cc.game.EVENT_SHOW,function(){if(cc.sys.localStorage.getItem("xocxoc_time_hide")){let t=Math.round(((new Date).getTime()-JSON.parse(cc.sys.localStorage.getItem("xocxoc_time_hide")))/1e3);e.timeRemain-=t,cc.sys.localStorage.removeItem("xocxoc_time_hide"),e.unschedule(e.scheduleDicesResult),e.dices.children.forEach(e=>{cc.Tween.stopAllByTarget(e),e.y=0}),e.lastDicesResult?(e.bowl.node.active=!1,e.dices.active=!0,e.lastDicesResult.forEach((t,i)=>{e.dices.children[i].getComponent(cc.Sprite).spriteFrame=1==t?e.sfOdd:e.sfEven})):e.dices.active=!1}})}onDestroy(){cc.game.clear()}initializeListener(){p.default.instance.showErrLoading("\u0110ang k\u1ebft n\u1ed1i t\u1edbi server..."),h.default.getInstance().addOnOpen(()=>{p.default.instance.showErrLoading("\u0110ang \u0111ang \u0111\u0103ng nh\u1eadp..."),h.default.getInstance().send(new o.default.SendLogin(r.default.Login.Nickname,r.default.Login.AccessToken))},this),h.default.getInstance().addOnClose(()=>{p.default.instance.loadScene("Lobby")},this),n.default.register(n.default.USER_UPDATE_COIN,()=>{this.players[this.players.length-1].setCoin(r.default.Login.Coin)},this),n.default.send(n.default.USER_UPDATE_COIN),n.default.register(n.default.USER_DISCONNECTED,()=>{h.default.getInstance().close()},this),h.default.getInstance().addListener(e=>{p.default.instance.showLoading(!1);let t=new d.default(e);switch(t.getCmdId()){case o.default.Code.LOGIN:this.receivedLogin();break;case o.default.Code.MONEY_BET_CONFIG:{let t=new o.default.ReceivedMoneyBetConfig(e);cc.log(t),this.receivedGetMoneyBetConfig(t)}break;case o.default.Code.JOIN_ROOM_FAIL:{let t=new o.default.ReceivedJoinRoomFail(e);cc.log(t),this.receivedJoinRoomFail(t)}break;case o.default.Code.JOIN_ROOM_SUCCESS:{let t=new o.default.ReceiveJoinRoomSuccess(e);cc.log(t),this.receivedJoinRoomSuccess(t)}break;case o.default.Code.USER_JOIN_ROOM_SUCCESS:{let t=new o.default.ReceiveUserJoinRoom(e);cc.log(t),this.receivedUserJoinRoom(t)}break;case o.default.Code.USER_OUT_ROOM:{let t=new o.default.ReceiveUserOutRoom(e);cc.log(t),this.receivedUserOutRoom(t)}break;case o.default.Code.QUIT_ROOM:{let t=new o.default.ReceiveLeavedRoom(e);cc.log(t),this.receivedLeavedRoom(t)}break;case o.default.Code.DANG_KY_THOAT_PHONG:{let t=new o.default.ReceiveLeaveRoom(e);cc.log(t),this.receivedLeaveRoom(t)}break;case o.default.Code.ACTION_IN_GAME:{let t=new o.default.ReceiveActionInGame(e);cc.log(t),this.receivedActionInGame(t)}break;case o.default.Code.START_GAME:{let t=new o.default.ReceiveStartGame(e);cc.log(t),this.receivedStartGame(t)}break;case o.default.Code.PUT_MONEY:{let t=new o.default.ReceivePutMoney(e);this.receivedPutMoney(t)}break;case o.default.Code.BANKER_SELL_GATE:{let t=new o.default.ReceiveBankerSellGate(e);cc.log(t),this.receivedSellGate(t)}break;case o.default.Code.BUY_GATE:{let t=new o.default.ReceiveBuyGate(e);cc.log(t),this.receivedBuyGate(t)}break;case o.default.Code.REFUND_MONEY:{let t=new o.default.ReceiveRefundMoney(e);cc.log(t),this.receivedRefundMoney(t)}break;case o.default.Code.FINISH_GAME:{let t=new o.default.ReceiveFinishGame(e);cc.log(t),this.receivedFinishGame(t)}break;case o.default.Code.SOI_CAU:{let t=new o.default.ReceiveGetCau(e);cc.log(t),this.receivedSoiCau(t)}break;case o.default.Code.ORDER_BANKER:{let t=new o.default.ReceiveOrderBanker(e);cc.log(t),this.receivedOrderBanker(t)}break;case o.default.Code.HUY_LAM_CAI:{let t=new o.default.ReceiveCancelBanker(e);cc.log(t),this.receivedCancelBanker(t)}break;case o.default.Code.INFO_GATE_SELL:{let t=new o.default.ReceiveInfoGateSell(e);cc.log(t),this.receivedInfoGateSell(t)}break;case o.default.Code.INFO_MONEY_AFTER_BANKER_SELL:{let t=new o.default.ReceiveInfoMoneyAfterBankerSell(e);cc.log(t)}break;case o.default.Code.CHAT_ROOM:{let t=new o.default.ReceivedChatRoom(e);cc.log(t),this.receivedChatRoom(t)}break;case o.default.Code.NOTIFY_KICK_FROM_ROOM:{p.default.instance.showLoading(!1);let t=new o.default.ReceivedKickOff(e);cc.log(t),this.onKickFromRoom(t.reason)}break;default:console.log("inpacket.getCmdId(): "+t.getCmdId())}},this),h.default.getInstance().connect()}receivedLogin(){h.default.getInstance().send(new o.default.SendMoneyBetConfig)}receivedJoinRoomFail(e){let t="L\u1ed7i "+e.getError()+", kh\xf4ng x\xe1c \u0111\u1ecbnh.";switch(e.getError()){case 1:t="L\u1ed7i ki\u1ec3m tra th\xf4ng tin!";break;case 2:t="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 3:t="B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n v\xe0o ph\xf2ng ch\u01a1i n\xe0y!";break;case 4:t="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 5:t="M\u1ed7i l\u1ea7n v\xe0o ph\xf2ng ph\u1ea3i c\xe1ch nhau 10 gi\xe2y!";break;case 6:t="H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!";break;case 7:t="Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng ch\u01a1i!";break;case 8:t="M\u1eadt kh\u1ea9u ph\xf2ng ch\u01a1i kh\xf4ng \u0111\xfang!";break;case 9:t="Ph\xf2ng ch\u01a1i \u0111\xe3 \u0111\u1ee7 ng\u01b0\u1eddi!";break;case 10:t="B\u1ea1n b\u1ecb ch\u1ee7 ph\xf2ng kh\xf4ng cho v\xe0o b\xe0n!"}p.default.instance.alertDialog.showMsgWithOnDismissed(t,()=>{h.default.getInstance().send(new o.default.SendLeaveRoom)})}receivedGetMoneyBetConfig(e){const t=e.list.filter(e=>e.moneyType==r.default.App.MONEY_TYPE).sort((e,t)=>e.moneyBet-t.moneyBet);h.default.getInstance().send(new o.default.SendJoinRoom(r.default.App.MONEY_TYPE,t[0].maxUserPerRoom,t[0].moneyBet,0))}resetView(){this.players.forEach(e=>e.leave()),this.btnPayBets.forEach(e=>e.reset()),this.dealer.setAnimation(0,"normal",!0),this.lbDealerMsg.node.active=!1,this.dices.active=!1,this.bowl.clearTracks(),this.clearChips(),this.lbProgressTime.node.parent.active=!1,this.panelPayDoor.node.active=!1,this.bankerControl.node.active=!1}getRandomEmptyPlayer(){let e=new Array;for(let t=0;t<this.players.length;t++)""==this.players[t].nickname&&e.push(this.players[t]);return e.length>0?e[c.default.rangeInt(0,e.length)]:null}getPlayer(e){for(let t=0;t<this.players.length;t++){let i=this.players[t];if(""!=i.nickname&&i.nickname==e)return i}return null}getChip(e){let t=null;for(let s=0;s<this.listChip.length;s++)if(!this.listChip[s].active){t=this.listChip[s];break}null==t&&(t=cc.instantiate(this.chipTemplate),this.listChip.push(t));let i=0;for(let s=0;s<this.listBets.length;s++)if(this.listBets[s]==e){i=s;break}return t.getComponent(cc.Sprite).spriteFrame=this.sprChipSmalls[i],t.opacity=255,t.active=!0,t.parent=this.chips,t.setContentSize(28,28),t.setSiblingIndex(this.chips.childrenCount),t}clearChips(){this.chipTemplate.active=!1;for(let e=0;e<this.listChip.length;e++)this.listChip[e].active=!1;this.chipsInDoors={}}convertMoneyToChipMoney(e){let t=new Array,i=e,s=this.listBets[0],n=0;for(;i>=s||n<15;){for(let e=this.listBets.length;e>=0;e--)if(i>=this.listBets[e]){t.push(this.listBets[e]),i-=this.listBets[e];break}n++}return t}setTimeCountDown(e){this.timeRemain=e,this.lbProgressTime.string=this.timeRemain.toString();let t=()=>{this.timeRemain--,this.timeRemain<=0&&this.unschedule(t),this.lbProgressTime.string=this.timeRemain.toString(),this.timeRemain<15&&k.default.getInstance().playEffectByGame(r.default.App.BUNDLE_NAME.XOCDIA,this.countDownSound)};this.schedule(t,1)}receivedJoinRoomSuccess(e){r.default.Login.Coin=e.money,this.resetView(),this.lbGameId.string="#"+e.gameId,this.listBets=[1e3,5e3,1e4,5e4,1e5,5e5,1e6,5e6,1e7],this.isBanker=e.banker,this.banker="",this.isBanker&&(this.banker=r.default.Login.Nickname),this.players[this.players.length-1].set(r.default.Login.Nickname,r.default.Login.Avatar,r.default.Login.Coin,e.banker);for(let i=0;i<e.playerInfos.length;i++){let t=e.playerInfos[i],s=this.getRandomEmptyPlayer();null!=s?(s.set(t.nickname,t.avatar,t.money,t.banker),t.banker&&(this.banker=t.nickname)):this.hidePlayers.add(t)}this.hidePlayers.showNumberPlayer();for(let i=0;i<e.potID.length;i++){let t=e.potID[i];this.btnPayBets[i].setTotalBet(t.totalMoney)}this.gameState=e.gameState;let t="";switch(this.gameState){case 1:t="B\u1eaft \u0111\u1ea7u v\xe1n m\u1edbi";break;case 2:t="B\u1eaft \u0111\u1ea7u \u0111\u1eb7t c\u1eeda",this.lbProgressTime.node.parent.active=!0,this.setTimeCountDown(e.countTime);break;case 3:if(this.isBanker)this.bankerControl.show(e.moneyPurchaseOdd,e.moneyPurchaseEven);else{1!=e.purchaseStatus&&this.panelPayDoor.show(e.purchaseStatus,e.moneyRemain);for(let t=0;t<e.list_buy_gate.length;t++){let i=e.list_buy_gate[t];this.panelPayDoor.addUser(i.nickname,i.money,e.moneyRemain)}}break;case 4:case 5:break;case 6:{t="B\u1eaft \u0111\u1ea7u tr\u1ea3 th\u01b0\u1edfng",this.lastDicesResult=e.diceIDs;let i=0,s=0;for(let t=0;t<e.diceIDs.length;t++)1==e.diceIDs[t]?i++:s++,this.dices.children[t].getComponent(cc.Sprite).spriteFrame=1==e.diceIDs[t]?this.sfOdd:this.sfEven;this.showDices(),this.scheduleDoorsResult=()=>{let t=(e.diceIDs[0]+e.diceIDs[1]+e.diceIDs[2]+e.diceIDs[3])%2==0,n=i-s==2,o=s-i==2,a=i-s==4,c=s-i==4,r=[];t?(r.push(0),this.btnPayBets[0].hightlight(),a?(r.push(3),this.btnPayBets[3].hightlight()):c&&(r.push(2),this.btnPayBets[2].hightlight())):(r.push(1),this.btnPayBets[1].hightlight(),n?(r.push(4),this.btnPayBets[4].hightlight()):o&&(r.push(5),this.btnPayBets[5].hightlight()))},this.scheduleOnce(this.scheduleDoorsResult,2)}}""!=t&&(this.dealer.addAnimation(0,"normal",!0),this.lbDealerMsg.string=t,this.lbDealerMsg.node.active=!1,this.scheduleOnce(()=>{this.lbDealerMsg.node.active=!0,this.scheduleOnce(()=>{this.lbDealerMsg.node.active=!1},.9)},.3)),h.default.getInstance().send(new o.default.CmdSendGetCau)}receivedUserJoinRoom(e){let t=this.getRandomEmptyPlayer();null!=t?t.set(e.nickname,e.avatar,e.money,!1):(this.hidePlayers.add(e),this.hidePlayers.showNumberPlayer())}receivedUserOutRoom(e){let t=this.getPlayer(e.nickname);if(null!=t){t.leave();let e=this.getRandomEmptyPlayer();if(e){let t=this.hidePlayers.removeFirst();t&&e.set(t.nickname,t.avatar,t.money,!1)}}else this.hidePlayers.remove(e),this.hidePlayers.showNumberPlayer()}receivedLeavedRoom(e){switch(e.reason){case 1:p.default.instance.alertDialog.showMsg("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 tham gia ph\xf2ng!");break;case 2:p.default.instance.alertDialog.showMsg("H\u1ec7 th\u1ed1ng \u0111ang t\u1ea1m th\u1eddi b\u1ea3o tr\xec!");break;case 3:this.hidePlayers.clear(),h.default.getInstance().close();break;case 5:p.default.instance.alertDialog.showMsg("B\u1ea1n b\u1ecb m\u1eddi ra kh\u1ecfi ph\xf2ng v\xec qu\xe1 l\xe2u kh\xf4ng t\u01b0\u01a1ng t\xe1c!");break;case 6:p.default.instance.alertDialog.showMsg("Nh\xe0 c\xe1i \u0111\xe3 kick b\u1ea1n ra kh\u1ecfi ph\xf2ng!")}}receivedLeaveRoom(e){e.nickname===r.default.Login.Nickname&&p.default.instance.alertDialog.showMsg(e.bRegis?"\u0110\xe3 \u0111\u0103ng k\xfd r\u1eddi ph\xf2ng.":"\u0110\xe3 hu\u1ef7 \u0111\u0103ng k\xfd r\u1eddi ph\xf2ng.")}receivedActionInGame(e){let t="";switch(this.gameState=e.action,e.action){case 1:t="B\u1eaft \u0111\u1ea7u v\xe1n m\u1edbi",this.lbProgressTime.node.parent.active=!1;break;case 2:t="B\u1eaft \u0111\u1ea7u \u0111\u1eb7t c\u1eeda",this.lbProgressTime.node.parent.active=!0,this.setTimeCountDown(e.time);break;case 3:case 4:case 5:this.lbProgressTime.node.parent.active=!1;break;case 6:t="B\u1eaft \u0111\u1ea7u tr\u1ea3 th\u01b0\u1edfng",this.lbProgressTime.node.parent.active=!1}""!=t&&(this.dealer.addAnimation(0,"normal",!0),this.lbDealerMsg.string=t,this.lbDealerMsg.node.active=!1,this.scheduleOnce(()=>{this.lbDealerMsg.node.active=!0,this.scheduleOnce(()=>{this.lbDealerMsg.node.active=!1},.9)},.3))}receivedStartGame(e){this.lastDicesResult=null,this.unschedule(this.scheduleDicesResult),this.unschedule(this.scheduleDoorsResult),this.dices.children.forEach(e=>{cc.Tween.stopAllByTarget(e),e.y=0}),this.dices.active=!1,this.lbGameId.string="#"+e.gameId,""!=e.banker&&e.banker!=r.default.Login.Nickname&&this.isBanker&&p.default.instance.alertDialog.showMsg("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 ti\u1ebfp t\u1ee5c l\xe0m c\xe1i!"),this.banker=e.banker,this.isBanker=this.banker==r.default.Login.Nickname;for(let t=0;t<this.players.length;t++){let e=this.players[t];e.banker.active=""!=e.nickname&&e.nickname==this.banker}this.btnPayBets.forEach(e=>e.reset()),this.clearChips(),k.default.getInstance().playEffectByGame(r.default.App.BUNDLE_NAME.XOCDIA,this.startBetSound),this.scheduleOnce(()=>{k.default.getInstance().playEffectByGame(r.default.App.BUNDLE_NAME.XOCDIA,this.xocxocSound),this.bowl.node.active=!0,this.bowl.setAnimation(0,"xoc",!1)},1)}receivedPutMoney(e){var t,i;let s=this.btnPayBets[e.potId];if(e.nickname==r.default.Login.Nickname){switch(s.setTotalBet(e.potMoney,e.betMoney),e.error){case 0:break;case 1:return void p.default.instance.alertDialog.showMsg("L\u1ed7i tr\u1eeb ti\u1ec1n!");case 2:return void p.default.instance.alertDialog.showMsg("B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n!");default:return void p.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+", kh\xf4ng x\xe1c \u0111\u1ecbnh.")}r.default.Login.Coin=e.currentMoney,n.default.send(n.default.USER_UPDATE_COIN)}else s.setTotalBet(e.potMoney);let o=this.getPlayer(e.nickname);null!=o&&o.setCoin(e.currentMoney);let a=this.convertMoneyToChipMoney(e.betMoney);a.length<=0&&a.push(this.listBets[0]);for(let n=0;n<a.length;n++){let r=this.getChip(a[n]);const l=o?o.node:this.hidePlayers.node;r.active=!0,r.name=e.nickname,r.position=null===(t=r.parent)||void 0===t?void 0:t.convertToNodeSpaceAR(l.parent.convertToWorldSpaceAR(l.position)),this.chipsInDoors.hasOwnProperty(e.potId)||(this.chipsInDoors[e.potId]=[]),this.chipsInDoors[e.potId].push(r);let h=null===(i=r.parent)||void 0===i?void 0:i.convertToNodeSpaceAR(s.node.parent.convertToWorldSpaceAR(s.node.position));h.x+=c.default.rangeInt(-25,25),h.y+=c.default.rangeInt(-20,20),r.runAction(cc.sequence(cc.moveTo(.35,cc.v2(h)).easing(cc.easeSineOut()),cc.delayTime(.8),cc.fadeOut(.2)))}this.currentChipAudioID&&cc.audioEngine.stopEffect(this.currentChipAudioID),this.currentChipAudioID=k.default.getInstance().playEffectByGame(r.default.App.BUNDLE_NAME.XOCDIA,this.chipSound)}receivedSellGate(e){e.action}receivedBuyGate(e){if(e.nickname==r.default.Login.Nickname){let t="";switch(e.error){case 0:break;case 1:t="B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n \u0111\u1ec3 mua c\u1eeda!";break;case 2:t="Nh\xe0 c\xe1i \u0111\xe3 b\xe1n c\u1eeda xong!";break;default:t="L\u1ed7i "+e.error+", kh\xf4ng x\xe1c \u0111\u1ecbnh."}if(""!=t)return void p.default.instance.alertDialog.showMsg(t)}this.panelPayDoor.addUser(e.nickname,e.moneyBuy,e.rmMoneySell);let t=this.getPlayer(e.nickname);t&&t.setCoin(e.currentMoney)}receivedRefundMoney(e){this.panelPayDoor.node.active=!1,this.bankerControl.node.active=!1;for(let t=0;t<e.playerInfosRefund.length;t++){let i=e.playerInfosRefund[t],s=this.getPlayer(i.nickname);if(null!=s&&(s.showRefundCoin(i.moneyRefund),s.setCoin(i.currentMoney)),i.nickname==r.default.Login.Nickname){r.default.Login.Coin=i.currentMoney,n.default.send(n.default.USER_UPDATE_COIN);const e=parseInt(i.pots);if(!isNaN(e)){if(i.moneyRefund===this.btnPayBets[e].getTotalMyBet()){let t=this.chipsInDoors[e];t.filter(e=>e.name===r.default.Login.Nickname).forEach(e=>t.splice(t.findIndex(t=>t.name===e.name),1))}this.btnPayBets[e].addTotalMyBet(-i.moneyRefund)}}}for(let t=0;t<e.potID.length;t++){let i=e.potID[t];this.btnPayBets[t].setTotalBet(i.totalMoney)}}showDices(){this.bowl.node.active=!0,this.bowl.setAnimation(0,"open",!1),this.scheduleDicesResult=()=>{this.dices.active=!0,this.dices.children.forEach((e,t)=>{cc.tween(e).to(.01,{opacity:0}).delay(.15+.1*t).to(.01,{opacity:255}).by(.01,{position:cc.v3(0,300,0)}).by(.1,{position:cc.v3(0,-350,0)}).by(.02,{position:cc.v3(0,30,0)}).start()})},this.scheduleOnce(this.scheduleDicesResult,.9)}receivedFinishGame(e){this.lastDicesResult=e.diceIDs,this.panelPayDoor.node.active=!1,this.bankerControl.node.active=!1;let t=0,i=0;for(let s=0;s<e.diceIDs.length;s++)1==e.diceIDs[s]?t++:i++,this.dices.children[s].getComponent(cc.Sprite).spriteFrame=1==e.diceIDs[s]?this.sfOdd:this.sfEven;this.showDices(),this.scheduleOnce(()=>{let s=(e.diceIDs[0]+e.diceIDs[1]+e.diceIDs[2]+e.diceIDs[3])%2==0,o=t-i==2,a=i-t==2,c=t-i==4,l=i-t==4,h=[];s?(h.push(0),this.btnPayBets[0].hightlight(),c?(h.push(3),this.btnPayBets[3].hightlight()):l&&(h.push(2),this.btnPayBets[2].hightlight())):(h.push(1),this.btnPayBets[1].hightlight(),o?(h.push(4),this.btnPayBets[4].hightlight()):a&&(h.push(5),this.btnPayBets[5].hightlight()));let d={};for(let e in this.chipsInDoors){let t=parseInt(e),i=this.chipsInDoors[t];if(-1==h.indexOf(t))for(let e=0;e<i.length;e++)i[e].runAction(cc.sequence(cc.moveTo(.5,this.dealerHandPoint.getPosition()).easing(cc.easeSineOut()),cc.removeSelf()));else for(let e=0;e<i.length;e++){let t=i[e],s=t.name;d.hasOwnProperty(s)||(d[s]=[]),d[s].push(t)}}this.scheduleOnce(()=>{var t,i;for(let e in d){const s=this.getPlayer(e),n=s?s.node:this.hidePlayers.node,o=d[e];for(let e=0;e<o.length;e++){let s=o[e];s.setContentSize(28,28),s.runAction(cc.sequence(cc.delayTime(.01*o.length-.01*e+1),cc.moveTo(.5,null===(t=s.parent)||void 0===t?void 0:t.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.getPosition()))).easing(cc.easeSineOut()),cc.callFunc(()=>{s.active=!1})));let a=this.getChip(0);a.getComponent(cc.Sprite).spriteFrame=s.getComponent(cc.Sprite).spriteFrame,a.opacity=0,a.setContentSize(28,28),a.position=this.dealerHandPoint.position,a.runAction(cc.sequence(cc.fadeIn(.2),cc.delayTime(.01*o.length-.02*e+.3),cc.moveTo(.5,null===(i=s.parent)||void 0===i?void 0:i.convertToNodeSpaceAR(n.parent.convertToWorldSpaceAR(n.getPosition()))).easing(cc.easeSineOut()),cc.callFunc(()=>{a.active=!1})))}}for(let s=0;s<e.playerInfoWin.length;s++){let t=e.playerInfoWin[s],i=this.getPlayer(t.nickname);null!=i&&(i.showWinCoin(t.moneyWin),i.setCoin(t.currentMoney),t.nickname==r.default.Login.Nickname&&(r.default.Login.Coin=t.currentMoney,n.default.send(n.default.USER_UPDATE_COIN),t.moneyWin>0&&k.default.getInstance().playEffectByGame(r.default.App.BUNDLE_NAME.XOCDIA,this.winSound)))}},3)},2),this.isBanker&&(this.players[this.players.length-1].showWinCoin(e.moneyBankerExchange),this.players[this.players.length-1].setCoin(e.moneyBankerAfter),r.default.Login.Coin=e.moneyBankerAfter,n.default.send(n.default.USER_UPDATE_COIN)),h.default.getInstance().send(new o.default.CmdSendGetCau)}receivedSoiCau(e){this.lblHistoryOdd.string=m.default.formatNumber(e.totalOdd),this.lblHistoryEven.string=m.default.formatNumber(e.totalEven);for(let t=0;t<this.lblHistoryItems.childrenCount;t++)t<e.arrayCau.length?(this.lblHistoryItems.children[t].getComponent(cc.Sprite).spriteFrame=0==e.arrayCau[t]?this.sfEven:this.sfOdd,this.lblHistoryItems.children[t].active=!0):this.lblHistoryItems.children[t].active=!1}receivedOrderBanker(e){switch(e.error){case 0:break;case 1:p.default.instance.alertDialog.showMsg("B\u1ea1n c\u1ea7n "+m.default.formatNumber(e.moneyRequire)+" Xu \u0111\u1ec3 l\xe0m c\xe1i!");break;default:p.default.instance.alertDialog.showMsg("L\u1ed7i "+e.error+", kh\xf4ng x\xe1c \u0111\u1ecbnh.")}}receivedCancelBanker(e){e.bDestroy&&this.isBanker&&p.default.instance.alertDialog.showMsg("\u0110\u0103ng k\xfd hu\u1ef7 l\xe0m c\xe1i th\xe0nh c\xf4ng.")}receivedInfoGateSell(e){this.bankerControl.show(e.moneyOdd,e.moneyEven)}receivedChatRoom(e){if(0===e.error){let t=this.getPlayer(e.nickname);if(!t)return;let i=e.isIcon,s=e.content;i?t.showChatEmotion(s):t.showChatMsg(s)}else p.default.instance.actiontDialog.showMsgWithActions(e.desc,e.suggestionActions)}actNextPageBet(){this.btnBetParent.scrollToRight(.5)}actPrevPageBet(){this.btnBetParent.scrollToLeft(.5)}actBuyGate(){h.default.getInstance().send(new o.default.SendBuyGate(this.panelPayDoor.coin))}actOrderBanker(){h.default.getInstance().send(new o.default.SendOrderBanker)}actCancelBanker(){h.default.getInstance().send(new o.default.SendCancelBanker)}switchSettingPanel(e,t){let i=e.target.getChildByName("panel");i.active?i.runAction(cc.sequence(cc.scaleTo(.15,0,0),cc.callFunc(e=>{e.active=!1}))):(i.active=!0,i.scale=0,i.runAction(cc.sequence(cc.scaleTo(.15,1,1),cc.callFunc(()=>{}))))}onKickFromRoom(e){let t="B\u1ea1n b\u1ecb kick kh\u1ecfi b\xe0n ch\u01a1i!";switch(e){case C.XocDiaContant.KickReasonCodes.ERROR_MONEY:t="Ti\u1ec1n trong b\xe0n kh\xf4ng \u0111\u1ee7 \u0111\u1ec3 ti\u1ebfp t\u1ee5c!";break;case C.XocDiaContant.KickReasonCodes.ERROR_BAO_TRI:t="H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!"}h.default.getInstance().close(),this.scheduleOnce(()=>{p.default.instance.alertDialog.showMsg(t)},.5)}actShowChat(){this.panelChat.show()}actSetting(){v.default.createAndShow(this.node,r.default.App.BUNDLE_NAME.XOCDIA,null,()=>{h.default.getInstance().send(new o.default.SendLeaveRoom)})}actGuide(){b.default.createAndShow(this.node)}actHistory(){this.lblHistoryItems.parent.active=!this.lblHistoryItems.parent.active}};s([S(cc.Label)],B.prototype,"lbGameId",void 0),s([S([a.default])],B.prototype,"players",void 0),s([S(y.default)],B.prototype,"hidePlayers",void 0),s([S(cc.Node)],B.prototype,"btnBetTempl",void 0),s([S(cc.ScrollView)],B.prototype,"btnBetParent",void 0),s([S(cc.Button)],B.prototype,"btn_next_bet",void 0),s([S(cc.Button)],B.prototype,"btn_pre_bet",void 0),s([S([l.default])],B.prototype,"btnPayBets",void 0),s([S(sp.Skeleton)],B.prototype,"dealer",void 0),s([S(cc.Label)],B.prototype,"lbDealerMsg",void 0),s([S(cc.Node)],B.prototype,"dealerHandPoint",void 0),s([S(sp.Skeleton)],B.prototype,"bowl",void 0),s([S(cc.Node)],B.prototype,"dices",void 0),s([S([cc.SpriteFrame])],B.prototype,"sprChips",void 0),s([S([cc.SpriteFrame])],B.prototype,"sprChipSmalls",void 0),s([S(cc.Node)],B.prototype,"chips",void 0),s([S(cc.Node)],B.prototype,"chipTemplate",void 0),s([S(cc.Label)],B.prototype,"lbProgressTime",void 0),s([S(u.default)],B.prototype,"panelPayDoor",void 0),s([S(cc.Label)],B.prototype,"lblHistoryOdd",void 0),s([S(cc.Label)],B.prototype,"lblHistoryEven",void 0),s([S(cc.SpriteFrame)],B.prototype,"sfOdd",void 0),s([S(cc.SpriteFrame)],B.prototype,"sfEven",void 0),s([S(cc.Node)],B.prototype,"lblHistoryItems",void 0),s([S(f.default)],B.prototype,"bankerControl",void 0),s([S(cc.AudioClip)],B.prototype,"backgroundMusic",void 0),s([S(cc.AudioClip)],B.prototype,"chipSound",void 0),s([S(cc.AudioClip)],B.prototype,"xocxocSound",void 0),s([S(cc.AudioClip)],B.prototype,"startBetSound",void 0),s([S(cc.AudioClip)],B.prototype,"winSound",void 0),s([S(cc.AudioClip)],B.prototype,"countDownSound",void 0),s([S(I.default)],B.prototype,"panelChat",void 0),B=s([R],B),i.default=B,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Common.AudioManager":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Random":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/games/cardgames/PopupSettingInGame":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"./XocDia.BankerControl":"XocDia.BankerControl","./XocDia.BtnBet":"XocDia.BtnBet","./XocDia.BtnPayBet":"XocDia.BtnPayBet","./XocDia.Cmd":"XocDia.Cmd","./XocDia.Constant":"XocDia.Constant","./XocDia.HidePlayer":"XocDia.HidePlayer","./XocDia.NetworkClient":"XocDia.NetworkClient","./XocDia.PanelChat":"XocDia.PanelChat","./XocDia.PanelPayDoor":"XocDia.PanelPayDoor","./XocDia.Player":"XocDia.Player","./XocDia.PopupGuide":"XocDia.PopupGuide"}],"XocDia.HidePlayer":[function(e,t,i){"use strict";cc._RF.push(t,"04f40MCZeBCxr0bk0BMWIec","XocDia.HidePlayer");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const{ccclass:n,property:o}=cc._decorator;let a=class extends cc.Component{constructor(){super(...arguments),this.chatEmotion=null,this.chatMsg=null,this.lbNumPlayer=null,this.players=[]}add(e){this.players.push(e)}remove(e){let t=this.players.findIndex(t=>t.nickname==e.nickname);t>-1&&this.players.splice(t,1)}removeFirst(){return this.players.shift()}clear(){this.players=[],this.showNumberPlayer()}showNumberPlayer(){this.lbNumPlayer.string=this.players.length.toString()}};s([o(cc.Node)],a.prototype,"chatEmotion",void 0),s([o(cc.Node)],a.prototype,"chatMsg",void 0),s([o(cc.Label)],a.prototype,"lbNumPlayer",void 0),a=s([n],a),i.default=a,cc._RF.pop()},{}],"XocDia.NetworkClient":[function(e,t,i){"use strict";cc._RF.push(t,"559afJVJ/VI9oOTOdKdpXFq","XocDia.NetworkClient"),Object.defineProperty(i,"__esModule",{value:!0});const s=e("../../Main/Game/src/networks/Network.NetworkClient"),n=e("../../Main/Game/src/networks/Network.NetworkListener"),o=e("../../Main/Game/src/common/Configs");class a extends s.default{constructor(){super(),this.listeners=new Array,this.isUseWSS=o.default.App.USE_WSS}static getInstance(){return null==this.instance&&(this.instance=new a),this.instance}connect(){super.connect(o.default.App.HOST_XOCDIA.host,o.default.App.HOST_XOCDIA.port)}onOpen(e){super.onOpen(e)}onMessage(e){for(var t=new Uint8Array(e.data),i=0;i<this.listeners.length;i++){var s=this.listeners[i];s.target&&s.target instanceof Object&&s.target.node?s.callback(t):(this.listeners.splice(i,1),i--)}}addListener(e,t){this.listeners.push(new n.default(t,e))}send(e){for(var t=new Int8Array(e._length),i=0;i<e._length;i++)t[i]=e._data[i];null!=this.ws&&this.isConnected()&&this.ws.send(t.buffer)}}i.default=a,cc._RF.pop()},{"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/networks/Network.NetworkClient":void 0,"../../Main/Game/src/networks/Network.NetworkListener":void 0}],"XocDia.PanelChat":[function(e,t,i){"use strict";cc._RF.push(t,"812bffRWHdPj6XVvpWuYXyd","XocDia.PanelChat");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/BroadcastReceiver"),a=e("../../Main/Game/src/common/Constants"),c=e("../../Main/Game/src/common/Utils"),r=e("../../Main/Game/src/networks/MiniGameNetworkClient"),l=e("../../Main/Game/src/networks/Network.InPacket"),h=e("./XocDia.Cmd"),{ccclass:d,property:u}=cc._decorator;let p=class extends cc.Component{constructor(){super(...arguments),this.container=null,this.itemChatTemplate=null,this.scrollChat=null,this.edbChat=null,this.atlasVip=null}start(){this.itemChatTemplate.active=!1,o.default.send(o.default.SET_SOUND,this.node),r.default.getInstance().addListener(e=>{if(this.node.active)switch(new l.default(e).getCmdId()){case h.default.Code.LOG_CHAT:{let s=new h.default.ReceiveLogChat(e);if(cc.log(s),s.chatChannel!==a.ChatChannel.XOC_DIA)break;for(var t=JSON.parse(s.message),i=0;i<t.length;i++)this.addChat(t[i].u,t[i].m,t[i].vipId);break}case h.default.Code.SEND_CHAT:{let t=new h.default.ReceiveSendChat(e);if(cc.log(t),t.chatChannel!==a.ChatChannel.XOC_DIA)break;switch(t.error){case 0:this.addChat(t.nickname,t.message,t.vip);break;default:n.default.instance.actiontDialog.showMsgWithActions(t.desc,t.suggestionActions)}break}}},this)}show(){this.scrollChat.content.children.forEach(e=>e.active=!1),this.node.active=!0,cc.tween(this.container).set({position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)}).to(.5,{position:cc.v3((cc.winSize.width-this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backOut}).call(()=>{r.default.getInstance().send(new h.default.SendScribeChat)}).start()}dismiss(){cc.tween(this.container).to(.5,{position:cc.v3((cc.winSize.width+this.container.width)/2,-(cc.winSize.height-this.container.height)/2+115)},{easing:cc.easing.backIn}).call(()=>{r.default.getInstance().send(new h.default.SendUnScribeChat),this.node.active=!1}).start()}addChat(e,t,i){let s=null;for(var n=0;n<this.scrollChat.content.childrenCount;n++){let e=this.scrollChat.content.children[n];if(!e.active){s=e;break}}null==s&&(s=this.scrollChat.content.childrenCount>=50?this.scrollChat.content.children[0]:cc.instantiate(this.itemChatTemplate));var o=0;for(n=0;n<this.scrollChat.content.childrenCount;n++){let e=this.scrollChat.content.children[n];e!=s&&(e.zIndex=o++)}s.parent=this.scrollChat.content,s.active=!0,s.zIndex=o++;let a=s.getComponentInChildren(cc.RichText);a.imageAtlas=this.atlasVip;let r=c.default.getColorVip("VIP_"+i),l="<color="+r+"><outline color="+r+"width=1>"+e+"</outline></color> <img src='Vip"+i+"' offset=0,-7/><img src='VIP_"+i+"' offset=0,-7/>:  "+t;a.string=l,this.scrollChat.scrollToBottom(.2)}sendChat(){let e=this.edbChat.string.trim();0!=e.length&&(this.edbChat.string="",r.default.getInstance().send(new h.default.SendChat(unescape(encodeURIComponent(e)))))}};s([u(cc.Node)],p.prototype,"container",void 0),s([u(cc.Node)],p.prototype,"itemChatTemplate",void 0),s([u(cc.ScrollView)],p.prototype,"scrollChat",void 0),s([u(cc.EditBox)],p.prototype,"edbChat",void 0),s([u(cc.SpriteAtlas)],p.prototype,"atlasVip",void 0),p=s([d],p),i.default=p,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Constants":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/networks/MiniGameNetworkClient":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"./XocDia.Cmd":"XocDia.Cmd"}],"XocDia.PanelPayDoor":[function(e,t,i){"use strict";cc._RF.push(t,"089fbucxjFKWpNuCc5T8uJY","XocDia.PanelPayDoor");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/BroadcastReceiver"),o=e("../../Main/Game/src/common/Utils"),{ccclass:a,property:c}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.title1=null,this.title2=null,this.itemTemplate=null,this.slider=null,this.lblCoin=null,this.coin=1,this.minCoin=1,this.maxCoin=0}start(){n.default.send(n.default.SET_SOUND,this.node),this.slider.node.on("slide",()=>{this.updateValue()})}show(e,t){this.title1.string=this.title2.string=2==e?"MUA CH\u1eb4N":"MUA L\u1eba",this.coin=this.minCoin,this.maxCoin=t,this.node.active=!0,this.itemTemplate.active=!1;for(let i=1;i<this.itemTemplate.parent.childrenCount;i++)this.itemTemplate.parent.children[i].destroy();this.slider.progress=1,this.updateValue()}addUser(e,t,i){0==i&&(this.node.active=!1),this.maxCoin=i,this.coin>this.maxCoin&&(this.coin=this.maxCoin),this.slider.progress=this.coin/(this.maxCoin-this.minCoin),this.lblCoin.string=o.default.formatNumber(this.coin);let s=cc.instantiate(this.itemTemplate);s.parent=this.itemTemplate.parent,s.getChildByName("lblNickname").getComponent(cc.Label).string=e,s.getChildByName("lblCoin").getComponent(cc.Label).string=o.default.formatNumber(t),s.active=!0}getCoin(){return this.coin}updateValue(){this.coin=this.minCoin+Math.round((this.maxCoin-this.minCoin)*this.slider.progress),this.lblCoin.string=o.default.formatNumber(this.coin)}};s([c(cc.Label)],r.prototype,"title1",void 0),s([c(cc.Label)],r.prototype,"title2",void 0),s([c(cc.Node)],r.prototype,"itemTemplate",void 0),s([c(cc.Slider)],r.prototype,"slider",void 0),s([c(cc.Label)],r.prototype,"lblCoin",void 0),r=s([a],r),i.default=r,cc._RF.pop()},{"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Utils":void 0}],"XocDia.Player":[function(e,t,i){"use strict";cc._RF.push(t,"b9c872R6XBD36zyQzVSxuur","XocDia.Player");var s=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/App"),o=e("../../Main/Game/src/common/Utils"),{ccclass:a,property:c}=cc._decorator;let r=class extends cc.Component{constructor(){super(...arguments),this.chatEmotion=null,this.chatMsg=null,this.lblNickname=null,this.lblCoin=null,this.sprAvatar=null,this.winCoin=null,this.refundCoin=null,this.chipsPoint=null,this.chipsPoint2=null,this.banker=null,this.maskNickname=null,this.maskCoin=null,this.nickname="",this.avatar="",this.timeoutChat=null}start(){this.lblNickname.node.on("size-changed",()=>{if(cc.Tween.stopAllByTarget(this.lblNickname.node),this.lblNickname.node.setPosition(0===this.lblNickname.node.anchorX?-this.maskNickname.width/2:0,this.lblNickname.node.y),this.lblNickname.node.width>this.maskNickname.width){let e=-(this.lblNickname.node.width-this.maskNickname.width)/2,t=-e;0===this.lblNickname.node.anchorX&&(t=(e=-this.maskNickname.width/2)-(this.lblNickname.node.width-this.maskNickname.width)),e-=10,t+=10;const i=Math.round((t-e)/50);cc.tween(this.lblNickname.node).repeatForever(cc.tween().to(i,{position:cc.v3(e)}).delay(2).to(i,{position:cc.v3(t)}).delay(2)).start()}}),this.lblCoin.node.on("size-changed",()=>{if(cc.Tween.stopAllByTarget(this.lblCoin.node),this.lblCoin.node.setPosition(0===this.lblCoin.node.anchorX?-this.maskCoin.width/2:0,this.lblCoin.node.y),this.lblCoin.node.width>this.maskCoin.width){let e=-(this.lblCoin.node.width-this.maskCoin.width)/2,t=-e;0===this.lblCoin.node.anchorX&&(t=(e=-this.maskCoin.width/2)-(this.lblCoin.node.width-this.maskCoin.width)),e-=10,t+=10;const i=Math.ceil((t-e)/50);cc.tween(this.lblCoin.node).repeatForever(cc.tween().to(i,{position:cc.v3(e)}).delay(2).to(i,{position:cc.v3(t)}).delay(2)).start()}})}leave(){this.nickname="",this.winCoin.active=!1,this.refundCoin.active=!1,this.banker.active=!1,this.unscheduleAllCallbacks()}set(e,t,i,s){this.nickname=e,this.lblNickname.string=e,this.sprAvatar.spriteFrame=n.default.instance.getAvatarSpriteFrame(t),this.setCoin(i),this.banker.active=s}setCoin(e){this.lblCoin.string=o.default.formatNumber(e)}showWinCoin(e){this.winCoin.active=!0,this.winCoin.getComponentInChildren(cc.Label).string=(e>=0?"+":"")+o.default.formatNumber(e),this.scheduleOnce(()=>{this.winCoin.active=!1},4)}showRefundCoin(e){this.refundCoin.active=!0,this.refundCoin.getComponentInChildren(cc.Label).string=(e>=0?"+":"")+o.default.formatNumber(e),this.scheduleOnce(()=>{this.refundCoin.active=!1},4)}showChatEmotion(e){this.chatEmotion.active=!0,this.chatMsg.active=!1,this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0,e,!0),this.unschedule(this.timeoutChat),this.timeoutChat=()=>{this.chatEmotion.active=!1,this.chatMsg.active=!1},this.scheduleOnce(this.timeoutChat,3)}showChatMsg(e){this.chatEmotion.active=!1,this.chatMsg.active=!0,this.chatMsg.children[1].getComponent(cc.Label).string=e,this.unschedule(this.timeoutChat),this.timeoutChat=()=>{this.chatEmotion.active=!1,this.chatMsg.active=!1},this.scheduleOnce(this.timeoutChat,3)}};s([c(cc.Node)],r.prototype,"chatEmotion",void 0),s([c(cc.Node)],r.prototype,"chatMsg",void 0),s([c(cc.Label)],r.prototype,"lblNickname",void 0),s([c(cc.Label)],r.prototype,"lblCoin",void 0),s([c(cc.Sprite)],r.prototype,"sprAvatar",void 0),s([c(cc.Node)],r.prototype,"winCoin",void 0),s([c(cc.Node)],r.prototype,"refundCoin",void 0),s([c(cc.Node)],r.prototype,"chipsPoint",void 0),s([c(cc.Node)],r.prototype,"chipsPoint2",void 0),s([c(cc.Node)],r.prototype,"banker",void 0),s([c(cc.Node)],r.prototype,"maskNickname",void 0),s([c(cc.Node)],r.prototype,"maskCoin",void 0),r=s([a],r),i.default=r,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Utils":void 0}],"XocDia.PopupGuide":[function(e,t,i){"use strict";cc._RF.push(t,"0e7066GdFNCOrY7oLet0dRH","XocDia.PopupGuide");var s,n=this&&this.__decorate||function(e,t,i,s){var n,o=arguments.length,a=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(o<3?n(a):o>3?n(t,i,a):n(t,i))||a);return o>3&&a&&Object.defineProperty(t,i,a),a};Object.defineProperty(i,"__esModule",{value:!0});const o=e("../../Main/Game/src/common/App"),a=e("../../Main/Game/src/common/Configs"),c=e("../../Main/Game/src/common/Dialog"),{ccclass:r,property:l}=cc._decorator;let h=s=class extends c.default{constructor(){super(...arguments),this.scrollPopupGuide=null}static createAndShow(e){null==this.instance||null==this.instance.node?o.default.instance.loadPrefabInBundle(a.default.App.BUNDLE_NAME.XOCDIA,a.default.App.UPDATE_INFO[a.default.App.BUNDLE_NAME.XOCDIA],!0,"res/prefabs/XocDiaPopupGuide",(t,i)=>{if(null!=t)return void o.default.instance.alertDialog.showMsg(t);let n=cc.instantiate(i);n.parent=e,this.instance=n.getComponent(s),this.instance.show()}):this.instance.show()}show(){let e=this.scrollPopupGuide.content.getComponentsInChildren(cc.Label);e[0].string="GI\u1edaI THI\u1ec6U:",e[1].string="- X\xf3c \u0111\u0129a l\xe0 tr\xf2 ch\u01a1i c\xf3 ngu\u1ed3n g\u1ed1c d\xe2n gian t\u1eeb l\xe2u \u0111\u1eddi, \u0111\u01b0\u1ee3c ch\xfang t\xf4i tri\u1ec3n khai cho t\u1ea5t c\u1ea3 th\u1ecb tr\u01b0\u1eddng tr\xean th\u1ebf gi\u1edbi. Tr\xf2 ch\u01a1i c\xf3 lu\u1eadt ch\u01a1i r\u1ea5t \u0111\u01a1n gi\u1ea3n, ch\u1ec9 g\u1ed3m 1 b\xe1t \xfap, 1 \u0111\u0129a v\xe0 4 \u0111\u1ed3ng xu. Trong \u0111\xf3, 4 \u0111\u1ed3ng xu \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf 2 m\u1eb7t \u0111\u1ecf v\xe0 xanh.\n- Qu\xfd kh\xe1ch ch\u1ec9 c\u1ea7n \u0111\u1eb7t c\u01b0\u1ee3c v\xe0o c\xe1c l\u1ef1a ch\u1ecdn(c\u1eeda) c\xf3 s\u1eb5n. K\u1ebft qu\u1ea3 th\u1eafng thua s\u1ebd ph\u1ee5 thu\u1ed9c v\xe0o s\u1ed1 m\u1eb7t \u0111\u1ecf ho\u1eb7c xanh \u0111\u01b0\u1ee3c l\u1eadt c\u1ee7a c\xe1c \u0111\u1ed3ng xu sau khi x\xf3c.\n\n",e[2].string="C\xc1CH CH\u01a0I:",e[3].string=" - Qu\xfd kh\xe1ch ch\u1ecdn m\u1ec7nh gi\xe1 v\xe0 nh\u1ea5p v\xe0o l\u1ef1a ch\u1ecdn mu\u1ed1n \u0111\u1eb7t c\u01b0\u1ee3c tr\u01b0\u1edbc khi b\xe1t \u0111\u01b0\u1ee3c m\u1edf. N\u1ebfu k\u1ebft qu\u1ea3 m\u1edf ra tr\xf9ng v\u1edbi l\u1ef1a ch\u1ecdn, qu\xfd kh\xe1ch s\u1ebd th\u1eafng v\xe0 ng\u01b0\u1ee3c l\u1ea1i s\u1ebd thua to\xe0n b\u1ed9 ti\u1ec1n c\u01b0\u1ee3c n\xeau l\u1ef1a ch\u1ecdn sai.\n- Qu\xfd kh\xe1ch c\xf3 th\u1ec3 \u0111\u1eb7t c\u01b0\u1ee3c v\xe0o nhi\u1ec1u l\u1ef1a ch\u1ecdn c\xf9ng l\xfac v\xe0 kh\xf4ng b\u1ecb gi\u1edbi h\u1ea1n s\u1ed1 l\u1ea7n \u0111\u1eb7t c\u01b0\u1ee3c c\u0169ng nh\u01b0 s\u1ed1 ti\u1ec1n \u0111\u1eb7t c\u01b0\u1ee3c. L\u01b0u \xfd: Kh\xf4ng th\u1ec3 hu\u1ef7 c\u01b0\u1ee3c sau khi \u0111\u1eb7t.\n- Xu s\u1ebd \u0111\u01b0\u1ee3c x\xf3c v\xe0 k\u1ebft qu\u1ea3 c\u1eeda th\u1eafng s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb khi h\u1ebft th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c. Th\u1eddi gian \u0111\u1eb7t c\u01b0\u1ee3c cho m\u1ed7i phi\xean s\u1ebd \u0111\u01b0\u1ee3c hi\u1ec3n th\u1ecb \u0111\u1ebfm ng\u01b0\u1ee3c tr\xean b\xe0n ch\u01a1i.\n",e[4].string="TR\u1ea2 TH\u01af\u1edeNG:",e[5].string="- H\u1ec7 th\u1ed1ng s\u1ebd tr\u1ea3 th\u01b0\u1edfng ngay khi c\xf3 k\u1ebft qu\u1ea3.\n- Ti\u1ec1n tr\u1ea3 th\u01b0\u1edfng \u0111\xe3 bao g\u1ed3m ti\u1ec1n c\u01b0\u1ee3c.\n\n",e[6].string="QUY \u0110\u1ecaNH:",e[7].string="- Nh\xe0 ph\xe1t h\xe0nh c\xf3 quy\u1ec1n hu\u1ef7 ho\u1eb7c l\xe0m m\u1ea5t hi\u1ec7u l\u1ef1c \u0111\u1ed1i v\u1edbi m\u1ecdi l\u01b0\u1ee3t c\u01b0\u1ee3c trong c\xe1c tr\u01b0\u1eddng h\u1ee3p sau:\n    + H\u1ec7 th\u1ed1ng x\u1ea3y ra l\u1ed7i k\u1ef9 thu\u1eadt bao g\u1ed3m c\xe1c l\u1ed7i v\u1ec1 ph\u1ea7n m\u1ec1m, ph\u1ea7n c\u1ee9ng ho\u1eb7c m\u1ea1ng k\u1ebft n\u1ed1i.\n    + C\xf3 s\u1ef1 c\u1ed1 \u0111\u1ed9t xu\u1ea5t d\u1eabn \u0111\u1ebfn vi\u1ec7c s\u1eed d\u1ee5ng sai t\u1ef7 l\u1ec7 tr\u1ea3 th\u01b0\u1edfng.\n    + Kh\xe1ch h\xe0ng c\xf3 bi\u1ec3u hi\u1ec7n gian l\u1eadn, l\u1eeba \u0111\u1ea3o, r\u1eeda ti\u1ec1n hay c\xe1c ho\u1ea1t \u0111\u1ed9ng b\u1ea5t h\u1ee3p ph\xe1p kh\xe1c.\n- T\u1ea5t c\u1ea3 c\xe1c l\u01b0\u1ee3t c\u01b0\u1ee3c v\xe0o c\xe1c phi\xean c\u01b0\u1ee3c \u0111\u01b0\u1ee3c ch\u1ea5p nh\u1eadn v\u1eabn s\u1ebd c\xf3 hi\u1ec7u l\u1ef1c ngay c\u1ea3 sau khi th\xe0nh vi\xean \u0111\u0103ng xu\u1ea5t ho\u1eb7c b\u1ecb ng\u1eaft k\u1ebft n\u1ed1i kh\u1ecfi h\u1ec7 th\u1ed1ng game v\xec b\u1ea5t k\u1ef3 l\xfd do g\xec.\n",super.show(),this.scrollPopupGuide.scrollToTop(0)}};h.instance=null,n([l(cc.ScrollView)],h.prototype,"scrollPopupGuide",void 0),h=s=n([r],h),i.default=h,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0}]},{},["XocDia.BankerControl","XocDia.BtnBet","XocDia.BtnPayBet","XocDia.Cmd","XocDia.Constant","XocDia.Controller","XocDia.HidePlayer","XocDia.NetworkClient","XocDia.PanelChat","XocDia.PanelPayDoor","XocDia.Player","XocDia.PopupGuide"]);