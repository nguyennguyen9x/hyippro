window.__require=function e(t,s,a){function i(r,o){if(!s[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!o&&l)return l(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var h=s[r]={exports:{}};t[r][0].call(h.exports,function(e){return i(t[r][1][e]||e)},h,h.exports,e,t,s,a)}return s[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<a.length;r++)i(a[r]);return i}({"Sam.CardGroup":[function(e,t,s){"use strict";var a;cc._RF.push(t,"9d25d26ZWdLOqmR0BFbWkdw","Sam.CardGroup"),Object.defineProperty(s,"__esModule",{value:!0}),s.SamCardGroup=s.SamCardDTO=void 0,function(e){e[e.MOT_LA=0]="MOT_LA",e[e.MOT_DOI=1]="MOT_DOI",e[e.SAM_CO=2]="SAM_CO",e[e.SANH=3]="SANH",e[e.TU_QUY=4]="TU_QUY",e[e.HAI_TU_QUY=5]="HAI_TU_QUY",e[e.BA_DOI_THONG=6]="BA_DOI_THONG",e[e.BON_DOI_THONG=7]="BON_DOI_THONG",e[e.NAM_DOI_THONG=8]="NAM_DOI_THONG",e[e.SAU_DOI_THUONG=9]="SAU_DOI_THUONG",e[e.SAU_DOI_THONG=10]="SAU_DOI_THONG",e[e.SANH_RONG=11]="SANH_RONG",e[e.HAI_DOI_THONG=12]="HAI_DOI_THONG"}(a||(a={}));class i{constructor(e){for(this.id=e,this.suit=e+1;this.suit>4;)this.suit-=4;this.number=(e+1-this.suit)/4+3,this.number>13&&(this.number-=13)}static fromCardId(e){return new i(e)}get isHeo(){return 2==this.number}equals(e){return e&&this.number===e.number&&this.suit===e.suit}isSameNumber(e){return e&&this.number===e.number}isSameSuit(e){return e&&this.suit===e.suit}static nextStraightNumber(e){return 2===e?-1:(13===e?1:e)+1}}s.SamCardDTO=i;class n{constructor(e){this.cards=null,this.cardsByNumbers=null,this.cards=n.sortCards(e),this.cardsByNumbers=new Map,e.forEach(e=>{void 0===this.cardsByNumbers.get(e.number)&&this.cardsByNumbers.set(e.number,[]),this.cardsByNumbers.get(e.number).push(e)})}getOrderedBySuit(){var e=new Map(this.cardsByNumbers),t=[];for(var[s,a]of e)4==a.length&&(t=t.concat(a),e.delete(s));for(var[s,a]of e)if(a.length>=2){var i=n.getNextKey(s);if(e.get(i)&&e.get(i).length>=2){var r=n.getNextKey(i);if(e.get(r)&&e.get(r).length>=2){t=t.concat([a.shift(),a.shift()]),a.length<=0&&e.delete(s);var o=e.get(i);t=t.concat([o.shift(),o.shift()]),o.length<=0&&e.delete(i);var c=e.get(r);t=t.concat([c.shift(),c.shift()]),c.length<=0&&e.delete(r);var l=n.getNextKey(r);if(e.get(l)&&e.get(l).length>=2){var h=e.get(l);t=t.concat([h.shift(),h.shift()]),h.length<=0&&e.delete(l)}break}}}for(var[s,a]of e)3==a.length&&(t=t.concat(a),e.delete(s));do{var d=n.getFirstSequenceSuit([...e.keys()],3);d&&d.forEach(function(s){t=t.concat([e.get(s).shift()]),e.get(s).length<=0&&e.delete(s)})}while(d);for(var[s,a]of e)2==a.length&&(t=t.concat(a),e.delete(s));for(var[s,a]of e)t=t.concat(a),e.delete(s);return t}getCardGroupType(){var e=new Map(this.cardsByNumbers),t=e.size,s=[...e.keys()];switch(t){case 1:return 1==e.get(s[0]).length?a.MOT_LA:2==e.get(s[0]).length?a.MOT_DOI:3==e.get(s[0]).length?a.SAM_CO:a.TU_QUY;case 2:return a.HAI_TU_QUY;case 3:return 1==e.get(s[0]).length?a.SANH:a.BA_DOI_THONG;case 4:return 1==e.get(s[0]).length?a.SANH:a.BON_DOI_THONG;default:return a.SANH}}detectSuggestionBySelectedCards(e,t,s=!1){let a;if(s){if((a=this.get_TU_QUY([],e)).length>0)return a;if((a=this.get_BON_DOI_THONG([],e)).length>0)return a;if((a=this.get_BA_DOI_THONG([],e)).length>0)return a}else{if((a=this.get_BON_DOI_THONG([],e)).length>0)return a;if((a=this.get_BA_DOI_THONG([],e)).length>0)return a;if((a=this.get_TU_QUY([],e)).length>0)return a;if((a=this.getSequenceSuitBySelectedCards(t,e)).length>0)return a;if((a=this.get_SAM_CO([],e)).length>0)return a}return a}detectSuggestionByCurrentTurnCards(e,t){const s=new n(e).getCardGroupType(),i=n.getMaxCardOfCards(e),r=new Map(this.cardsByNumbers);let o=new Array;switch(s){case a.MOT_LA:for(var c=0;c<this.cards.length;c++)n.point(this.cards[c])>n.point(i)&&o.push([this.cards[c]]);break;case a.MOT_DOI:for(var[l,h]of r)if(1!=h.length&&h.length>=2)for(c=0;c<h.length;c++)n.point(h[c])>n.point(i)&&o.push([h.shift(),h.shift()]);break;case a.SAM_CO:for(var[l,h]of r)h.length<3||l>i.number&&o.push([h.shift(),h.shift(),h.shift()]);break;case a.TU_QUY:if((o=this.get_BON_DOI_THONG(e)).length>0)return o;o=this.get_TU_QUY(e);break;case a.HAI_TU_QUY:o=this.get_TU_QUY(e);break;case a.BA_DOI_THONG:if((o=this.get_BON_DOI_THONG(e)).length>0)return o;if((o=this.get_TU_QUY(e)).length>0)return o;o=this.get_BA_DOI_THONG(e);break;case a.BON_DOI_THONG:for(var[l,h]of r)if(h.length>=2){var d=n.getNextKey(l);if(r.get(d)&&r.get(d).length>=2){var u=n.getNextKey(d);if(r.get(u)&&r.get(u).length>=2){var m=n.getNextKey(u);if(r.get(m)&&r.get(m).length>=2){var f=[h.shift(),h.shift()],g=r.get(d);f=f.concat([g.shift(),g.shift()]);var p=r.get(u);f=f.concat([p.shift(),p.shift()]);var C=r.get(m);f=f.concat([C.shift(),C.shift()]);var S=n.getMaxCardOfCards(f);n.point(S)>n.point(i)&&o.push(f)}break}}}break;case a.SANH:o=this.getSequenceSuitByCurrentTurnCards(e,t)}return o}getSequenceSuitByCurrentTurnCards(e,t){let s=[...this.cardsByNumbers.keys()].sort((e,t)=>(1==e?14:e)-(1==t?14:t)),a=[],n=[];return s.forEach((r,o)=>{const c=14==r?1:r,l=this.cardsByNumbers.get(c);if(l&&!l[0].isHeo)if(n.push(l),o+1<s.length&&this.cardsByNumbers.get(i.nextStraightNumber(c)));else{if(n.length>=e.length&&n.find(e=>e.find(e=>e.equals(t))))for(let s=0;s<=n.length-e.length;s++){let i=[];for(let a=s;a<s+e.length;a++){const e=n[a][0];i.push(e.isSameNumber(t)?t:e)}a.push(i)}n=[]}else{if(n.length>=e.length&&n.find(e=>e.find(e=>e.equals(t))))for(let s=0;s<=n.length-e.length;s++){let i=[];for(let a=s;a<s+e.length;a++){const e=n[a][0];i.push(e.isSameNumber(t)?t:e)}a.push(i)}n=[]}}),a}getSequenceSuitBySelectedCards(e,t){if(t.length<2)return[];let s=[...this.cardsByNumbers.keys()].sort((e,t)=>(1==e?14:e)-(1==t?14:t)),a=[],n=[];return s.forEach((r,o)=>{const c=14==r?1:r,l=this.cardsByNumbers.get(c);if(l&&!l[0].isHeo)if(n.push(l),o+1<s.length&&this.cardsByNumbers.get(i.nextStraightNumber(c)));else{if(n.length>=3&&n.find(t=>t.find(t=>t.equals(e)))){let s=[];for(let a=0;a<n.length;a++){const i=n[a][0];if(i.isSameNumber(e))s.push(e);else{const e=t.find(e=>e.isSameNumber(i));s.push(e||i)}}t.filter(e=>s.find(t=>e.equals(t))).length>=2&&a.push(s)}n=[]}else{if(n.length>=3&&n.find(t=>t.find(t=>t.equals(e)))){let s=[];for(let a=0;a<n.length;a++){const i=n[a][0];if(i.isSameNumber(e))s.push(e);else{const e=t.find(e=>e.isSameNumber(i));s.push(e||i)}}t.filter(e=>s.find(t=>e.equals(t))).length>=2&&a.push(s)}n=[]}}),a}get_BA_DOI_THONG(e,t=null){if(e.length>0){let e=new Array,t=new Array,i=new Array,r=new Array;for(var[s,a]of new Map(this.cardsByNumbers))e.push({card:s,value:a});for(let s=0;s<e.length;s++)s+1<e.length&&n.cardRank(e[s].number)==n.cardRank(e[s+1].number)-1&&e[s].value.length>=2&&e[s+1].value.length>=2?i.push(e[s]):(e[s].value.length>=2&&i.push(e[s]),i.length>=3&&t.push(i),i=new Array);for(let s=0;s<t.length;s++)for(let e=0;e<t[s].length-2;e++){let a=new Array;for(let i=e;i<e+3;i++)for(let e=0;e<2;e++)a.push(t[s][i].value[e]);r.push(a)}return r}{let e=new Array;if(t.length>=2){let i=new Array,r=new Array,o=new Array;for(var[s,a]of new Map(this.cardsByNumbers))i.push({card:s,value:a});for(let e=0;e<i.length;e++)e+1<i.length&&n.cardRank(i[e].number)==n.cardRank(i[e+1].number)-1&&i[e].value.length>=2&&i[e+1].value.length>=2?o.push(i[e]):(i[e].value.length>=2&&o.push(i[e]),o.length>=3&&r.push(o),o=new Array);for(let s=0;s<r.length;s++)for(let a=0;a<r[s].length-2;a++){let i=new Array;for(let e=a;e<a+3;e++)for(let t=0;t<2;t++)i.push(r[s][e].value[t]);if(t.filter(e=>i.findIndex(t=>e.equals(t))>=0).length>=2)return e.push(i),e}}return e}}get_BON_DOI_THONG(e,t=null){if(e.length>0){let e=new Array,t=new Array,i=new Array,r=new Array;for(var[s,a]of new Map(this.cardsByNumbers))e.push({number:s,value:a});for(let s=0;s<e.length;s++)s+1<e.length&&n.cardRank(e[s].number)==n.cardRank(e[s+1].number)-1&&e[s].value.length>=2&&e[s+1].value.length>=2?i.push(e[s]):(e[s].value.length>=2&&i.push(e[s]),i.length>=3&&t.push(i),i=new Array);for(let s=0;s<t.length;s++)for(let e=0;e<t[s].length-3;e++){let a=new Array;for(let i=e;i<e+4;i++)for(let e=0;e<2;e++)a.push(t[s][i].value[e]);r.push(a)}return r}{let e=new Array;if(t.length>=2){let i=new Array,r=new Array,o=new Array;for(var[s,a]of new Map(this.cardsByNumbers))i.push({number:s,value:a});for(let e=0;e<i.length;e++)e+1<i.length&&n.cardRank(i[e].number)==n.cardRank(i[e+1].number)-1&&i[e].value.length>=2&&i[e+1].value.length>=2?o.push(i[e]):(i[e].value.length>=2&&o.push(i[e]),o.length>=3&&r.push(o),o=new Array);for(let s=0;s<r.length;s++)for(let a=0;a<r[s].length-3;a++){let i=new Array;for(let e=a;e<a+4;e++)for(let t=0;t<2;t++)i.push(r[s][e].value[t]);if(t.filter(e=>i.findIndex(t=>e.equals(t))>=0).length>=2)return e.push(i),e}}return e}}get_TU_QUY(e,t=null){if(e.length>0){let e=new Array;for(var[s,a]of new Map(this.cardsByNumbers))4==a.length&&e.push(a);return e}{let e=new Array;if(t.length>=2)for(var[s,a]of new Map(this.cardsByNumbers))if(4==a.length&&t.filter(e=>a.findIndex(t=>e.equals(t))>=0).length>=2)return e.push(a),e;return e}}get_SAM_CO(e,t=null){let s=new Array;if(t.length>=2)for(var[a,i]of new Map(this.cardsByNumbers)){let e=new Array;if(!(i.length<3)&&a>2)return e=[i.shift(),i.shift(),i.shift()],t.filter(t=>e.findIndex(e=>t.equals(e))>=0).length>=2&&s.push(e),s}return s}static getMaxCardOfCards(e){return n.sortCards(e)[e.length-1]}static getNextKey(e){return 13==e?1:e+1}static subCards(e,t){return e.filter(function(e){var s=!1;return t.forEach(function(t){e.number!=t.number||e.suit!=t.suit||(s=!0)}),!s})}static sortSuits(e){e.sort(function(e,t){return(e+10)%13-(t+10)%13})}static sortCards(e){return e.sort(function(e,t){return n.point(e)-n.point(t)})}static point(e){return(e.number+10)%13*4+e.suit}static getFirstSequenceSuit(e,t){if(!e)return null;if(t<=1||t>e.length)return null;var s=[...e];n.sortSuits(s);var a=[];do{var i=s.shift();if(2==i)break;if(a.length>0&&(1!=i&&i-a[a.length-1]>1||1==i&&13!=a[a.length-1])){if(a.length>=t)return a;a=[]}a.push(i)}while(0!=s.length);return a.length>=t?a:null}static getFirstSequenceSuitBySize(e,t,s){if(!e)return null;if(t<=1||t>e.length)return null;var a=[...e.keys()];n.sortSuits(a);for(var i=[],r=0;r<a.length-1;r++){var o=a[r],c=a[r+1];if(1==o){var l=e.get(o);for(let e=0;e<l.length;e++)n.point(l[e])>n.point(s)&&i.push(l[e])}if(o<s.number-t)e.delete(o);else{if(2==o||2==c)break;if(i.length==t-1){l=e.get(o);for(let e=0;e<l.length;e++)n.point(l[e])>n.point(s)&&i.push(l[e]);return e.delete(a.shift()),n.getFirstSequenceSuitBySize(e,t,s)}c-o==1||1==c&&13==o?(l=e.get(o),i.push(l[0])):(e.delete(a.shift()),i.push(n.getFirstSequenceSuitBySize(e,t,s)))}}return i.length==t?i:null}static cardRank(e){return(e+10)%13}static indexsToCards(e){let t=[];return e.forEach(e=>{t.push(i.fromCardId(e))}),t}static cardsToIndexs(e){let t=[];return e.forEach(e=>{t.push(n.cardToIndex(e))}),t}static cardToIndex(e){return(e.number+10)%13*4+e.suit-1}}s.SamCardGroup=n,cc._RF.pop()},{}],"Sam.Card":[function(e,t,s){"use strict";cc._RF.push(t,"51050MrC/lLpo88CElLQ3S9","Sam.Card");var a=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const i=e("./Sam.InGame"),{ccclass:n,property:r}=cc._decorator;let o=class extends cc.Component{constructor(){super(...arguments),this.spr=null,this.posY=0,this.offsetY=20,this.isSelected=!1,this.callback=null,this.cardDTO=null,this.moveAction=null}start(){this.posY=this.node.y}onSelect(){this.node.y+=this.isSelected?0:this.offsetY,this.isSelected=!this.isSelected,this.isSelected&&this.callback&&this.callback(this.cardDTO)}setCardData(e,t=null){this.cardDTO=e,this.spr.spriteFrame=i.default.getInstance().getCardFrame(e.id),this.callback=t}getCardDTO(){return this.cardDTO}select(){this.node.y=this.posY+this.offsetY,this.isSelected=!0}deSelect(){this.node.y=this.posY,this.isSelected=!1}moveCard(e,t){null!=this.moveAction&&this.node.stopAction(this.moveAction),this.moveAction=cc.moveTo(e,t).easing(cc.easeCubicActionOut()),this.node.runAction(this.moveAction)}isSelect(){return this.isSelected}setCardFrame(e){this.spr.spriteFrame=i.default.getInstance().getCardFrame(e)}};a([r(cc.Sprite)],o.prototype,"spr",void 0),o=a([n],o),s.default=o,cc._RF.pop()},{"./Sam.InGame":"Sam.InGame"}],"Sam.Cmd":[function(e,t,s){"use strict";cc._RF.push(t,"48adf0y0pJCGYJv4tEI3Jsv","Sam.Cmd"),Object.defineProperty(s,"__esModule",{value:!0}),s.SamCmd=void 0;const a=e("../../Main/Game/src/networks/Network.OutPacket"),i=e("../../Main/Game/src/networks/Network.InPacket"),n=e("./Sam.CardGroup"),r=e("./Sam.InGame"),{ccclass:o}=cc._decorator;var c;(function(e){class t{}t.LOGIN=1,t.NOTIFY_DISCONNECT=37,t.PING_PONG=50,t.JOIN_ROOM=3001,t.MONEY_BET_CONFIG=3003,t.JOIN_ROOM_FAIL=3004,t.QUICK_ROOM_SUCCEED=3006,t.CHAT_ROOM=3008,t.JOIN_GAME_ROOM_BY_ID=3015,t.QUYET_DINH_SAM=3100,t.DANH_BAI=3101,t.START_GAME=3102,t.END_GAME=3103,t.CHIA_BAI=3105,t.BO_LUOT=3106,t.AUTO_START=3107,t.FIRST_TURN=3108,t.BAO_SAM=3109,t.UPDATE_GAME_INFO=3110,t.REQUEST_LEAVE_ROOM=3111,t.CHANGE_TURN=3112,t.CHAT_CHONG=3113,t.HUY_BAO_SAM=3114,t.CHEAT_CARDS=3115,t.HOLD=3116,t.JOIN_ROOM_SUCCESS=3118,t.USER_LEAVE_ROOM=3119,t.NOTIFY_KICK_OFF=3120,t.USER_JOIN_ROOM=3121,t.UPDATE_MATCH=3123,t.WAIT_4_DOI_THONG=3124,t.CARDS_DEFINE=3999,e.Code=t,e.SendTest=class extends a.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(0),this.packHeader(),this.putString(e),this.putInt(111),this.putLong(2147483647),this.putLong(325),this.putLong(8686),this.updateSize()}},e.SendLogin=class extends a.default{constructor(e,s){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.LOGIN),this.packHeader(),this.putString(e),this.putString(s),this.updateSize()}},e.SendMoneyBetConfig=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.MONEY_BET_CONFIG),this.packHeader(),this.updateSize()}},e.SendJoinRoom=class extends a.default{constructor(e,s,a,i){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.JOIN_ROOM),this.packHeader(),this.putInt(e),this.putInt(s),this.putLong(a),this.putInt(i),this.updateSize()}},e.SendJoinRoomById=class extends a.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.JOIN_GAME_ROOM_BY_ID),this.packHeader(),this.putInt(e),this.putString(""),this.updateSize()}},e.SendReconnectRoom=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.RECONNECT_GAME_ROOM),this.packHeader(),this.updateSize()}},e.SendReadyAutoStart=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(3124),this.packHeader(),this.updateSize()}},e.SendStartGame=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.START_GAME),this.packHeader(),this.updateSize()}},e.SendPing=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(0),this.setCmdId(t.PING_PONG),this.packHeader(),this.updateSize()}},e.SendDanhBai=class extends a.default{constructor(e,s){if(super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.DANH_BAI),this.packHeader(),this.putByte(e),!e){this.putShort(s.length);for(let e=0;e<s.length;e++)this.putByte(s[e])}this.updateSize()}},e.SendBoLuot=class extends a.default{constructor(e){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.DANH_BAI),this.packHeader(),this.putByte(e),this.updateSize()}},e.SendRequestLeaveGame=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.REQUEST_LEAVE_ROOM),this.packHeader(),this.updateSize()}},e.SendBaoSam=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.BAO_SAM),this.packHeader(),this.updateSize()}},e.SendHuyBaoSam=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.HUY_BAO_SAM),this.packHeader(),this.updateSize()}},e.SendChatRoom=class extends a.default{constructor(e,s){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.CHAT_ROOM),this.packHeader(),this.putByte(e?1:0),this.putString(encodeURI(s)),this.updateSize()}},e.SendCheatCards=class extends a.default{constructor(e,s){if(super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.CHEAT_CARDS),this.packHeader(),this.putByte(e),this.putByte(0),this.putShort(s.length),e)for(var a=0;a<s.length;a++)this.putByte(s[a]);this.updateSize()}},e.SendCardDefinations=class extends a.default{constructor(){super(),this.initData(100),this.setControllerId(1),this.setCmdId(t.CARDS_DEFINE),this.packHeader(),this.updateSize()}},e.ReceivedMoneyBetConfig=class extends i.default{constructor(e){super(e),this.list=[],this.rules=[];let t=this.getShort();for(var s=0;s<t;s++){var a={maxUserPerRoom:this.getInt(),moneyType:this.getByte(),moneyBet:this.getLong(),moneyRequire:this.getLong(),nPersion:this.getInt()};this.list.push(a)}for(s=0;s<t;s++)this.rules.push(this.getByte())}},e.ReceivedJoinRoomFail=class extends i.default{constructor(e){super(e),this.error=0,this.error=this.getError()}},e.ReceivedJoinRoomSuccess=class extends i.default{constructor(e){super(e),this.myChair=0,this.moneyBet=0,this.roomOwner=0,this.roomId=0,this.matchId=0,this.moneyType=0,this.playerSize=0,this.playerInfos=[],this.gameAction=0,this.playerHandCardSize=[],this.currentChair=0,this.countDownTime=0,this.myChair=this.getByte(),this.moneyBet=this.getLong(),this.roomOwner=this.getByte(),this.roomId=this.getInt(),this.matchId=this.getInt(),this.moneyType=this.getByte(),this.playerSize=this.getShort();let t=[];for(let a=0;a<this.playerSize;a++)t.push(this.getByte());this.playerSize=this.getShort(),this.playerInfos=[];for(let a=0;a<this.playerSize;a++){let e=new r.SamSlotInfo;e.avatar=this.getString(),e.nickName=this.getString(),e.money=this.getLong(),e.uID=0,e.cardSize=0,e.playerStatus=t[a],this.playerInfos.push(e)}this.gameAction=this.getByte();let s=this.getShort();this.playerHandCardSize=[];for(let a=0;a<s;a++){let e=this.getByte();cc.isValid(this.playerInfos[a])&&(this.playerInfos[a].cardSize=e)}this.currentChair=this.getByte(),this.countDownTime=this.getByte()}},e.ReceivedDisconnect=class extends i.default{constructor(e){super(e)}},e.ReceivedUpdateGameInfo=class extends i.default{constructor(e){super(e),this.maxPlayer=0,this.myChair=0,this.playerCards=[],this.baoSam=!1,this.boLuot=!1,this.toiTrang=0,this.newRound=!1,this.gameServerState=0,this.gameAction=0,this.activeTimeRemain=0,this.currentChair=0,this.recentCards=[],this.moneyType=0,this.moneyBet=0,this.matchId=0,this.roomId=0,this.hasInfoList=[],this.playerInfos=[],this.maxPlayer=this.getByte(),this.myChair=this.getByte();for(var t=this.getShort(),s=0;s<t;s++)this.playerCards.push(n.SamCardDTO.fromCardId(this.getByte()));for(this.baoSam=this.getBool(),this.boLuot=this.getBool(),this.toiTrang=this.getInt(),this.newRound=this.getBool(),this.gameServerState=this.getByte(),this.gameAction=this.getByte(),this.activeTimeRemain=this.getByte(),this.currentChair=this.getByte(),t=this.getShort(),s=0;s<t;s++)this.recentCards.push(n.SamCardDTO.fromCardId(this.getByte()));this.moneyType=this.getByte(),this.moneyBet=this.getLong(),this.matchId=this.getInt(),this.roomId=this.getInt(),t=this.getShort();for(let a=0;a<t;a++)this.hasInfoList.push(this.getBool());for(let a=0;a<t;a++){let e=new r.SamSlotInfo;if(this.hasInfoList[a]){let t=this.getByte(),s=this.getBool(),a=this.getBool(),i=this.getByte(),n=this.getString(),r=this.getInt(),o=this.getString(),c=this.getLong();e.cardSize=t,e.baoSam=s,e.huyBaoSam=a,e.avatar=n,e.uID=r,e.nickName=o,e.money=c,e.playerStatus=i}this.playerInfos.push(e)}}},e.ReceivedAutoStart=class extends i.default{constructor(e){super(e),this.isAutoStart=!1,this.autoStartTime=0,this.isAutoStart=this.getBool(),this.autoStartTime=this.getByte()}},e.ReceivedChiaBai=class extends i.default{constructor(e){super(e),this.cardSize=0,this.cards=[],this.toiTrang=0,this.timeBaoSam=0,this.matchId=0,this.playerSize=0,this.playerStatus=[];var t=0;for(this.cardSize=this.getShort(),t=0;t<this.cardSize;t++)this.cards.push(n.SamCardDTO.fromCardId(this.getByte()));for(this.toiTrang=this.getByte(),this.timeBaoSam=this.getByte(),this.matchId=this.getInt(),this.playerSize=this.getShort(),t=0;t<this.playerSize;t++)this.playerStatus.push(this.getByte())}},e.ReceivedDanhBai=class extends i.default{constructor(e){super(e),this.chair=0,this.cards=[],this.remainCardSize=0,this.chair=this.getByte();var t=this.getShort();this.cards=[];for(var s=0;s<t;s++)this.cards.push(this.getByte());this.remainCardSize=this.getByte()}},e.ReceivedBoluot=class extends i.default{constructor(e){super(e),this.chair=0,this.chair=this.getByte()}},e.ReceivedChangeTurn=class extends i.default{constructor(e){super(e),this.newRound=!1,this.chair=0,this.time=0,this.newRound=this.getBool(),this.chair=this.getByte(),this.time=this.getByte()}},e.ReceivedWaitBonDoiThong=class extends i.default{constructor(e){super(e),this.chair=0,this.chair=this.getByte()}},e.ReceivedNotifyRegOutRoom=class extends i.default{constructor(e){super(e),this.outChair=this.getByte(),this.isOutRoom=this.getBool(),this.reqQuitRoomReason=this.getString(),this.listSuggestionActions=this.getString()}},e.ReceivedEndGame=class extends i.default{constructor(e){super(e),this.winTypes=[],this.ketQuaTinhTienList=[],this.cards=[],this.sizeWinType=0,this.kqTinhTienSize=0,this.currentMoney=[],this.countDown=0,this.sizeWinType=this.getShort();for(var t=0;t<this.sizeWinType;t++)this.winTypes.push(this.getByte());for(this.kqTinhTienSize=this.getShort(),t=0;t<this.kqTinhTienSize;t++)this.ketQuaTinhTienList.push(this.getLong());var s=this.getShort();for(t=0;t<s;t++)this.currentMoney.push(this.getLong());var a=s;for(t=0;t<a;t++){s=this.getShort();for(var i=[],r=0;r<s;r++)i.push(n.SamCardDTO.fromCardId(this.getByte()));this.cards.push(i)}this.countDown=this.getByte()}},e.ReceivedFirstTurnDecision=class extends i.default{constructor(e){super(e),this.isRandom=!1,this.chair=0,this.cardSize=0,this.cards=[],this.playerSize=0,this.playerStatus=[],this.isRandom=this.getBool(),this.chair=this.getByte(),this.cardSize=this.getShort(),this.cards=[];for(var t=0;t<this.cardSize;t++){var s=this.getByte();this.cards.push(s)}for(this.playerSize=this.getShort(),this.playerStatus=[],t=0;t<this.playerSize;t++)this.playerStatus.push(this.getByte())}},e.ReceivedChatChong=class extends i.default{constructor(e){super(e),this.winChair=0,this.lostChair=0,this.winMoney=0,this.lostMoney=0,this.winCurrentMoney=0,this.lostCurrentMoney=0,this.winChair=this.getByte(),this.lostChair=this.getByte(),this.winMoney=this.getLong(),this.lostMoney=this.getLong(),this.winCurrentMoney=this.getLong(),this.lostCurrentMoney=this.getLong()}},e.ReceivedPingPong2=class extends i.default{constructor(e){super(e),this.id=0,this.id=this.getLong()}},e.ReceivedUserLeaveRoom=class extends i.default{constructor(e){super(e),this.chair=0,this.nickName="",this.chair=this.getByte(),this.nickName=this.getString()}},e.ReceiveUserJoinRoom=class extends i.default{constructor(e){super(e),this.info=new r.SamSlotInfo,this.uChair=0,this.uStatus=0,this.info.nickName=this.getString(),this.info.avatar=this.getString(),this.info.money=this.getLong(),this.uChair=this.getByte(),this.uStatus=this.getByte()}},e.ReceivedUpdateMatch=class extends i.default{constructor(e){super(e),this.myChair=0,this.hasInfo=[],this.infos=[],this.myChair=this.getByte();for(var t=this.getShort(),s=0;s<t;s++)this.hasInfo.push(this.getBool());for(s=0;s<t;s++){var a={money:this.hasInfo[s]?this.getLong():null,status:this.hasInfo[s]?this.getInt():null};this.infos.push(a)}}},e.ReceiveSamConfig=class extends i.default{constructor(e){super(e),this.listSize=0,this.list=[],this.listSize=this.getShort(),this.list=[];for(var t=0;t<this.listSize;t++){var s={maxUserPerRoom:this.getByte(),moneyType:this.getByte(),moneyBet:this.getLong(),moneyRequire:this.getLong(),nPersion:this.getInt()};this.list.push(s)}}},e.ReceiveNotifyRegOutRoom=class extends i.default{constructor(e){super(e),this.outChair=0,this.isOutRoom=!1,this.outChair=this.getByte(),this.isOutRoom=this.getBool()}},e.ReceivedKickOff=class extends i.default{constructor(e){super(e),this.reason=0,this.reason=this.getByte()}},e.ReceivePingPong=class extends i.default{constructor(e){super(e),this.test=0,this.test=this.getLong()}},e.ReceiveBaoSam=class extends i.default{constructor(e){super(e),this.chair=0,this.chair=this.getByte()}},e.ReceiveHuyBaoSam=class extends i.default{constructor(e){super(e),this.chair=0,this.chair=this.getByte()}},e.ReceivedQuyetDinhSam=class extends i.default{constructor(e){super(e),this.chair=0,this.isSam=!1,this.chair=this.getByte(),this.isSam=this.getBool()}},e.ReceivedChatRoom=class extends i.default{constructor(e){super(e),this.chair=this.getByte(),this.isIcon=this.getBool(),this.content=decodeURI(this.getString()),this.nickname=this.getString()}},e.ReceivedCardDefinations=class extends i.default{constructor(e){super(e),this.strData=this.getString()}}})(c=s.SamCmd||(s.SamCmd={})),s.default=c,cc._RF.pop()},{"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/Network.OutPacket":void 0,"./Sam.CardGroup":"Sam.CardGroup","./Sam.InGame":"Sam.InGame"}],"Sam.Constant":[function(e,t,s){"use strict";var a;cc._RF.push(t,"5da32KQnDBClZ6olq3CkQa3","Sam.Constant"),Object.defineProperty(s,"__esModule",{value:!0}),s.SamConstant=void 0,function(e){class t{}t.NONE=-1,t.AUTOSTART=0,t.JOINROOM=4,t.FIRSTTURN=1,t.CHIABAI=2,t.CHANGETURN=3,t.USERJOIN=5,t.DANHBAI=6,t.BOLUOT=7,t.QUIT=8,t.USERLEAVE=12,t.ENDGAME=13,t.UPDATEMATH=14,t.UPDATEOWNERROOM=15,t.PLAYCONTINUE=16,t.CHATCHONG=17,t.JACKPOT=18,t.REASONQUIT=19,t.NOTIFYOUTROOM=20,t.WAITBONDOITHONG=21,e.GameState=t;class s{}s.MAX_PLAYER=5,s.MAX_CARDS=10,e.Config=s;class a{}a.kSortTangDan=0,a.kSortGroup=1,a.kSortUnkown=2,e.SortType=a;class i{}i.MY=0,i.ENEMY=1,i.STATENONE=0,i.STATEVIEWING=1,i.STATEBAOSAM=2,e.PlayerType=i;class n{}n.NO_LOGIN=0,n.VIEW=1,n.SIT=2,n.PLAY=3,e.PlayerStatus=n;class r{}r.ERROR_MONEY=1,r.ERROR_BAO_TRI=2,e.KickReasonCodes=r}(a=s.SamConstant||(s.SamConstant={})),s.default=a,cc._RF.pop()},{}],"Sam.InGame":[function(e,t,s){"use strict";cc._RF.push(t,"41847MyakdFB7qsHvp++3gg","Sam.InGame");var a,i=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0}),s.SamSlotInfo=s.SamRoomInfoDTO=void 0;const n=e("./Sam.Player"),r=e("../../Main/Game/src/networks/SamNetworkClient"),o=e("./Sam.Cmd"),c=e("../../Main/Game/src/common/App"),l=e("./Sam.Card"),h=e("./Sam.Constant"),d=e("../../Main/Game/src/common/Utils"),u=e("../../Main/Game/src/common/Configs"),m=e("../../Main/Game/src/games/cardgames/PopupCardDefinations"),f=e("../../Main/Game/src/networks/CardGame.Cmd"),g=e("./Sam.CardGroup"),p=e("./Sam.PopupMatchResult"),C=e("./Sam.ItemPlayerResult"),S=e("../../Main/Game/src/games/cardgames/PopupChatInGame"),y=e("../../Main/Game/src/games/cardgames/PopupSettingInGame"),v=e("./Sam.PopupGuide"),I=e("../../Main/Game/src/common/Common.AudioManager"),R=e("../../Main/Game/src/common/BroadcastReceiver"),T=e("./Sam.Listener"),{ccclass:O,property:b}=cc._decorator;class _{constructor(){this.roomId=0,this.moneyBet=0,this.matchId=0,this.myChair=0,this.slotInfos=[],this.recentCards=[],this.currentTurnChair=0,this.currentTimeRemain=0,this.newRound=!1}static fromReceivedJoinRoomSuccess(e){let t=new _;return t.roomId=e.roomId,t.moneyBet=e.moneyBet,t.matchId=e.matchId,t.myChair=e.myChair,t.slotInfos=e.playerInfos,t.recentCards=[],t.currentTurnChair=e.currentChair,t.currentTimeRemain=e.countDownTime,t.newRound=!1,t}static fromReceivedUpdateGameInfo(e){let t=new _;return t.roomId=e.roomId,t.moneyBet=e.moneyBet,t.matchId=e.matchId,t.myChair=e.myChair,t.slotInfos=e.playerInfos,t.slotInfos[t.myChair].cards=e.playerCards,t.recentCards=e.recentCards,t.currentTurnChair=e.currentChair,t.currentTimeRemain=e.activeTimeRemain,t.newRound=e.newRound,t}}s.SamRoomInfoDTO=_,s.SamSlotInfo=class{constructor(){this.baoSam=!1,this.huyBaoSam=!1,this.cards=[]}};let A=a=class extends cc.Component{constructor(){super(...arguments),this.lbRoomId=null,this.lbRoomBet=null,this.lbMatchId=null,this.players=[],this.lbTimeCountDown=null,this.cardLine=null,this.board=null,this.btnsInGame=null,this.lblToast=null,this.fxMeWin=null,this.fxMeLose=null,this.fxWhoPlayFirst=null,this.btnShowCardDefinations=null,this.backgroundMusic=null,this.winSound=null,this.cardFrames=[],this.cardBackFrame=null,this.cardItem=null,this.cardsOnHand=new Map,this.buttons={},this.myChair=0,this.sortBySuit=!0,this.currTurnCards=[],this.isMyTurn=!1,this.changeTurnChair=null,this.countDown=null,this.playerUsernameByServerChair=[],this.cardDefinations=[]}static getInstance(){return this.instance}static destroyInstance(){this.instance=null}onLoad(){a.instance=this}start(){var e;null===(e=T.default.getInstance())||void 0===e||e.releasePendingCommands(),R.default.send(R.default.SET_SOUND,cc.find("Canvas")),this.btnsInGame.children.forEach(e=>{this.buttons[e.name]=e}),I.default.getInstance().playBackgroundMusicByGame(u.default.App.BUNDLE_NAME.SAM,this.backgroundMusic),this.enableCardTouch()}onDestroy(){clearInterval(this.countDown),p.default.instance=null,a.instance=null}updateRoomInfo(e){this.lbRoomId.string=e.roomId+"",this.lbRoomBet.string=d.default.formatNumber(e.moneyBet),this.lbMatchId.string=e.matchId+"",this.cleanCardLine(),this.cleanCardsOnBoard(),this.cleanCardsOnHand();for(let t=0;t<h.default.Config.MAX_PLAYER;t++)this.players[t].setAction(),this.players[t].resetPlayer();this.myChair=e.myChair,this.setPlayersInfo(e)}receivedAutoStart(e){this.btnsInGame.children.forEach(e=>e.active=!1),this.setTimeCountDown("V\xe1n \u0111\u1ea5u b\u1eaft \u0111\u1ea7u sau: ",e.autoStartTime),p.default.instance&&p.default.instance.node.active&&p.default.instance.dismiss()}receivedUserJoinRoom(e){e.uStatus!==h.default.PlayerStatus.NO_LOGIN&&(this.playerUsernameByServerChair[e.uChair]=e.info.nickName,this.players[this.convertChair(e.uChair)].setPlayerInfo(e.info),this.players[this.convertChair(e.uChair)].status=e.uStatus)}receivedUserLeaveRoom(e){let t=this.convertChair(e.chair);this.players[t].resetPlayer(),0==t&&(clearInterval(this.countDown),cc.director.loadScene("Sam"))}setPlayersInfo(e){this.playerUsernameByServerChair=[];for(let s=0;s<e.slotInfos.length;s++){let t=e.slotInfos[s],a=this.convertChair(s),i=this.players[a];i.status=t.playerStatus,i.status&&i.status!==h.default.PlayerStatus.NO_LOGIN&&(this.playerUsernameByServerChair[s]=t.nickName,i.setPlayerInfo(t),i.status==h.default.PlayerStatus.PLAY&&0!=a&&i.setCardRemain(t.cardSize))}if(e.recentCards.length>0){let t=(e.recentCards.length-1)/2,s=Math.floor(100*Math.random())-50,a=Math.floor(100*Math.random())-50;for(let i=0;i<e.recentCards.length;i++){let n=cc.instantiate(this.cardItem);n.parent=this.board,n.setScale(.6,.6),n.setPosition(30*(i-t)+s,a),n.getComponent(l.default).setCardData(e.recentCards[i])}}let t=e.slotInfos[e.myChair];0!==t.cards.length&&(this.changeTurnChair=e.currentTurnChair,this.players.forEach(e=>e.setTimeRemain(0)),this.players[this.changeTurnChair].setTimeRemain(e.currentTimeRemain),0==this.changeTurnChair&&(this.setActiveButtons(["bt_submit_turn","bt_pass_turn"],[!0,!0]),this.isMyTurn=!0),e.newRound&&(this.cleanCardsOnBoard(),this.currTurnCards=[],this.isMyTurn=!1,this.players.filter(e=>e.active).forEach(e=>e.setAction())),this.cardLine.active=!0,this.setCardsOnHand(this.sortCards(t.cards)),this.setActiveButtons(["bt_sort"],[!0]))}receivedFirstTurnDecision(e){this.cleanCardLine(),e.cards.forEach((t,s)=>{let a=this.players[this.convertChair(s)];a.status=e.playerStatus[s],a.isPlaying()&&a.setFirstCard(t)}),this.players.filter(e=>e.isPlaying()).forEach((e,t)=>{const s=0===t?this.board.parent.convertToNodeSpaceAR(e.node.parent.convertToWorldSpaceAR(e.node.getPosition())):e.node.getPosition(),a=cc.instantiate(this.cardItem);a.parent=this.node,a.getComponent(l.default).setCardFrame(52),a.runAction(cc.sequence(cc.delayTime(.5+.05*t),cc.spawn(cc.moveTo(.2,s),cc.scaleTo(.2,.76)),cc.delayTime(1),cc.callFunc(()=>{a.destroy()})))})}receivedDealCard(e){this.lbMatchId.string=e.matchId+"",this.setCardsOnHand(this.sortCards(e.cards)),e.toiTrang,this.players.filter(e=>e.isPlaying()).forEach(e=>e.offFirstCard()),this.players.filter(e=>e.isPlaying()).filter(e=>!e.isMe()).forEach(t=>t.setCardRemain(e.cardSize)),this.setActiveButtons(["bt_sort","bt_sam","bt_huy_sam"],[!0,!0,!0]),this.players.filter(e=>e.isPlaying()).forEach(t=>t.setTimeRemain(e.timeBaoSam)),this.disableCardTouch(),this.enableCardTouch()}receivedChangeTurn(e){const t=this.convertChair(e.chair);this.changeTurnChair=t,this.players.forEach(e=>e.setTimeRemain(0)),this.players[t].setTimeRemain(e.time),0==t&&(this.setActiveButtons(["bt_submit_turn","bt_pass_turn"],[!0,!0]),this.isMyTurn=!0),e.newRound&&(this.cleanCardsOnBoard(),this.currTurnCards=[],this.isMyTurn=!1,this.players.filter(e=>e.active).forEach(e=>e.setAction()))}receivedSubmitTurn(e){this.setActiveButtons(["bt_submit_turn","bt_pass_turn"],[!1,!1]);let t=this.sortCards(g.SamCardGroup.indexsToCards(e.cards)),s=0;switch(t.forEach(e=>{e.isHeo&&s++}),s){case 1:this.setTextFirst("Heo!");break;case 2:this.setTextFirst("\u0110\xf4i Heo!");break;case 3:this.setTextFirst("Ba con Heo!");break;case 4:this.setTextFirst("T\u1ee9 qu\xfd Heo!")}let a=(t.length-1)/2,i=Math.floor(100*Math.random())-50,n=Math.floor(100*Math.random())-50,r=this.convertChair(e.chair),o=this.players[r];if(o.isMe())t.forEach((e,t)=>{let s=this.cardsOnHand.get(e.id),r=s.parent.convertToWorldSpaceAR(s.position);r=this.board.convertToNodeSpaceAR(r),s.parent=this.board,s.setPosition(r),s.runAction(cc.moveTo(.2,cc.v2(30*(t-a)+i,n))),s.runAction(cc.scaleTo(.2,.6,.6)),this.cardsOnHand.delete(e.id)}),this.moveAllCardOnHand();else{let s=o.node.parent.convertToWorldSpaceAR(o.node.position);s=this.board.convertToNodeSpaceAR(s),t.forEach((e,t)=>{let r=cc.instantiate(this.cardItem);r.parent=this.board,r.setScale(.6,.6),r.setPosition(s),r.runAction(cc.moveTo(.2,cc.v2(30*(t-a)+i,n))),r.getComponent(l.default).setCardData(e)}),o.setCardRemain(e.remainCardSize),this.currTurnCards=t}this.board.children.forEach((e,t)=>{e.zIndex=this.board.zIndex+t})}receivedPassTurn(e){this.players[this.convertChair(e.chair)].setAction("B\u1ecf l\u01b0\u1ee3t"),this.setActiveButtons(["bt_submit_turn","bt_pass_turn"],[!1,!1])}sortCards(e){return this.sortBySuit?new g.SamCardGroup(e).getOrderedBySuit():g.SamCardGroup.sortCards(e)}setCardsOnHand(e){e.forEach(e=>{let t=cc.instantiate(this.cardItem);t.parent=this.cardLine,t.getComponent(l.default).setCardData(e,this.onCardSelectCallback.bind(this)),this.cardsOnHand.set(e.id,t)}),this.sortCardsOnHand(e)}onCardSelectCallback(e){const t=this.detectSuggestionCards(e);for(let s=0;s<t.length;s++)for(let a=0;a<t[s].length;a++)g.SamCardGroup.cardToIndex(e)==g.SamCardGroup.cardToIndex(t[s][a])&&this.setToggleCardsOnHand(t[s])}detectSuggestionCards(e){var t=this.getCardDTOsOnHand();if(this.isMyTurn){if(1===this.currTurnCards.length&&this.currTurnCards[0].isHeo){const s=[...this.cardsOnHand.values()].map(e=>e.getComponent(l.default)).filter(e=>e.isSelect()).map(e=>e.getCardDTO());return new g.SamCardGroup(t).detectSuggestionBySelectedCards(s,e,!0)}return new g.SamCardGroup(t).detectSuggestionByCurrentTurnCards(this.currTurnCards,e)}const s=[...this.cardsOnHand.values()].map(e=>e.getComponent(l.default)).filter(e=>e.isSelect()).map(e=>e.getCardDTO());return new g.SamCardGroup(t).detectSuggestionBySelectedCards(s,e)}getCardDTOsOnHand(){var e=[];return this.cardsOnHand.forEach(t=>{const s=t.getComponent(l.default);e.push(s.getCardDTO())}),e}setToggleCardsOnHand(e=null){this.cardsOnHand.forEach(e=>{e.getComponent(l.default).deSelect()}),e&&e.forEach(e=>{this.cardsOnHand.get(e.id).getComponent(l.default).select()})}cleanCardsOnHand(){this.cardsOnHand.clear()}cleanCardsOnBoard(){this.board.removeAllChildren()}cleanCardLine(){this.cardLine.removeAllChildren(),this.players.forEach(e=>e.clearCardLine())}cleanAllCard(){this.node.runAction(cc.sequence(cc.callFunc(()=>{for(let e=1;e<this.players.length;e++)this.players[e].active&&this.effectClean(this.players[e].cardLine.children);this.effectClean(this.cardLine.children)}),cc.delayTime(2),cc.callFunc(()=>{this.cleanCardsOnHand(),this.cleanCardLine(),this.cleanCardsOnBoard()})))}effectClean(e){for(let t=e.length-1;t>=0;t--){let s=e[t],a=s.parent.convertToWorldSpaceAR(s.position);a=this.board.convertToNodeSpaceAR(a),s.parent=this.board,s.setPosition(a);let i=Math.floor(100*Math.random())-50,n=Math.floor(100*Math.random())-50;s.runAction(cc.sequence(cc.delayTime(.1*t),cc.spawn(cc.moveTo(.2,cc.v2(i,n)),cc.scaleTo(.2,.6,.6))))}}sortCardsOnHand(e){e.forEach((e,t)=>{const s=this.cardsOnHand.get(e.id);s.zIndex=this.cardLine.zIndex+t,s.setSiblingIndex(t)}),this.moveAllCardOnHand()}setActiveButtons(e,t){for(let s=0;s<e.length;s++)this.buttons[e[s]]&&(this.buttons[e[s]].active=t[s])}actSubmitTurn(){let e=[];this.cardLine.children.forEach(t=>{let s=t.getComponent(l.default);s.isSelect()&&e.push(s.getCardDTO())}),this.sendSubmitTurn(e),this.isMyTurn=!1}actPassTurn(){this.sendPassTurn(),this.isMyTurn=!1}actSort(){this.cardLine.children.forEach(e=>e.stopAllActions()),this.sortBySuit=!this.sortBySuit;let e=this.getCardDTOsOnHand();e=this.sortCards(e),this.setToggleCardsOnHand(),this.sortCardsOnHand(e)}sendSubmitTurn(e){r.default.getInstance().send(new o.default.SendDanhBai(!1,g.SamCardGroup.cardsToIndexs(e)))}sendPassTurn(){r.default.getInstance().send(new o.default.SendBoLuot(!0))}actBaoSam(){r.default.getInstance().send(new o.default.SendBaoSam)}actHuyBaoSam(){r.default.getInstance().send(new o.default.SendHuyBaoSam)}receivedBaoSam(e){let t=this.convertChair(e.chair),s=this.players[t];s.setTimeRemain(0),s.setAction("B\xe1o S\xe2m"),e.chair==this.myChair&&this.setActiveButtons(["bt_sam","bt_huy_sam"],[!1,!1])}receivedHuyBaoSam(e){let t=this.convertChair(e.chair),s=this.players[t];s.setTimeRemain(0),s.setAction("H\u1ee7y S\xe2m"),e.chair==this.myChair&&this.setActiveButtons(["bt_sam","bt_huy_sam"],[!1,!1])}onQuyetDinhSam(e){if(this.setActiveButtons(["bt_sam","bt_huy_sam"],[!1,!1]),e.isSam){let t=this.convertChair(e.chair),s=this.players[t];this.showToast(s.info.nickName+" \u0111\u01b0\u1ee3c quy\u1ec1n b\xe1o s\xe2m")}}receivedEndGame(e){this.disableCardTouch(),this.players.forEach(e=>e.setTimeRemain(0));const t=e.ketQuaTinhTienList;for(let s=0;s<t.length;s++){const a=this.convertChair(s);this.players[a].setCoinChange(t[s]),this.players[a].setCoin(e.currentMoney[s]),0===a&&(u.default.Login.Coin=e.currentMoney[s],this.fxMeWin.active=t[s]>0,this.fxMeLose.active=t[s]<0,t[s]>0&&I.default.getInstance().playEffectByGame(u.default.App.BUNDLE_NAME.SAM,this.winSound))}e.cards.forEach((e,t)=>{const s=this.convertChair(t);0!==s&&this.players[s].status===h.default.PlayerStatus.PLAY&&(this.players[s].setCardLine(e),this.players[s].setCardRemain(0))}),this.setActiveButtons(["bt_sort"],[!1]),this.scheduleOnce(()=>{this.setTimeCountDown("V\xe1n \u0111\u1ea5u k\u1ebft th\xfac sau: ",0==e.countDown?10:e.countDown-6)},0==e.countDown?0:4),this.scheduleOnce(()=>{this.cleanAllCard(),this.players.forEach(e=>e.setAction())},0==e.countDown?5:9),r.default.getInstance().send(new o.default.SendReadyAutoStart),this.scheduleOnce(()=>{this.fxMeWin.active=!1,this.fxMeLose.active=!1;let s=[];t.forEach((t,a)=>{if(0!==t){let i=new C.SamResult;i.userName=this.playerUsernameByServerChair[a],i.goldChange=t,i.cards=e.cards[a],i.winTypes=e.winTypes[a],s.push(i)}}),s.sort((e,t)=>e.cards.length-t.cards.length).forEach((e,t)=>e.rank=t),p.default.createAndShow(this.node,s)},4)}receivedUpdateMatch(e){this.myChair=e.myChair;for(let t=0;t<e.hasInfo.length;t++){if(!e.hasInfo[t])continue;let s=this.convertChair(t);this.players[s].status=e.infos[t].status,this.players[s].setCoin(e.infos[t].money)}}receivedNotifyUserRegOutRoom(e){let t=e.outChair,s=e.isOutRoom,a=this.convertChair(t);-1!==a&&this.players[a].setNotify(s?"S\u1eafp r\u1eddi b\xe0n !":"Kh\xf4 M\xe1u !")}receivedChatChong(e){let t=e.winChair,s=e.lostChair,a=e.winMoney,i=e.lostMoney,n=e.winCurrentMoney,r=e.lostCurrentMoney;this.scheduleOnce(()=>{let e=this.convertChair(t),o=this.convertChair(s);this.players[e].setCoinChange(a),this.players[o].setCoinChange(i),this.players[e].setCoin(n),this.players[o].setCoin(r),this.scheduleOnce(()=>{this.players[e].setAction(""),this.players[o].setAction("")},2)},1)}receivedChatRoom(e){const t=this.convertChair(e.chair),s=e.content;e.isIcon?this.players[t].showChatEmotion(s):this.players[t].showChatMsg(s)}setTextFirst(e){this.fxWhoPlayFirst.active=!0,this.fxWhoPlayFirst.scale=0,this.fxWhoPlayFirst.opacity=0,this.fxWhoPlayFirst.stopAllActions(),this.fxWhoPlayFirst.runAction(cc.sequence(cc.spawn(cc.scaleTo(.2,1).easing(cc.easeBackOut()),cc.fadeIn(.2)),cc.delayTime(1.5),cc.callFunc(()=>{this.fxWhoPlayFirst.active=!1}))),this.fxWhoPlayFirst.children[0].getComponent(cc.Label).string=e}convertChair(e){return(e-this.myChair+h.default.Config.MAX_PLAYER)%h.default.Config.MAX_PLAYER}showToast(e){this.lblToast.string=e;let t=this.lblToast.node.parent;t.stopAllActions(),t.active=!0,t.opacity=0,t.runAction(cc.sequence(cc.fadeIn(.1),cc.delayTime(2),cc.fadeOut(.2),cc.callFunc(()=>{t.active=!1})))}onKickFromRoom(e){this.players[0].resetPlayer(),cc.director.loadScene("Sam",()=>{switch(e){case h.default.KickReasonCodes.ERROR_MONEY:c.default.instance.actiontDialog.showMsgWithAction("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.","N\u1ea0P NGAY",()=>{c.default.instance.openShop(0)});break;case h.default.KickReasonCodes.ERROR_BAO_TRI:c.default.instance.alertDialog.showMsg("H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!");break;default:c.default.instance.alertDialog.showMsg("B\u1ea1n b\u1ecb kick kh\u1ecfi b\xe0n ch\u01a1i!")}})}setTimeCountDown(e,t){this.lbTimeCountDown.string=e+""+t+"s",this.lbTimeCountDown.node.parent.active=!0,clearInterval(this.countDown),this.countDown=setInterval(()=>{--t<0?(clearInterval(this.countDown),this.lbTimeCountDown.node.parent.active=!1):this.lbTimeCountDown.string=e+""+t+"s"},1e3)}findTouchedCard(e){for(let t=this.cardLine.children.length-1;t>=0;t--)if(this.cardLine.children[t].getBoundingBoxToWorld().contains(e))return t}moveAllCardOnHand(){this.cardLine.children.forEach((e,t)=>{e.runAction(cc.moveTo(.2,this.getCardPosition(this.cardLine.children.length,t)))})}getCardPosition(e,t){let s=this.cardLine.position.x-45*(e-1)/2+45*t;return cc.v2(s,0)}swapCard(e,t){this.node.runAction(cc.spawn(cc.callFunc(()=>{let s=this.cardLine.children[t].getComponent(l.default).getCardDTO().id;this.cardsOnHand.get(s).setSiblingIndex(e)}),cc.callFunc(()=>{let s=this.cardLine.children[e].getComponent(l.default).getCardDTO().id;this.cardsOnHand.get(s).setSiblingIndex(t)})))}enableCardTouch(){let e=null,t=null,s=null,a=!1;this.node.on(cc.Node.EventType.TOUCH_START,s=>{let a=cc.v2(s.touch.getLocation());t=this.findTouchedCard(a);let i=this.cardLine.children[t];e=i},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,i=>{let n=i.touch.getDelta();if(s+=Math.sqrt(Math.pow(n.x,2)),null!=e){if(a=!1,e.x+=n.x,n.x<0&&null!=this.cardLine.children[t-1]&&e.x<=this.cardLine.children[t-1].x+20){let s=this.cardLine.children[t-1],a=this.getCardPosition(this.cardLine.children.length,t-1);s.getComponent(l.default).moveCard(.2,cc.v2(a.x+45,0)),s.zIndex++,e.zIndex--,this.swapCard(t,t-1),t--}if(n.x>0&&null!=this.cardLine.children[t+1]&&e.x>=this.cardLine.children[t+1].x-20){let s=this.cardLine.children[t+1],a=this.getCardPosition(this.cardLine.children.length,t+1);s.getComponent(l.default).moveCard(.2,cc.v2(a.x-45,0)),s.zIndex--,e.zIndex++,this.swapCard(t,t+1),t++}}s>30&&(a=!0)},this),this.node.on(cc.Node.EventType.TOUCH_END,()=>{if(s=0,null!=e){let s=this.getCardPosition(this.cardLine.children.length,t);e.getComponent(l.default).moveCard(.2,s),a||e.getComponent(l.default).onSelect(),a=!1}e=null},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,()=>{if(s=0,null!=e){let s=this.getCardPosition(this.cardLine.children.length,t);e.getComponent(l.default).moveCard(.2,s),a=!1,this.moveAllCardOnHand()}e=null},this)}disableCardTouch(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_MOVE),this.node.off(cc.Node.EventType.TOUCH_END),this.node.off(cc.Node.EventType.TOUCH_CANCEL)}getCardDefinations(){r.default.getInstance().send(new o.default.SendCardDefinations)}receivedCardDefinations(e){(JSON.parse(e.strData).object||[]).forEach(e=>this.cardDefinations.push(new f.default.CardDefination(e))),this.btnShowCardDefinations.node.active=!1}actShowCardDefinations(){m.default.createAndShow(this.node,this.cardDefinations,this.cardFrames)}actShowChat(){S.default.createAndShow(this.node,this.cardDefinations,(e,t)=>{r.default.getInstance().send(new o.default.SendChatRoom(e,t))},(e,t)=>{r.default.getInstance().send(new o.default.SendCheatCards(e,t))})}actSetting(){y.default.createAndShow(this.node,u.default.App.BUNDLE_NAME.SAM,()=>{v.default.createAndShow(this.node)},()=>{r.default.getInstance().send(new o.default.SendRequestLeaveGame)})}isMePlaying(){return this.players[0].isPlaying()}getCardFrame(e){const t=(e<10?"0":"")+e;return this.cardFrames.find(e=>e.name=="labai_"+t)}getCardBackFrame(){return this.cardBackFrame}getCardItem(){return this.cardItem}};i([b(cc.Label)],A.prototype,"lbRoomId",void 0),i([b(cc.Label)],A.prototype,"lbRoomBet",void 0),i([b(cc.Label)],A.prototype,"lbMatchId",void 0),i([b(n.default)],A.prototype,"players",void 0),i([b(cc.Label)],A.prototype,"lbTimeCountDown",void 0),i([b(cc.Node)],A.prototype,"cardLine",void 0),i([b(cc.Node)],A.prototype,"board",void 0),i([b(cc.Node)],A.prototype,"btnsInGame",void 0),i([b(cc.Label)],A.prototype,"lblToast",void 0),i([b(cc.Node)],A.prototype,"fxMeWin",void 0),i([b(cc.Node)],A.prototype,"fxMeLose",void 0),i([b(cc.Node)],A.prototype,"fxWhoPlayFirst",void 0),i([b(cc.Button)],A.prototype,"btnShowCardDefinations",void 0),i([b(cc.AudioClip)],A.prototype,"backgroundMusic",void 0),i([b(cc.AudioClip)],A.prototype,"winSound",void 0),i([b([cc.SpriteFrame])],A.prototype,"cardFrames",void 0),i([b(cc.SpriteFrame)],A.prototype,"cardBackFrame",void 0),i([b(cc.Prefab)],A.prototype,"cardItem",void 0),A=a=i([O],A),s.default=A,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Common.AudioManager":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/games/cardgames/PopupCardDefinations":void 0,"../../Main/Game/src/games/cardgames/PopupChatInGame":void 0,"../../Main/Game/src/games/cardgames/PopupSettingInGame":void 0,"../../Main/Game/src/networks/CardGame.Cmd":void 0,"../../Main/Game/src/networks/SamNetworkClient":void 0,"./Sam.Card":"Sam.Card","./Sam.CardGroup":"Sam.CardGroup","./Sam.Cmd":"Sam.Cmd","./Sam.Constant":"Sam.Constant","./Sam.ItemPlayerResult":"Sam.ItemPlayerResult","./Sam.Listener":"Sam.Listener","./Sam.Player":"Sam.Player","./Sam.PopupGuide":"Sam.PopupGuide","./Sam.PopupMatchResult":"Sam.PopupMatchResult"}],"Sam.ItemPlayerResult":[function(e,t,s){"use strict";cc._RF.push(t,"c619d4kEJFFio7veihjevMx","Sam.ItemPlayerResult");var a=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0}),s.SamResult=void 0;const i=e("../../Main/Game/src/common/Utils"),n=e("./Sam.InGame");s.SamResult=class{};const{ccclass:r,property:o}=cc._decorator;let c=class extends cc.Component{constructor(){super(...arguments),this.spRank=null,this.lbRank=null,this.labelUserName=null,this.labelMoneyChange=null,this.listCards=null,this.resultWin=null,this.resultLose=null,this.fxResult=null,this.matSprite=[],this.labelFx=null,this.prefabCard=null,this.rankFrames=[]}initItem(e){if(e.rank<this.rankFrames.length?(this.spRank.node.active=!0,this.spRank.spriteFrame=this.rankFrames[e.rank]):(this.spRank.node.active=!1,this.lbRank.string=(e.rank+1).toString()),this.labelUserName.string=e.userName,this.labelMoneyChange.string=e.goldChange>0?"+"+i.default.formatNumber(e.goldChange):i.default.formatNumber(e.goldChange),null!==e.cards&&void 0!==e.cards)for(let t=0;t<e.cards.length;t++){let s=cc.instantiate(this.prefabCard);s.getComponent(cc.Sprite).spriteFrame=n.default.getInstance().getCardFrame(e.cards[t].id),this.listCards.addChild(s)}switch(this.resultWin.active=e.winTypes<11,this.resultLose.active=!this.resultWin.active,this.fxResult.active=!1,e.winTypes){case 2:case 5:case 10:break;case 3:case 4:case 6:case 7:case 8:case 9:this.fxResult.active=!0,this.fxResult.getComponent(cc.Sprite).setMaterial(0,this.matSprite[0]),this.labelFx.node.color=cc.Color.RED,3==e.winTypes?this.labelFx.string="Th\u1eafng S\xe2m":4==e.winTypes?this.labelFx.string="Ch\u1eb7n S\xe2m":this.labelFx.string="T\u1edbi Tr\u1eafng";break;case 11:case 12:break;case 13:null!==e.cards&&void 0!==e.cards&&this.kiemtraThoiTuQuy(e.cards)&&(this.fxResult.active=!0,this.fxResult.getComponent(cc.Sprite).setMaterial(0,this.matSprite[1]),this.labelFx.node.color=cc.Color.GRAY,this.labelFx.string="Th\u1ed1i T\u1ee9 Qu\xfd"),null!==e.cards&&void 0!==e.cards&&this.kiemtraThoiHeo(e.cards)&&(this.fxResult.active=!0,this.fxResult.getComponent(cc.Sprite).setMaterial(0,this.matSprite[1]),this.labelFx.node.color=cc.Color.GRAY,this.labelFx.string="Th\u1ed1i 2");break;case 14:this.fxResult.active=!0,this.fxResult.getComponent(cc.Sprite).setMaterial(0,this.matSprite[1]),this.labelFx.node.color=cc.Color.GRAY,this.labelFx.string="C\xf3ng";break;case 15:break;case 16:this.fxResult.active=!0,this.fxResult.getComponent(cc.Sprite).setMaterial(0,this.matSprite[1]),this.labelFx.node.color=cc.Color.GRAY,this.labelFx.string="B\u1ecb Ch\u1eb7n S\xe2m"}}kiemtraThoiHeo(e){for(var t=0,s=0;s<e.length;s++)12==Math.floor(e[s].id/4)&&t++;return 0<t}kiemtraThoiTuQuy(e){if(e.sort(function(e,t){return e.id-t.id}),4<=e.length)for(var t=e.length-1,s=0;0<t;){if(Math.floor(e[t].id/4)==Math.floor(e[t-1].id/4)){if(3==++s)return!0}else s=0;t--}return!1}};a([o(cc.Sprite)],c.prototype,"spRank",void 0),a([o(cc.Label)],c.prototype,"lbRank",void 0),a([o(cc.Label)],c.prototype,"labelUserName",void 0),a([o(cc.Label)],c.prototype,"labelMoneyChange",void 0),a([o(cc.Node)],c.prototype,"listCards",void 0),a([o(cc.Node)],c.prototype,"resultWin",void 0),a([o(cc.Node)],c.prototype,"resultLose",void 0),a([o(cc.Node)],c.prototype,"fxResult",void 0),a([o(cc.Material)],c.prototype,"matSprite",void 0),a([o(cc.Label)],c.prototype,"labelFx",void 0),a([o(cc.Prefab)],c.prototype,"prefabCard",void 0),a([o([cc.SpriteFrame])],c.prototype,"rankFrames",void 0),c=a([r],c),s.default=c,cc._RF.pop()},{"../../Main/Game/src/common/Utils":void 0,"./Sam.InGame":"Sam.InGame"}],"Sam.Listener":[function(e,t,s){"use strict";cc._RF.push(t,"d5306v0VzFMmbpFxuEXMm9i","Sam.Listener");var a,i=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/App"),r=e("../../Main/Game/src/common/BroadcastReceiver"),o=e("../../Main/Game/src/common/Configs"),c=e("../../Main/Game/src/networks/Network.InPacket"),l=e("../../Main/Game/src/networks/SamNetworkClient"),h=e("./Sam.Cmd"),d=e("./Sam.InGame"),u=e("./Sam.Room"),{ccclass:m,property:f}=cc._decorator;let g=a=class extends cc.Component{constructor(){super(...arguments),this.currentRoomInfo=null,this.pendingCommands=new Map}static getInstance(){return this.instance}static destroyInstance(){this.instance=null}onLoad(){a.instance=this,cc.game.addPersistRootNode(this.node)}start(){r.default.register(r.default.USER_UPDATE_COIN,()=>{var e;null===(e=u.default.getInstance())||void 0===e||e.updateCoinPlayer()},this),r.default.register(r.default.USER_INFO_UPDATED,()=>{var e,t;null===(e=u.default.getInstance())||void 0===e||e.updateInfoPlayer(),null===(t=u.default.getInstance())||void 0===t||t.updateCoinPlayer()},this),r.default.register(r.default.USER_DISCONNECTED,()=>{l.default.getInstance().close()},this),l.default.getInstance().addOnClose(()=>{var e;(null===(e=u.default.getInstance())||void 0===e?void 0:e.isClickBack)||!o.default.Login.IsLogin?this.backToLobby():"Sam.InGame"===cc.director.getScene().name&&d.default.getInstance()&&d.default.getInstance().isMePlaying()&&l.default.getInstance().shouldAutoReconnect()?(l.default.getInstance().setLoginCallback(()=>{n.default.instance.showLoading(!1),l.default.getInstance().send(new h.default.SendJoinRoom(o.default.App.MONEY_TYPE,this.currentRoomInfo.maxUserPerRoom,this.currentRoomInfo.moneyBet,0))}),n.default.instance.showErrLoading("M\u1ea5t k\u1ebft n\u1ed1i, \u0111ang th\u1eed k\u1ebft n\u1ed1i l\u1ea1i...")):(n.default.instance.showLoading(!1),l.default.getInstance().setForceClose(!0),n.default.instance.alertDialog.showMsgWithOnDismissed("B\u1ea1n \u0111\xe3 m\u1ea5t k\u1ebft n\u1ed1i v\u1edbi server",()=>{this.backToLobby()}))},this),l.default.getInstance().addListener(e=>{var t,s,a,i,r,o,m,f,g,p,C,S,y,v,I,R,T,O,b;switch(n.default.instance.showLoading(!1),new c.default(e).getCmdId()){case h.default.Code.LOGIN:l.default.getInstance().send(new h.default.SendReconnectRoom);break;case h.default.Code.MONEY_BET_CONFIG:{let s=new h.default.ReceivedMoneyBetConfig(e);cc.log(s),null===(t=u.default.getInstance())||void 0===t||t.receivedMoneyBetConfig(s);break}case h.default.Code.JOIN_ROOM_FAIL:{let t=new h.default.ReceivedJoinRoomFail(e);cc.log(t),n.default.instance.showLoading(!1,15,h.default.Code.JOIN_ROOM),null===(s=u.default.getInstance())||void 0===s||s.receivedJoinRoomFail(t);break}case h.default.Code.JOIN_ROOM_SUCCESS:{let t=new h.default.ReceivedJoinRoomSuccess(e);cc.log(t),n.default.instance.showLoading(!1,15,h.default.Code.JOIN_ROOM),null===(a=u.default.getInstance())||void 0===a||a.receivedJoinRoomSuccess(t);break}case h.default.Code.UPDATE_GAME_INFO:{let t=new h.default.ReceivedUpdateGameInfo(e);cc.log(t),n.default.instance.showLoading(!1,15,h.default.Code.JOIN_ROOM),null===(i=u.default.getInstance())||void 0===i||i.receivedUpdateGameInfo(t);break}case h.default.Code.AUTO_START:{let t=new h.default.ReceivedAutoStart(e);cc.log(t),d.default.getInstance()?d.default.getInstance().receivedAutoStart(t):this.pendingCommands.set(h.default.Code.AUTO_START,t)}break;case h.default.Code.USER_JOIN_ROOM:{let t=new h.default.ReceiveUserJoinRoom(e);cc.log(t),d.default.getInstance()?d.default.getInstance().receivedUserJoinRoom(t):this.pendingCommands.set(h.default.Code.USER_JOIN_ROOM,t)}break;case h.default.Code.FIRST_TURN:{let t=new h.default.ReceivedFirstTurnDecision(e);cc.log(t),d.default.getInstance()?d.default.getInstance().receivedFirstTurnDecision(t):this.pendingCommands.set(h.default.Code.FIRST_TURN,t)}break;case h.default.Code.CHIA_BAI:{let t=new h.default.ReceivedChiaBai(e);cc.log(t),d.default.getInstance()?null===(r=d.default.getInstance())||void 0===r||r.receivedDealCard(t):this.pendingCommands.set(h.default.Code.CHIA_BAI,t)}break;case h.default.Code.CHANGE_TURN:{let t=new h.default.ReceivedChangeTurn(e);cc.log(t),null===(o=d.default.getInstance())||void 0===o||o.receivedChangeTurn(t)}break;case h.default.Code.DANH_BAI:{let t=new h.default.ReceivedDanhBai(e);cc.log(t),null===(m=d.default.getInstance())||void 0===m||m.receivedSubmitTurn(t)}break;case h.default.Code.BO_LUOT:{let t=new h.default.ReceivedBoluot(e);cc.log(t),null===(f=d.default.getInstance())||void 0===f||f.receivedPassTurn(t)}break;case h.default.Code.END_GAME:{let t=new h.default.ReceivedEndGame(e);cc.log(t),null===(g=d.default.getInstance())||void 0===g||g.receivedEndGame(t)}break;case h.default.Code.UPDATE_MATCH:{let t=new h.default.ReceivedUpdateMatch(e);cc.log(t),null===(p=d.default.getInstance())||void 0===p||p.receivedUpdateMatch(t)}break;case h.default.Code.USER_LEAVE_ROOM:{let t=new h.default.ReceivedUserLeaveRoom(e);cc.log(t),null===(C=d.default.getInstance())||void 0===C||C.receivedUserLeaveRoom(t)}break;case h.default.Code.RECONNECT_GAME_ROOM:break;case h.default.Code.BAO_SAM:{let t=new h.default.ReceiveBaoSam(e);cc.log(t),null===(S=d.default.getInstance())||void 0===S||S.receivedBaoSam(t)}break;case h.default.Code.HUY_BAO_SAM:{let t=new h.default.ReceiveHuyBaoSam(e);cc.log(t),null===(y=d.default.getInstance())||void 0===y||y.receivedHuyBaoSam(t)}break;case h.default.Code.QUYET_DINH_SAM:{let t=new h.default.ReceivedQuyetDinhSam(e);cc.log(t),null===(v=d.default.getInstance())||void 0===v||v.onQuyetDinhSam(t)}break;case h.default.Code.CHAT_ROOM:{let t=new h.default.ReceivedChatRoom(e);cc.log(t),null===(I=d.default.getInstance())||void 0===I||I.receivedChatRoom(t)}break;case h.default.Code.CHAT_CHONG:{let t=new h.default.ReceivedChatChong(e);cc.log(t),null===(R=d.default.getInstance())||void 0===R||R.receivedChatChong(t)}break;case h.default.Code.NOTIFY_KICK_OFF:{let t=new h.default.ReceivedKickOff(e);cc.log(t),null===(T=d.default.getInstance())||void 0===T||T.onKickFromRoom(t.reason)}break;case h.default.Code.REQUEST_LEAVE_ROOM:{let t=new h.default.ReceivedNotifyRegOutRoom(e);cc.log(t),null===(O=d.default.getInstance())||void 0===O||O.receivedNotifyUserRegOutRoom(t)}break;case h.default.Code.CARDS_DEFINE:{let t=new h.default.ReceivedCardDefinations(e);cc.log(t),null===(b=d.default.getInstance())||void 0===b||b.receivedCardDefinations(t)}}},this)}backToLobby(){n.default.instance.loadScene("Lobby",()=>{cc.game.removePersistRootNode(this.node),a.destroyInstance(),d.default.destroyInstance(),u.default.destroyInstance()})}setCurrentRoomInfo(e){this.currentRoomInfo=e}releasePendingCommands(){var e,t,s,a;for(const[i,n]of this.pendingCommands.entries())switch(i){case h.default.Code.AUTO_START:null===(e=d.default.getInstance())||void 0===e||e.receivedAutoStart(n);break;case h.default.Code.USER_JOIN_ROOM:null===(t=d.default.getInstance())||void 0===t||t.receivedUserJoinRoom(n);break;case h.default.Code.FIRST_TURN:null===(s=d.default.getInstance())||void 0===s||s.receivedFirstTurnDecision(n);break;case h.default.Code.CHIA_BAI:null===(a=d.default.getInstance())||void 0===a||a.receivedDealCard(n)}this.pendingCommands.clear()}clearPendingCommands(){this.pendingCommands.clear()}};g.instance=null,g=a=i([m],g),s.default=g,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/networks/Network.InPacket":void 0,"../../Main/Game/src/networks/SamNetworkClient":void 0,"./Sam.Cmd":"Sam.Cmd","./Sam.InGame":"Sam.InGame","./Sam.Room":"Sam.Room"}],"Sam.Player":[function(e,t,s){"use strict";cc._RF.push(t,"46f022AtZRFgKu5pOoSxK3G","Sam.Player");var a=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const i=e("../../Main/Game/src/common/Utils"),n=e("../../Main/Game/src/common/App"),r=e("./Sam.Card"),o=e("./Sam.Constant"),c=e("./Sam.InGame"),l=e("../../Main/Game/src/common/Configs"),{ccclass:h,property:d}=cc._decorator;let u=class extends cc.Component{constructor(){super(...arguments),this.chatEmotion=null,this.chatMsg=null,this.lblNickname=null,this.lblCoin=null,this.avatar=null,this.card=null,this.lblCardRemain=null,this.timeRemain=null,this.lbAction=null,this.cardLine=null,this.active=!1,this.status=0,this.info=null,this.timeTurn=0}setPlayerInfo(e){this.lblNickname.string=e.nickName,this.setCoin(e.money),this.avatar.spriteFrame=n.default.instance.getAvatarSpriteFrame(e.avatar),this.node.active=!0,this.active=!0,this.info=e}setFirstCard(e){this.card.spriteFrame=c.default.getInstance().getCardFrame(e),this.card.node.active=!0,this.lblCardRemain.node.active=!1}offFirstCard(){this.card.node.active=!1,this.card.spriteFrame=c.default.getInstance().getCardBackFrame()}setCardRemain(e){0!=e?(this.card.node.active=!0,null===this.card.spriteFrame&&(this.card.spriteFrame=c.default.getInstance().getCardBackFrame()),this.lblCardRemain.node.active=!0,this.lblCardRemain.string=e.toString(),1==e&&this.setAction("B\xe1o")):this.card.node.active=!1}setTimeRemain(e){this.timeTurn=e,this.timeRemain.fillRange=this.timeTurn/20}update(e){this.timeTurn>0&&(this.timeTurn-=e,this.timeRemain.fillRange=this.timeTurn/20)}setAction(e=""){this.lbAction.string=e}setCoin(e){this.lblCoin.string=i.default.formatNumber(e)}setCoinChange(e){0!==e&&(this.lbAction.string=(e>0?"+":"")+i.default.formatNumber(e))}resetPlayer(){this.node.active=!1,this.active=!1,this.status=o.default.PlayerStatus.NO_LOGIN,this.lblCardRemain.string="",this.card.node.active=!1,this.clearCardLine(),this.setAction()}setCardLine(e){let t=this.cardLine.getComponent(cc.Layout);t.type==cc.Layout.Type.VERTICAL&&(e.length>5?(t.resizeMode=cc.Layout.ResizeMode.CHILDREN,t.node.height=500):t.resizeMode=cc.Layout.ResizeMode.CONTAINER),e.forEach(e=>{var t=cc.instantiate(c.default.getInstance().getCardItem());t.parent=this.cardLine,t.removeComponent(cc.Button),t.getComponent(r.default).setCardData(e)})}clearCardLine(){this.cardLine.removeAllChildren()}showChatEmotion(e){this.chatEmotion.active=!0,this.chatMsg.active=!1,this.chatEmotion.getComponent(sp.Skeleton).setAnimation(0,e,!0),this.scheduleOnce(()=>{this.chatEmotion.active=!1,this.chatMsg.active=!1},3)}showChatMsg(e){this.chatEmotion.active=!1,this.chatMsg.active=!0,this.chatMsg.children[1].getComponent(cc.Label).string=e,this.scheduleOnce(()=>{this.chatEmotion.active=!1,this.chatMsg.active=!1},3)}setNotify(e){this.lbAction.string=e,this.scheduleOnce(()=>{this.lbAction.string=""},1)}isPlaying(){return this.active&&this.status==o.default.PlayerStatus.PLAY}isMe(){return this.lblNickname.string===l.default.Login.Nickname}};a([d(cc.Node)],u.prototype,"chatEmotion",void 0),a([d(cc.Node)],u.prototype,"chatMsg",void 0),a([d(cc.Label)],u.prototype,"lblNickname",void 0),a([d(cc.Label)],u.prototype,"lblCoin",void 0),a([d(cc.Sprite)],u.prototype,"avatar",void 0),a([d(cc.Sprite)],u.prototype,"card",void 0),a([d(cc.Label)],u.prototype,"lblCardRemain",void 0),a([d(cc.Sprite)],u.prototype,"timeRemain",void 0),a([d(cc.Label)],u.prototype,"lbAction",void 0),a([d(cc.Node)],u.prototype,"cardLine",void 0),u=a([h],u),s.default=u,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Utils":void 0,"./Sam.Card":"Sam.Card","./Sam.Constant":"Sam.Constant","./Sam.InGame":"Sam.InGame"}],"Sam.PopupGuide":[function(e,t,s){"use strict";cc._RF.push(t,"cdf8aCse0NIZYhEmihn/b9r","Sam.PopupGuide");var a,i=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/App"),r=e("../../Main/Game/src/common/Configs"),o=e("../../Main/Game/src/common/Dialog"),{ccclass:c,property:l}=cc._decorator;let h=a=class extends o.default{constructor(){super(...arguments),this.scrollPopupGuide=null}static createAndShow(e){null==this.instance||null==this.instance.node?n.default.instance.loadPrefabInBundle(r.default.App.BUNDLE_NAME.SAM,r.default.App.UPDATE_INFO[r.default.App.BUNDLE_NAME.SAM],!0,"res/prefabs/SamPopupGuide",(t,s)=>{if(null!=t)return void n.default.instance.alertDialog.showMsg(t);let i=cc.instantiate(s);i.parent=e,this.instance=i.getComponent(a),this.instance.show()}):this.instance.show()}show(){let e=this.scrollPopupGuide.content.getComponentsInChildren(cc.Label);e[0].string="LU\u1eacT CH\u01a0I:",e[1].string="\u2022 T\u01b0\u01a1ng t\u1ef1 nh\u01b0 Ti\u1ebfn l\xean \u0111\u1ebfm l\xe1 nh\u01b0ng T\u1ee9 qu\xfd ch\u1ec9 c\xf3 th\u1ec3 ch\u1eb7t 1 qu\xe2n 2, kh\xf4ng \u0111\u01b0\u1ee3c v\u1ec1 b\u1eb1ng qu\xe2n 2.\n\u2022 Khi ng\u01b0\u1eddi ch\u01a1i c\xf2n 1 l\xe1 b\xe0i tr\xean tay s\u1ebd \u201cB\xe1o 1\u201d, nh\u1eefng ng\u01b0\u1eddi c\xf2n l\u1ea1i kh\xf4ng ra l\xe1 b\xe0i l\u1edbn nh\u1ea5t m\xecnh c\xf3 \u0111\u1ec3 ch\u1eb7n ng\u01b0\u1eddi \u201cB\xe1o 1\u201d v\u1ec1, s\u1ebd b\u1ecb ph\u1ea1t, \u0111\u1ec1n ti\u1ec1n cho nh\u1eefng ng\u01b0\u1eddi ch\u01a1i kh\xe1c.\n\n",e[2].string="T\xcdNH TI\u1ec0N:",e[3].string="\u2022 M\u1ed7i l\xe1 b\xe0i \u0111\u01b0\u1ee3c t\xednh b\u1eb1ng 1 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c.\n\u2022 \u0102n Tr\u1eafng: \u0102n m\u1ed7i ng\u01b0\u1eddi ch\u01a1i c\xf2n l\u1ea1i 30 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c.\n\u2022 Th\u1eafng b\xecnh th\u01b0\u1eddng: S\u1ed1 l\xe1 c\xf2n l\u1ea1i X M\u1ee9c c\u01b0\u1ee3c (T\xednh 2 v\xe0 T\u1ee9 Qu\xfd n\u1ebfu c\xf3).\n\u2022 C\xf3ng: Ph\u1ea1t 20 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c (T\xednh 2 v\xe0 T\u1ee9 Qu\xfd n\u1ebfu c\xf3).\n\u2022 B\xe1o S\xe2m: \u0102n m\u1ed7i ng\u01b0\u1eddi ch\u01a1i 30 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c (Kh\xf4ng ph\u1ea1t th\xeam 2 v\xe0 h\xe0ng).\n\u2022 B\xe1o S\xe2m th\u1ea5t b\u1ea1i: Ph\u1ea1t 30 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c x s\u1ed1 ng\u01b0\u1eddi ch\u01a1i.\n\u2022 T\u1ee9 Qu\xfd ch\u1eb7t 2 : Thua 20 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c.\n\u2022 T\u1ee9 Qu\xfd ch\u1eb7t T\u1ee9 qu\xfd : Thua 20 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c cho 1 b\u1ed9.\n\u2022 T\u1ee9 Qu\xfd ch\u1eb7t ch\u1ed3ng : Thua 20 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c cho m\u1ed7i l\u01b0\u1ee3t.\n\u2022 Th\u1ed1i Heo: Thua 10 l\u1ea7n ti\u1ec1n c\u01b0\u1ee3c cho 1 con.\n\u2022 Th\u1ed1i T\u1ee9 qu\xfd: Thua 20 l\u1ea7n ti\u1ec1n.",super.show(),this.scrollPopupGuide.scrollToTop(0)}};h.instance=null,i([l(cc.ScrollView)],h.prototype,"scrollPopupGuide",void 0),h=a=i([c],h),s.default=h,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0}],"Sam.PopupMatchResult":[function(e,t,s){"use strict";cc._RF.push(t,"278d2KGvuhOf7KKsiTq13BJ","Sam.PopupMatchResult");var a,i=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const n=e("../../Main/Game/src/common/App"),r=e("../../Main/Game/src/common/Configs"),o=e("../../Main/Game/src/common/Dialog"),c=e("./Sam.ItemPlayerResult"),{ccclass:l,property:h}=cc._decorator;let d=a=class extends o.default{constructor(){super(...arguments),this.scrollPopupResult=null,this.prefabPlayerResult=null}static createAndShow(e,t){null==this.instance||null==this.instance.node?n.default.instance.loadPrefabInBundle(r.default.App.BUNDLE_NAME.SAM,r.default.App.UPDATE_INFO[r.default.App.BUNDLE_NAME.SAM],!0,"res/prefabs/SamPopupMatchResult",(s,i)=>{if(null!=s)return void n.default.instance.alertDialog.showMsg(s);let r=cc.instantiate(i);r.parent=e,this.instance=r.getComponent(a),this.instance.showResult(t)}):this.instance.showResult(t)}showResult(e){super.show(),this.scrollPopupResult.content.removeAllChildren(),e.forEach(e=>{let t=cc.instantiate(this.prefabPlayerResult).getComponent(c.default);t.initItem(e),this.scrollPopupResult.content.addChild(t.node)}),this.scrollPopupResult.scrollToTop(0)}};d.instance=null,i([h(cc.ScrollView)],d.prototype,"scrollPopupResult",void 0),i([h(cc.Prefab)],d.prototype,"prefabPlayerResult",void 0),d=a=i([l],d),s.default=d,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Dialog":void 0,"./Sam.ItemPlayerResult":"Sam.ItemPlayerResult"}],"Sam.Room":[function(e,t,s){"use strict";cc._RF.push(t,"a285b+cxFVMModVnDL7crxr","Sam.Room");var a,i=this&&this.__decorate||function(e,t,s,a){var i,n=arguments.length,r=n<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,s):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,s,a);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(r=(n<3?i(r):n>3?i(t,s,r):i(t,s))||r);return n>3&&r&&Object.defineProperty(t,s,r),r};Object.defineProperty(s,"__esModule",{value:!0});const n=e("../../Main/Game/src/networks/SamNetworkClient"),r=e("./Sam.Cmd"),o=e("../../Main/Game/src/common/Tween"),c=e("../../Main/Game/src/common/Configs"),l=e("../../Main/Game/src/common/Utils"),h=e("../../Main/Game/src/common/App"),d=e("./Sam.InGame"),u=e("../../Main/Game/src/games/cardgames/ItemRoom"),m=e("./Sam.Listener"),f=e("../../Main/Game/src/common/BroadcastReceiver"),{ccclass:g,property:p}=cc._decorator;let C=a=class extends cc.Component{constructor(){super(...arguments),this.scrollListRoom=null,this.roomItem=null,this.lbCoin=null,this.lbName=null,this.avatar=null,this.listRoom=[],this._isClickBack=!1}static getInstance(){return this.instance}static destroyInstance(){this.instance=null}onLoad(){a.instance=this}start(){f.default.send(f.default.SET_SOUND,cc.find("Canvas")),cc.director.preloadScene("Sam.InGame"),this.updateInfoPlayer(),this.updateCoinPlayer(),this.sendGetListRoom()}set isClickBack(e){this._isClickBack=e}get isClickBack(){return this._isClickBack}updateCoinPlayer(){o.default.numberTo(this.lbCoin,c.default.Login.Coin,.3)}updateInfoPlayer(){this.lbName.string=c.default.Login.Nickname,this.avatar.spriteFrame=h.default.instance.getAvatarSpriteFrame(c.default.Login.Avatar)}receivedMoneyBetConfig(e){this.initRooms(e.list)}initRooms(e){this.scrollListRoom.content.removeAllChildren(),[...new Set(e)].filter(e=>e.moneyType===c.default.App.MONEY_TYPE&&2===e.maxUserPerRoom).map(e=>e.moneyBet).forEach((t,s)=>{let a=0,i=0,n=0;e.forEach(e=>{e.moneyBet===t&&2==e.maxUserPerRoom&&(a+=e.nPersion,i=e.maxUserPerRoom,n=e.moneyRequire)}),this.listRoom.push(new u.RoomItemInfo(s+1,t,n,a,i))}),this.listRoom.sort((e,t)=>e.moneyBet-t.moneyBet),this.listRoom.forEach((e,t)=>{const s=cc.instantiate(this.roomItem);s.getComponent(u.default).initItem(e),s.on(cc.Node.EventType.TOUCH_END,()=>{var t;c.default.Login.Coin<e.requiredMoney?h.default.instance.actiontDialog.showMsgWithAction("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.","N\u1ea0P NGAY",()=>{h.default.instance.openShop(0)}):(h.default.instance.showLoading(!0,15,r.default.Code.JOIN_ROOM),n.default.getInstance().send(new r.default.SendJoinRoom(c.default.App.MONEY_TYPE,e.maxUserPerRoom,e.moneyBet,0)),null===(t=m.default.getInstance())||void 0===t||t.setCurrentRoomInfo(e))}),s.parent=this.scrollListRoom.content,s.y=-30;let a=.2*.7*(1===t?.8:1-Math.pow(2,-10*t));s.runAction(cc.sequence(cc.fadeOut(0),cc.delayTime(.105*(this.listRoom.length-t)),cc.spawn(cc.fadeIn(a),cc.moveTo(a,cc.v2(0,-30-85*t)).easing(cc.easeCircleActionOut()))))}),this.scrollListRoom.scrollToBottom(0),this.scrollListRoom.scrollToTop(2)}actBack(){this.isClickBack=!0,n.default.getInstance().close()}sendGetListRoom(){n.default.getInstance().send(new r.default.SendMoneyBetConfig)}actQuickPlay(){let e=this.listRoom.filter(e=>e.requiredMoney);if(e.length<=0)return void h.default.instance.actiontDialog.showMsgWithAction("S\u1ed1 d\u01b0 kh\xf4ng \u0111\u1ee7.","N\u1ea0P NGAY",()=>{h.default.instance.openShop(0)});let t=e[l.default.randomRangeInt(0,e.length)];h.default.instance.showLoading(!0,15,r.default.Code.JOIN_ROOM),n.default.getInstance().send(new r.default.SendJoinRoom(c.default.App.MONEY_TYPE,t.maxUserPerRoom,t.moneyBet,0))}actHideFullyRoom(e){this.scrollListRoom.content.children.forEach(t=>{t.active=!e.isChecked||t.getComponent(u.default).isFull()})}receivedJoinRoomFail(e){let t="";switch(e.error){case 1:t="L\u1ed7i ki\u1ec3m tra th\xf4ng tin!";break;case 2:t="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 3:t="B\u1ea1n kh\xf4ng \u0111\u1ee7 ti\u1ec1n v\xe0o ph\xf2ng ch\u01a1i n\xe0y!";break;case 4:t="Kh\xf4ng t\xecm \u0111\u01b0\u1ee3c ph\xf2ng th\xedch h\u1ee3p. Vui l\xf2ng th\u1eed l\u1ea1i sau!";break;case 5:t="M\u1ed7i l\u1ea7n v\xe0o ph\xf2ng ph\u1ea3i c\xe1ch nhau 10 gi\xe2y!";break;case 6:t="H\u1ec7 th\u1ed1ng b\u1ea3o tr\xec!";break;case 7:t="Kh\xf4ng t\xecm th\u1ea5y ph\xf2ng ch\u01a1i!";break;case 8:t="M\u1eadt kh\u1ea9u ph\xf2ng ch\u01a1i kh\xf4ng \u0111\xfang!";break;case 9:t="Ph\xf2ng ch\u01a1i \u0111\xe3 \u0111\u1ee7 ng\u01b0\u1eddi!";break;case 10:t="B\u1ea1n b\u1ecb ch\u1ee7 ph\xf2ng kh\xf4ng cho v\xe0o b\xe0n!"}h.default.instance.alertDialog.showMsg(t)}receivedJoinRoomSuccess(e){h.default.instance.showLoading(!0),cc.director.loadScene("Sam.InGame",t=>{var s;h.default.instance.showLoading(!1),t?null===(s=m.default.getInstance())||void 0===s||s.clearPendingCommands():d.default.getInstance().updateRoomInfo(d.SamRoomInfoDTO.fromReceivedJoinRoomSuccess(e))})}receivedUpdateGameInfo(e){h.default.instance.showLoading(!0),cc.director.loadScene("Sam.InGame",t=>{var s;h.default.instance.showLoading(!1),t?null===(s=m.default.getInstance())||void 0===s||s.clearPendingCommands():d.default.getInstance().updateRoomInfo(d.SamRoomInfoDTO.fromReceivedUpdateGameInfo(e))})}tabRoomCheckEvent(e){switch(e.node.name){case"tabAll":this.scrollListRoom.content.children.forEach(e=>{e.active=!0});break;case"tab2":this.scrollListRoom.content.children.forEach(e=>{e.active=2===e.getComponent(u.default).getRoomInfo().maxUserPerRoom});break;case"tab5":this.scrollListRoom.content.children.forEach(e=>{e.active=5===e.getComponent(u.default).getRoomInfo().maxUserPerRoom})}}};i([p(cc.ScrollView)],C.prototype,"scrollListRoom",void 0),i([p(cc.Prefab)],C.prototype,"roomItem",void 0),i([p(cc.Label)],C.prototype,"lbCoin",void 0),i([p(cc.Label)],C.prototype,"lbName",void 0),i([p(cc.Sprite)],C.prototype,"avatar",void 0),C=a=i([g],C),s.default=C,cc._RF.pop()},{"../../Main/Game/src/common/App":void 0,"../../Main/Game/src/common/BroadcastReceiver":void 0,"../../Main/Game/src/common/Configs":void 0,"../../Main/Game/src/common/Tween":void 0,"../../Main/Game/src/common/Utils":void 0,"../../Main/Game/src/games/cardgames/ItemRoom":void 0,"../../Main/Game/src/networks/SamNetworkClient":void 0,"./Sam.Cmd":"Sam.Cmd","./Sam.InGame":"Sam.InGame","./Sam.Listener":"Sam.Listener"}]},{},["Sam.Card","Sam.CardGroup","Sam.Cmd","Sam.Constant","Sam.InGame","Sam.ItemPlayerResult","Sam.Listener","Sam.Player","Sam.PopupGuide","Sam.PopupMatchResult","Sam.Room"]);